/*! For license information please see index.js.LICENSE.txt */
!function(t,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var e=r();for(var n in e)("object"==typeof exports?exports:t)[n]=e[n]}}(this,(function(){return(()=>{var t={9705:(t,r,e)=>{"use strict";var n=e(1540);function i(t){var r=[1/0,1/0,-1/0,-1/0];return n.coordEach(t,(function(t){r[0]>t[0]&&(r[0]=t[0]),r[1]>t[1]&&(r[1]=t[1]),r[2]<t[0]&&(r[2]=t[0]),r[3]<t[1]&&(r[3]=t[1])})),r}i.default=i,r.Z=i},4102:(t,r)=>{"use strict";function e(t,r,e){void 0===e&&(e={});var n={type:"Feature"};return(0===e.id||e.id)&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.properties=r||{},n.geometry=t,n}function n(t,r,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(t[0])||!p(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},r,n)}function i(t,r,n){void 0===n&&(n={});for(var i=0,o=t;i<o.length;i++){var a=o[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:t},r,n)}function o(t,r,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:t},r,n)}function a(t,r){void 0===r&&(r={});var e={type:"FeatureCollection"};return r.id&&(e.id=r.id),r.bbox&&(e.bbox=r.bbox),e.features=t,e}function s(t,r,n){return void 0===n&&(n={}),e({type:"MultiLineString",coordinates:t},r,n)}function u(t,r,n){return void 0===n&&(n={}),e({type:"MultiPoint",coordinates:t},r,n)}function f(t,r,n){return void 0===n&&(n={}),e({type:"MultiPolygon",coordinates:t},r,n)}function c(t,e){void 0===e&&(e="kilometers");var n=r.factors[e];if(!n)throw new Error(e+" units is invalid");return t*n}function l(t,e){void 0===e&&(e="kilometers");var n=r.factors[e];if(!n)throw new Error(e+" units is invalid");return t/n}function h(t){return t%(2*Math.PI)*180/Math.PI}function p(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(r,"__esModule",{value:!0}),r.earthRadius=6371008.8,r.factors={centimeters:100*r.earthRadius,centimetres:100*r.earthRadius,degrees:r.earthRadius/111325,feet:3.28084*r.earthRadius,inches:39.37*r.earthRadius,kilometers:r.earthRadius/1e3,kilometres:r.earthRadius/1e3,meters:r.earthRadius,metres:r.earthRadius,miles:r.earthRadius/1609.344,millimeters:1e3*r.earthRadius,millimetres:1e3*r.earthRadius,nauticalmiles:r.earthRadius/1852,radians:1,yards:1.0936*r.earthRadius},r.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/r.earthRadius,yards:1.0936133},r.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},r.feature=e,r.geometry=function(t,r,e){switch(void 0===e&&(e={}),t){case"Point":return n(r).geometry;case"LineString":return o(r).geometry;case"Polygon":return i(r).geometry;case"MultiPoint":return u(r).geometry;case"MultiLineString":return s(r).geometry;case"MultiPolygon":return f(r).geometry;default:throw new Error(t+" is invalid")}},r.point=n,r.points=function(t,r,e){return void 0===e&&(e={}),a(t.map((function(t){return n(t,r)})),e)},r.polygon=i,r.polygons=function(t,r,e){return void 0===e&&(e={}),a(t.map((function(t){return i(t,r)})),e)},r.lineString=o,r.lineStrings=function(t,r,e){return void 0===e&&(e={}),a(t.map((function(t){return o(t,r)})),e)},r.featureCollection=a,r.multiLineString=s,r.multiPoint=u,r.multiPolygon=f,r.geometryCollection=function(t,r,n){return void 0===n&&(n={}),e({type:"GeometryCollection",geometries:t},r,n)},r.round=function(t,r){if(void 0===r&&(r=0),r&&!(r>=0))throw new Error("precision must be a positive number");var e=Math.pow(10,r||0);return Math.round(t*e)/e},r.radiansToLength=c,r.lengthToRadians=l,r.lengthToDegrees=function(t,r){return h(l(t,r))},r.bearingToAzimuth=function(t){var r=t%360;return r<0&&(r+=360),r},r.radiansToDegrees=h,r.degreesToRadians=function(t){return t%360*Math.PI/180},r.convertLength=function(t,r,e){if(void 0===r&&(r="kilometers"),void 0===e&&(e="kilometers"),!(t>=0))throw new Error("length must be a positive number");return c(l(t,r),e)},r.convertArea=function(t,e,n){if(void 0===e&&(e="meters"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("area must be a positive number");var i=r.areaFactors[e];if(!i)throw new Error("invalid original units");var o=r.areaFactors[n];if(!o)throw new Error("invalid final units");return t/i*o},r.isNumber=p,r.isObject=function(t){return!!t&&t.constructor===Object},r.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!p(t))throw new Error("bbox must only contain numbers")}))},r.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},1540:(t,r,e)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(4102);function i(t,r,e){if(null!==t)for(var n,o,a,s,u,f,c,l,h=0,p=0,v=t.type,d="FeatureCollection"===v,g="Feature"===v,y=d?t.features.length:1,m=0;m<y;m++){u=(l=!!(c=d?t.features[m].geometry:g?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var x=0;x<u;x++){var b=0,w=0;if(null!==(s=l?c.geometries[x]:c)){f=s.coordinates;var S=s.type;switch(h=!e||"Polygon"!==S&&"MultiPolygon"!==S?0:1,S){case null:break;case"Point":if(!1===r(f,p,m,b,w))return!1;p++,b++;break;case"LineString":case"MultiPoint":for(n=0;n<f.length;n++){if(!1===r(f[n],p,m,b,w))return!1;p++,"MultiPoint"===S&&b++}"LineString"===S&&b++;break;case"Polygon":case"MultiLineString":for(n=0;n<f.length;n++){for(o=0;o<f[n].length-h;o++){if(!1===r(f[n][o],p,m,b,w))return!1;p++}"MultiLineString"===S&&b++,"Polygon"===S&&w++}"Polygon"===S&&b++;break;case"MultiPolygon":for(n=0;n<f.length;n++){for(w=0,o=0;o<f[n].length;o++){for(a=0;a<f[n][o].length-h;a++){if(!1===r(f[n][o][a],p,m,b,w))return!1;p++}w++}b++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===i(s.geometries[n],r,e))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(t,r){var e;switch(t.type){case"FeatureCollection":for(e=0;e<t.features.length&&!1!==r(t.features[e].properties,e);e++);break;case"Feature":r(t.properties,0)}}function a(t,r){if("Feature"===t.type)r(t,0);else if("FeatureCollection"===t.type)for(var e=0;e<t.features.length&&!1!==r(t.features[e],e);e++);}function s(t,r){var e,n,i,o,a,s,u,f,c,l,h=0,p="FeatureCollection"===t.type,v="Feature"===t.type,d=p?t.features.length:1;for(e=0;e<d;e++){for(s=p?t.features[e].geometry:v?t.geometry:t,f=p?t.features[e].properties:v?t.properties:{},c=p?t.features[e].bbox:v?t.bbox:void 0,l=p?t.features[e].id:v?t.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=u?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===r(o,h,f,c,l))return!1;break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(!1===r(o.geometries[n],h,f,c,l))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===r(null,h,f,c,l))return!1;h++}}function u(t,r){s(t,(function(t,e,i,o,a){var s,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==r(n.feature(t,i,{bbox:o,id:a}),e,0)&&void 0}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var f=0;f<t.coordinates.length;f++){var c={type:s,coordinates:t.coordinates[f]};if(!1===r(n.feature(c,i),e,f))return!1}}))}function f(t,r){u(t,(function(t,e,o){var a=0;if(t.geometry){var s=t.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var u,f=0,c=0,l=0;return!1!==i(t,(function(i,s,h,p,v){if(void 0===u||e>f||p>c||v>l)return u=i,f=e,c=p,l=v,void(a=0);var d=n.lineString([u,i],t.properties);if(!1===r(d,e,o,v,a))return!1;a++,u=i}))&&void 0}}}))}function c(t,r){if(!t)throw new Error("geojson is required");u(t,(function(t,e,i){if(null!==t.geometry){var o=t.geometry.type,a=t.geometry.coordinates;switch(o){case"LineString":if(!1===r(t,e,i,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===r(n.lineString(a[s],t.properties),e,i,s))return!1}}}))}r.coordAll=function(t){var r=[];return i(t,(function(t){r.push(t)})),r},r.coordEach=i,r.coordReduce=function(t,r,e,n){var o=e;return i(t,(function(t,n,i,a,s){o=0===n&&void 0===e?t:r(o,t,n,i,a,s)}),n),o},r.featureEach=a,r.featureReduce=function(t,r,e){var n=e;return a(t,(function(t,i){n=0===i&&void 0===e?t:r(n,t,i)})),n},r.findPoint=function(t,r){if(r=r||{},!n.isObject(r))throw new Error("options is invalid");var e,i=r.featureIndex||0,o=r.multiFeatureIndex||0,a=r.geometryIndex||0,s=r.coordIndex||0,u=r.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),u=u||t.features[i].properties,e=t.features[i].geometry;break;case"Feature":u=u||t.properties,e=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":e=t;break;default:throw new Error("geojson is invalid")}if(null===e)return null;var f=e.coordinates;switch(e.type){case"Point":return n.point(f,u,r);case"MultiPoint":return o<0&&(o=f.length+o),n.point(f[o],u,r);case"LineString":return s<0&&(s=f.length+s),n.point(f[s],u,r);case"Polygon":return a<0&&(a=f.length+a),s<0&&(s=f[a].length+s),n.point(f[a][s],u,r);case"MultiLineString":return o<0&&(o=f.length+o),s<0&&(s=f[o].length+s),n.point(f[o][s],u,r);case"MultiPolygon":return o<0&&(o=f.length+o),a<0&&(a=f[o].length+a),s<0&&(s=f[o][a].length-s),n.point(f[o][a][s],u,r)}throw new Error("geojson is invalid")},r.findSegment=function(t,r){if(r=r||{},!n.isObject(r))throw new Error("options is invalid");var e,i=r.featureIndex||0,o=r.multiFeatureIndex||0,a=r.geometryIndex||0,s=r.segmentIndex||0,u=r.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),u=u||t.features[i].properties,e=t.features[i].geometry;break;case"Feature":u=u||t.properties,e=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":e=t;break;default:throw new Error("geojson is invalid")}if(null===e)return null;var f=e.coordinates;switch(e.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=f.length+s-1),n.lineString([f[s],f[s+1]],u,r);case"Polygon":return a<0&&(a=f.length+a),s<0&&(s=f[a].length+s-1),n.lineString([f[a][s],f[a][s+1]],u,r);case"MultiLineString":return o<0&&(o=f.length+o),s<0&&(s=f[o].length+s-1),n.lineString([f[o][s],f[o][s+1]],u,r);case"MultiPolygon":return o<0&&(o=f.length+o),a<0&&(a=f[o].length+a),s<0&&(s=f[o][a].length-s-1),n.lineString([f[o][a][s],f[o][a][s+1]],u,r)}throw new Error("geojson is invalid")},r.flattenEach=u,r.flattenReduce=function(t,r,e){var n=e;return u(t,(function(t,i,o){n=0===i&&0===o&&void 0===e?t:r(n,t,i,o)})),n},r.geomEach=s,r.geomReduce=function(t,r,e){var n=e;return s(t,(function(t,i,o,a,s){n=0===i&&void 0===e?t:r(n,t,i,o,a,s)})),n},r.lineEach=c,r.lineReduce=function(t,r,e){var n=e;return c(t,(function(t,i,o,a){n=0===i&&void 0===e?t:r(n,t,i,o,a)})),n},r.propEach=o,r.propReduce=function(t,r,e){var n=e;return o(t,(function(t,i){n=0===i&&void 0===e?t:r(n,t,i)})),n},r.segmentEach=f,r.segmentReduce=function(t,r,e){var n=e,i=!1;return f(t,(function(t,o,a,s,u){n=!1===i&&void 0===e?t:r(n,t,o,a,s,u),i=!0})),n}},2273:(t,r,e)=>{"use strict";var n=e(1662),i=e(3842),o=e(6960);const a=e(8639).orient2d;function s(t,r,e){r=Math.max(0,void 0===r?2:r),e=e||0;var i=function(t){for(var r=t[0],e=t[0],n=t[0],i=t[0],a=0;a<t.length;a++){var s=t[a];s[0]<r[0]&&(r=s),s[0]>n[0]&&(n=s),s[1]<e[1]&&(e=s),s[1]>i[1]&&(i=s)}var u=[r,e,n,i],f=u.slice();for(a=0;a<t.length;a++)o(t[a],u)||f.push(t[a]);return function(t){t.sort(x);for(var r=[],e=0;e<t.length;e++){for(;r.length>=2&&p(r[r.length-2],r[r.length-1],t[e])<=0;)r.pop();r.push(t[e])}for(var n=[],i=t.length-1;i>=0;i--){for(;n.length>=2&&p(n[n.length-2],n[n.length-1],t[i])<=0;)n.pop();n.push(t[i])}return n.pop(),r.pop(),r.concat(n)}(f)}(t),a=new n(16);a.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},a.compareMinX=function(t,r){return t[0]-r[0]},a.compareMinY=function(t,r){return t[1]-r[1]},a.load(t);for(var s,f=[],c=0;c<i.length;c++){var l=i[c];a.remove(l),s=d(l,s),f.push(s)}var h=new n(16);for(c=0;c<f.length;c++)h.insert(v(f[c]));for(var y=r*r,m=e*e;f.length;){var b=f.shift(),w=b.p,S=b.next.p,_=g(w,S);if(!(_<m)){var E=_/y;(l=u(a,b.prev.p,w,S,b.next.next.p,E,h))&&Math.min(g(l,w),g(l,S))<=E&&(f.push(b),f.push(d(l,b)),a.remove(l),h.remove(b),h.insert(v(b)),h.insert(v(b.next)))}}b=s;var k=[];do{k.push(b.p),b=b.next}while(b!==s);return k.push(b.p),k}function u(t,r,e,n,o,a,s){for(var u=new i([],f),l=t.data;l;){for(var p=0;p<l.children.length;p++){var v=l.children[p],d=l.leaf?y(v,e,n):c(e,n,v);d>a||u.push({node:v,dist:d})}for(;u.length&&!u.peek().node.children;){var g=u.pop(),m=g.node,x=y(m,r,e),b=y(m,n,o);if(g.dist<x&&g.dist<b&&h(e,m,s)&&h(n,m,s))return m}(l=u.pop())&&(l=l.node)}return null}function f(t,r){return t.dist-r.dist}function c(t,r,e){if(l(t,e)||l(r,e))return 0;var n=m(t[0],t[1],r[0],r[1],e.minX,e.minY,e.maxX,e.minY);if(0===n)return 0;var i=m(t[0],t[1],r[0],r[1],e.minX,e.minY,e.minX,e.maxY);if(0===i)return 0;var o=m(t[0],t[1],r[0],r[1],e.maxX,e.minY,e.maxX,e.maxY);if(0===o)return 0;var a=m(t[0],t[1],r[0],r[1],e.minX,e.maxY,e.maxX,e.maxY);return 0===a?0:Math.min(n,i,o,a)}function l(t,r){return t[0]>=r.minX&&t[0]<=r.maxX&&t[1]>=r.minY&&t[1]<=r.maxY}function h(t,r,e){for(var n,i,o,a,s=Math.min(t[0],r[0]),u=Math.min(t[1],r[1]),f=Math.max(t[0],r[0]),c=Math.max(t[1],r[1]),l=e.search({minX:s,minY:u,maxX:f,maxY:c}),h=0;h<l.length;h++)if(n=l[h].p,i=l[h].next.p,o=t,n!==(a=r)&&i!==o&&p(n,i,o)>0!=p(n,i,a)>0&&p(o,a,n)>0!=p(o,a,i)>0)return!1;return!0}function p(t,r,e){return a(t[0],t[1],r[0],r[1],e[0],e[1])}function v(t){var r=t.p,e=t.next.p;return t.minX=Math.min(r[0],e[0]),t.minY=Math.min(r[1],e[1]),t.maxX=Math.max(r[0],e[0]),t.maxY=Math.max(r[1],e[1]),t}function d(t,r){var e={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return r?(e.next=r.next,e.prev=r,r.next.prev=e,r.next=e):(e.prev=e,e.next=e),e}function g(t,r){var e=t[0]-r[0],n=t[1]-r[1];return e*e+n*n}function y(t,r,e){var n=r[0],i=r[1],o=e[0]-n,a=e[1]-i;if(0!==o||0!==a){var s=((t[0]-n)*o+(t[1]-i)*a)/(o*o+a*a);s>1?(n=e[0],i=e[1]):s>0&&(n+=o*s,i+=a*s)}return(o=t[0]-n)*o+(a=t[1]-i)*a}function m(t,r,e,n,i,o,a,s){var u,f,c,l,h=e-t,p=n-r,v=a-i,d=s-o,g=t-i,y=r-o,m=h*h+p*p,x=h*v+p*d,b=v*v+d*d,w=h*g+p*y,S=v*g+d*y,_=m*b-x*x,E=_,k=_;0===_?(f=0,E=1,l=S,k=b):(l=m*S-x*w,(f=x*S-b*w)<0?(f=0,l=S,k=b):f>E&&(f=E,l=S+x,k=b)),l<0?(l=0,-w<0?f=0:-w>m?f=E:(f=-w,E=m)):l>k&&(l=k,-w+x<0?f=0:-w+x>m?f=E:(f=-w+x,E=m));var M=(1-(c=0===l?0:l/k))*i+c*a-((1-(u=0===f?0:f/E))*t+u*e),A=(1-c)*o+c*s-((1-u)*r+u*n);return M*M+A*A}function x(t,r){return t[0]===r[0]?t[1]-r[1]:t[0]-r[0]}i.default&&(i=i.default),t.exports=s,t.exports.default=s},1662:function(t){t.exports=function(){"use strict";function t(t,n,i,o,a){!function t(e,n,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=n-i+1,f=Math.log(s),c=.5*Math.exp(2*f/3),l=.5*Math.sqrt(f*c*(s-c)/s)*(u-s/2<0?-1:1);t(e,n,Math.max(i,Math.floor(n-u*c/s+l)),Math.min(o,Math.floor(n+(s-u)*c/s+l)),a)}var h=e[n],p=i,v=o;for(r(e,i,n),a(e[o],h)>0&&r(e,i,o);p<v;){for(r(e,p,v),p++,v--;a(e[p],h)<0;)p++;for(;a(e[v],h)>0;)v--}0===a(e[i],h)?r(e,i,v):r(e,++v,o),v<=n&&(i=v+1),n<=v&&(o=v-1)}}(t,n,i||0,o||t.length-1,a||e)}function r(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function e(t,r){return t<r?-1:t>r?1:0}var n=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,r,e){if(!e)return r.indexOf(t);for(var n=0;n<r.length;n++)if(e(t,r[n]))return n;return-1}function o(t,r){a(t,0,t.children.length,r,t)}function a(t,r,e,n,i){i||(i=v(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=r;o<e;o++){var a=t.children[o];s(i,t.leaf?n(a):a)}return i}function s(t,r){return t.minX=Math.min(t.minX,r.minX),t.minY=Math.min(t.minY,r.minY),t.maxX=Math.max(t.maxX,r.maxX),t.maxY=Math.max(t.maxY,r.maxY),t}function u(t,r){return t.minX-r.minX}function f(t,r){return t.minY-r.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function h(t,r){return t.minX<=r.minX&&t.minY<=r.minY&&r.maxX<=t.maxX&&r.maxY<=t.maxY}function p(t,r){return r.minX<=t.maxX&&r.minY<=t.maxY&&r.maxX>=t.minX&&r.maxY>=t.minY}function v(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(r,e,n,i,o){for(var a=[e,n];a.length;)if(!((n=a.pop())-(e=a.pop())<=i)){var s=e+Math.ceil((n-e)/i/2)*i;t(r,s,e,n,o),a.push(e,s,s,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(t){var r=this.data,e=[];if(!p(t,r))return e;for(var n=this.toBBox,i=[];r;){for(var o=0;o<r.children.length;o++){var a=r.children[o],s=r.leaf?n(a):a;p(t,s)&&(r.leaf?e.push(a):h(t,s)?this._all(a,e):i.push(a))}r=i.pop()}return e},n.prototype.collides=function(t){var r=this.data;if(!p(t,r))return!1;for(var e=[];r;){for(var n=0;n<r.children.length;n++){var i=r.children[n],o=r.leaf?this.toBBox(i):i;if(p(t,o)){if(r.leaf||h(t,o))return!0;e.push(i)}}r=e.pop()}return!1},n.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var r=0;r<t.length;r++)this.insert(t[r]);return this}var e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){var n=this.data;this.data=e,e=n}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this},n.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},n.prototype.clear=function(){return this.data=v([]),this},n.prototype.remove=function(t,r){if(!t)return this;for(var e,n,o,a=this.data,s=this.toBBox(t),u=[],f=[];a||u.length;){if(a||(a=u.pop(),n=u[u.length-1],e=f.pop(),o=!0),a.leaf){var c=i(t,a.children,r);if(-1!==c)return a.children.splice(c,1),u.push(a),this._condense(u),this}o||a.leaf||!h(a,s)?n?(e++,a=n.children[e],o=!1):a=null:(u.push(a),f.push(e),e=0,n=a,a=a.children[0])}return this},n.prototype.toBBox=function(t){return t},n.prototype.compareMinX=function(t,r){return t.minX-r.minX},n.prototype.compareMinY=function(t,r){return t.minY-r.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(t){return this.data=t,this},n.prototype._all=function(t,r){for(var e=[];t;)t.leaf?r.push.apply(r,t.children):e.push.apply(e,t.children),t=e.pop();return r},n.prototype._build=function(t,r,e,n){var i,a=e-r+1,s=this._maxEntries;if(a<=s)return o(i=v(t.slice(r,e+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),(i=v([])).leaf=!1,i.height=n;var u=Math.ceil(a/s),f=u*Math.ceil(Math.sqrt(s));d(t,r,e,f,this.compareMinX);for(var c=r;c<=e;c+=f){var l=Math.min(c+f-1,e);d(t,c,l,u,this.compareMinY);for(var h=c;h<=l;h+=u){var p=Math.min(h+u-1,l);i.children.push(this._build(t,h,p,n-1))}}return o(i,this.toBBox),i},n.prototype._chooseSubtree=function(t,r,e,n){for(;n.push(r),!r.leaf&&n.length-1!==e;){for(var i=1/0,o=1/0,a=void 0,s=0;s<r.children.length;s++){var u=r.children[s],f=c(u),l=(h=t,p=u,(Math.max(p.maxX,h.maxX)-Math.min(p.minX,h.minX))*(Math.max(p.maxY,h.maxY)-Math.min(p.minY,h.minY))-f);l<o?(o=l,i=f<i?f:i,a=u):l===o&&f<i&&(i=f,a=u)}r=a||r.children[0]}var h,p;return r},n.prototype._insert=function(t,r,e){var n=e?t:this.toBBox(t),i=[],o=this._chooseSubtree(n,this.data,r,i);for(o.children.push(t),s(o,n);r>=0&&i[r].children.length>this._maxEntries;)this._split(i,r),r--;this._adjustParentBBoxes(n,i,r)},n.prototype._split=function(t,r){var e=t[r],n=e.children.length,i=this._minEntries;this._chooseSplitAxis(e,i,n);var a=this._chooseSplitIndex(e,i,n),s=v(e.children.splice(a,e.children.length-a));s.height=e.height,s.leaf=e.leaf,o(e,this.toBBox),o(s,this.toBBox),r?t[r-1].children.push(s):this._splitRoot(e,s)},n.prototype._splitRoot=function(t,r){this.data=v([t,r]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(t,r,e){for(var n,i,o,s,u,f,l,h=1/0,p=1/0,v=r;v<=e-r;v++){var d=a(t,0,v,this.toBBox),g=a(t,v,e,this.toBBox),y=(i=d,o=g,void 0,void 0,void 0,void 0,s=Math.max(i.minX,o.minX),u=Math.max(i.minY,o.minY),f=Math.min(i.maxX,o.maxX),l=Math.min(i.maxY,o.maxY),Math.max(0,f-s)*Math.max(0,l-u)),m=c(d)+c(g);y<h?(h=y,n=v,p=m<p?m:p):y===h&&m<p&&(p=m,n=v)}return n||e-r},n.prototype._chooseSplitAxis=function(t,r,e){var n=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:f;this._allDistMargin(t,r,e,n)<this._allDistMargin(t,r,e,i)&&t.children.sort(n)},n.prototype._allDistMargin=function(t,r,e,n){t.children.sort(n);for(var i=this.toBBox,o=a(t,0,r,i),u=a(t,e-r,e,i),f=l(o)+l(u),c=r;c<e-r;c++){var h=t.children[c];s(o,t.leaf?i(h):h),f+=l(o)}for(var p=e-r-1;p>=r;p--){var v=t.children[p];s(u,t.leaf?i(v):v),f+=l(u)}return f},n.prototype._adjustParentBBoxes=function(t,r,e){for(var n=e;n>=0;n--)s(r[n],t)},n.prototype._condense=function(t){for(var r=t.length-1,e=void 0;r>=0;r--)0===t[r].children.length?r>0?(e=t[r-1].children).splice(e.indexOf(t[r]),1):this.clear():o(t[r],this.toBBox)},n}()},3099:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:(t,r,e)=>{var n=e(111);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:(t,r,e)=>{var n=e(5112),i=e(30),o=e(3070),a=n("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},1530:(t,r,e)=>{"use strict";var n=e(8710).charAt;t.exports=function(t,r,e){return r+(e?n(t,r).length:1)}},5787:t=>{t.exports=function(t,r,e){if(!(t instanceof r))throw TypeError("Incorrect "+(e?e+" ":"")+"invocation");return t}},9670:(t,r,e)=>{var n=e(111);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},4019:t=>{t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:(t,r,e)=>{"use strict";var n,i=e(4019),o=e(9781),a=e(7854),s=e(111),u=e(6656),f=e(648),c=e(8880),l=e(1320),h=e(3070).f,p=e(9518),v=e(7674),d=e(5112),g=e(9711),y=a.Int8Array,m=y&&y.prototype,x=a.Uint8ClampedArray,b=x&&x.prototype,w=y&&p(y),S=m&&p(m),_=Object.prototype,E=_.isPrototypeOf,k=d("toStringTag"),M=g("TYPED_ARRAY_TAG"),A=i&&!!v&&"Opera"!==f(a.opera),O=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},T={BigInt64Array:8,BigUint64Array:8},I=function(t){if(!s(t))return!1;var r=f(t);return u(P,r)||u(T,r)};for(n in P)a[n]||(A=!1);if((!A||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},A))for(n in P)a[n]&&v(a[n],w);if((!A||!S||S===_)&&(S=w.prototype,A))for(n in P)a[n]&&v(a[n].prototype,S);if(A&&p(b)!==S&&v(b,S),o&&!u(S,k))for(n in O=!0,h(S,k,{get:function(){return s(this)?this[M]:void 0}}),P)a[n]&&c(a[n],M,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:O&&M,aTypedArray:function(t){if(I(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(v){if(E.call(w,t))return t}else for(var r in P)if(u(P,n)){var e=a[r];if(e&&(t===e||E.call(e,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,r,e){if(o){if(e)for(var n in P){var i=a[n];if(i&&u(i.prototype,t))try{delete i.prototype[t]}catch(t){}}S[t]&&!e||l(S,t,e?r:A&&m[t]||r)}},exportTypedArrayStaticMethod:function(t,r,e){var n,i;if(o){if(v){if(e)for(n in P)if((i=a[n])&&u(i,t))try{delete i[t]}catch(t){}if(w[t]&&!e)return;try{return l(w,t,e?r:A&&w[t]||r)}catch(t){}}for(n in P)!(i=a[n])||i[t]&&!e||l(i,t,r)}},isView:function(t){if(!s(t))return!1;var r=f(t);return"DataView"===r||u(P,r)||u(T,r)},isTypedArray:I,TypedArray:w,TypedArrayPrototype:S}},3331:(t,r,e)=>{"use strict";var n=e(7854),i=e(9781),o=e(4019),a=e(8880),s=e(2248),u=e(7293),f=e(5787),c=e(9958),l=e(7466),h=e(7067),p=e(1179),v=e(9518),d=e(7674),g=e(8006).f,y=e(3070).f,m=e(1285),x=e(8003),b=e(9909),w=b.get,S=b.set,_="ArrayBuffer",E="DataView",k="Wrong index",M=n.ArrayBuffer,A=M,O=n.DataView,P=O&&O.prototype,T=Object.prototype,I=n.RangeError,R=p.pack,j=p.unpack,B=function(t){return[255&t]},L=function(t){return[255&t,t>>8&255]},Y=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},N=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},F=function(t){return R(t,23,4)},X=function(t){return R(t,52,8)},C=function(t,r){y(t.prototype,r,{get:function(){return w(this)[r]}})},U=function(t,r,e,n){var i=h(e),o=w(t);if(i+r>o.byteLength)throw I(k);var a=w(o.buffer).bytes,s=i+o.byteOffset,u=a.slice(s,s+r);return n?u:u.reverse()},D=function(t,r,e,n,i,o){var a=h(e),s=w(t);if(a+r>s.byteLength)throw I(k);for(var u=w(s.buffer).bytes,f=a+s.byteOffset,c=n(+i),l=0;l<r;l++)u[f+l]=c[o?l:r-l-1]};if(o){if(!u((function(){M(1)}))||!u((function(){new M(-1)}))||u((function(){return new M,new M(1.5),new M(NaN),M.name!=_}))){for(var G,q=(A=function(t){return f(this,A),new M(h(t))}).prototype=M.prototype,z=g(M),V=0;z.length>V;)(G=z[V++])in A||a(A,G,M[G]);q.constructor=A}d&&v(P)!==T&&d(P,T);var W=new O(new A(2)),J=P.setInt8;W.setInt8(0,2147483648),W.setInt8(1,2147483649),!W.getInt8(0)&&W.getInt8(1)||s(P,{setInt8:function(t,r){J.call(this,t,r<<24>>24)},setUint8:function(t,r){J.call(this,t,r<<24>>24)}},{unsafe:!0})}else A=function(t){f(this,A,_);var r=h(t);S(this,{bytes:m.call(new Array(r),0),byteLength:r}),i||(this.byteLength=r)},O=function(t,r,e){f(this,O,E),f(t,A,E);var n=w(t).byteLength,o=c(r);if(o<0||o>n)throw I("Wrong offset");if(o+(e=void 0===e?n-o:l(e))>n)throw I("Wrong length");S(this,{buffer:t,byteLength:e,byteOffset:o}),i||(this.buffer=t,this.byteLength=e,this.byteOffset=o)},i&&(C(A,"byteLength"),C(O,"buffer"),C(O,"byteLength"),C(O,"byteOffset")),s(O.prototype,{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var r=U(this,2,t,arguments.length>1?arguments[1]:void 0);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=U(this,2,t,arguments.length>1?arguments[1]:void 0);return r[1]<<8|r[0]},getInt32:function(t){return N(U(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return N(U(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return j(U(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return j(U(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,r){D(this,1,t,B,r)},setUint8:function(t,r){D(this,1,t,B,r)},setInt16:function(t,r){D(this,2,t,L,r,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,r){D(this,2,t,L,r,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,r){D(this,4,t,Y,r,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,r){D(this,4,t,Y,r,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,r){D(this,4,t,F,r,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,r){D(this,8,t,X,r,arguments.length>2?arguments[2]:void 0)}});x(A,_),x(O,E),t.exports={ArrayBuffer:A,DataView:O}},1048:(t,r,e)=>{"use strict";var n=e(7908),i=e(1400),o=e(7466),a=Math.min;t.exports=[].copyWithin||function(t,r){var e=n(this),s=o(e.length),u=i(t,s),f=i(r,s),c=arguments.length>2?arguments[2]:void 0,l=a((void 0===c?s:i(c,s))-f,s-u),h=1;for(f<u&&u<f+l&&(h=-1,f+=l-1,u+=l-1);l-- >0;)f in e?e[u]=e[f]:delete e[u],u+=h,f+=h;return e}},1285:(t,r,e)=>{"use strict";var n=e(7908),i=e(1400),o=e(7466);t.exports=function(t){for(var r=n(this),e=o(r.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,e),u=a>2?arguments[2]:void 0,f=void 0===u?e:i(u,e);f>s;)r[s++]=t;return r}},8457:(t,r,e)=>{"use strict";var n=e(9974),i=e(7908),o=e(3411),a=e(7659),s=e(7466),u=e(6135),f=e(1246);t.exports=function(t){var r,e,c,l,h,p,v=i(t),d="function"==typeof this?this:Array,g=arguments.length,y=g>1?arguments[1]:void 0,m=void 0!==y,x=f(v),b=0;if(m&&(y=n(y,g>2?arguments[2]:void 0,2)),null==x||d==Array&&a(x))for(e=new d(r=s(v.length));r>b;b++)p=m?y(v[b],b):v[b],u(e,b,p);else for(h=(l=x.call(v)).next,e=new d;!(c=h.call(l)).done;b++)p=m?o(l,y,[c.value,b],!0):c.value,u(e,b,p);return e.length=b,e}},1318:(t,r,e)=>{var n=e(5656),i=e(7466),o=e(1400),a=function(t){return function(r,e,a){var s,u=n(r),f=i(u.length),c=o(a,f);if(t&&e!=e){for(;f>c;)if((s=u[c++])!=s)return!0}else for(;f>c;c++)if((t||c in u)&&u[c]===e)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2092:(t,r,e)=>{var n=e(9974),i=e(8361),o=e(7908),a=e(7466),s=e(5417),u=[].push,f=function(t){var r=1==t,e=2==t,f=3==t,c=4==t,l=6==t,h=7==t,p=5==t||l;return function(v,d,g,y){for(var m,x,b=o(v),w=i(b),S=n(d,g,3),_=a(w.length),E=0,k=y||s,M=r?k(v,_):e||h?k(v,0):void 0;_>E;E++)if((p||E in w)&&(x=S(m=w[E],E,b),t))if(r)M[E]=x;else if(x)switch(t){case 3:return!0;case 5:return m;case 6:return E;case 2:u.call(M,m)}else switch(t){case 4:return!1;case 7:u.call(M,m)}return l?-1:f||c?c:M}};t.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterOut:f(7)}},6583:(t,r,e)=>{"use strict";var n=e(5656),i=e(9958),o=e(7466),a=e(9341),s=Math.min,u=[].lastIndexOf,f=!!u&&1/[1].lastIndexOf(1,-0)<0,c=a("lastIndexOf"),l=f||!c;t.exports=l?function(t){if(f)return u.apply(this,arguments)||0;var r=n(this),e=o(r.length),a=e-1;for(arguments.length>1&&(a=s(a,i(arguments[1]))),a<0&&(a=e+a);a>=0;a--)if(a in r&&r[a]===t)return a||0;return-1}:u},1194:(t,r,e)=>{var n=e(7293),i=e(5112),o=e(7392),a=i("species");t.exports=function(t){return o>=51||!n((function(){var r=[];return(r.constructor={})[a]=function(){return{foo:1}},1!==r[t](Boolean).foo}))}},9341:(t,r,e)=>{"use strict";var n=e(7293);t.exports=function(t,r){var e=[][t];return!!e&&n((function(){e.call(null,r||function(){throw 1},1)}))}},3671:(t,r,e)=>{var n=e(3099),i=e(7908),o=e(8361),a=e(7466),s=function(t){return function(r,e,s,u){n(e);var f=i(r),c=o(f),l=a(f.length),h=t?l-1:0,p=t?-1:1;if(s<2)for(;;){if(h in c){u=c[h],h+=p;break}if(h+=p,t?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:l>h;h+=p)h in c&&(u=e(u,c[h],h,f));return u}};t.exports={left:s(!1),right:s(!0)}},4362:t=>{var r=Math.floor,e=function(t,o){var a=t.length,s=r(a/2);return a<8?n(t,o):i(e(t.slice(0,s),o),e(t.slice(s),o),o)},n=function(t,r){for(var e,n,i=t.length,o=1;o<i;){for(n=o,e=t[o];n&&r(t[n-1],e)>0;)t[n]=t[--n];n!==o++&&(t[n]=e)}return t},i=function(t,r,e){for(var n=t.length,i=r.length,o=0,a=0,s=[];o<n||a<i;)o<n&&a<i?s.push(e(t[o],r[a])<=0?t[o++]:r[a++]):s.push(o<n?t[o++]:r[a++]);return s};t.exports=e},5417:(t,r,e)=>{var n=e(111),i=e(3157),o=e(5112)("species");t.exports=function(t,r){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)?n(e)&&null===(e=e[o])&&(e=void 0):e=void 0),new(void 0===e?Array:e)(0===r?0:r)}},3411:(t,r,e)=>{var n=e(9670),i=e(9212);t.exports=function(t,r,e,o){try{return o?r(n(e)[0],e[1]):r(e)}catch(r){throw i(t),r}}},7072:(t,r,e)=>{var n=e(5112)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,r){if(!r&&!i)return!1;var e=!1;try{var o={};o[n]=function(){return{next:function(){return{done:e=!0}}}},t(o)}catch(t){}return e}},4326:t=>{var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},648:(t,r,e)=>{var n=e(1694),i=e(4326),o=e(5112)("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=n?i:function(t){var r,e,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,r){try{return t[r]}catch(t){}}(r=Object(t),o))?e:a?i(r):"Object"==(n=i(r))&&"function"==typeof r.callee?"Arguments":n}},9920:(t,r,e)=>{var n=e(6656),i=e(3887),o=e(1236),a=e(3070);t.exports=function(t,r){for(var e=i(r),s=a.f,u=o.f,f=0;f<e.length;f++){var c=e[f];n(t,c)||s(t,c,u(r,c))}}},8544:(t,r,e)=>{var n=e(7293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4230:(t,r,e)=>{var n=e(4488),i=/"/g;t.exports=function(t,r,e,o){var a=String(n(t)),s="<"+r;return""!==e&&(s+=" "+e+'="'+String(o).replace(i,"&quot;")+'"'),s+">"+a+"</"+r+">"}},4994:(t,r,e)=>{"use strict";var n=e(3383).IteratorPrototype,i=e(30),o=e(9114),a=e(8003),s=e(7497),u=function(){return this};t.exports=function(t,r,e){var f=r+" Iterator";return t.prototype=i(n,{next:o(1,e)}),a(t,f,!1,!0),s[f]=u,t}},8880:(t,r,e)=>{var n=e(9781),i=e(3070),o=e(9114);t.exports=n?function(t,r,e){return i.f(t,r,o(1,e))}:function(t,r,e){return t[r]=e,t}},9114:t=>{t.exports=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}}},6135:(t,r,e)=>{"use strict";var n=e(7593),i=e(3070),o=e(9114);t.exports=function(t,r,e){var a=n(r);a in t?i.f(t,a,o(0,e)):t[a]=e}},654:(t,r,e)=>{"use strict";var n=e(2109),i=e(4994),o=e(9518),a=e(7674),s=e(8003),u=e(8880),f=e(1320),c=e(5112),l=e(1913),h=e(7497),p=e(3383),v=p.IteratorPrototype,d=p.BUGGY_SAFARI_ITERATORS,g=c("iterator"),y="keys",m="values",x="entries",b=function(){return this};t.exports=function(t,r,e,c,p,w,S){i(e,r,c);var _,E,k,M=function(t){if(t===p&&I)return I;if(!d&&t in P)return P[t];switch(t){case y:case m:case x:return function(){return new e(this,t)}}return function(){return new e(this)}},A=r+" Iterator",O=!1,P=t.prototype,T=P[g]||P["@@iterator"]||p&&P[p],I=!d&&T||M(p),R="Array"==r&&P.entries||T;if(R&&(_=o(R.call(new t)),v!==Object.prototype&&_.next&&(l||o(_)===v||(a?a(_,v):"function"!=typeof _[g]&&u(_,g,b)),s(_,A,!0,!0),l&&(h[A]=b))),p==m&&T&&T.name!==m&&(O=!0,I=function(){return T.call(this)}),l&&!S||P[g]===I||u(P,g,I),h[r]=I,p)if(E={values:M(m),keys:w?I:M(y),entries:M(x)},S)for(k in E)(d||O||!(k in P))&&f(P,k,E[k]);else n({target:r,proto:!0,forced:d||O},E);return E}},7235:(t,r,e)=>{var n=e(857),i=e(6656),o=e(6061),a=e(3070).f;t.exports=function(t){var r=n.Symbol||(n.Symbol={});i(r,t)||a(r,t,{value:o.f(t)})}},9781:(t,r,e)=>{var n=e(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,r,e)=>{var n=e(7854),i=e(111),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8886:(t,r,e)=>{var n=e(8113).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},7871:t=>{t.exports="object"==typeof window},256:(t,r,e)=>{var n=e(8113);t.exports=/MSIE|Trident/.test(n)},6833:(t,r,e)=>{var n=e(8113);t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(n)},5268:(t,r,e)=>{var n=e(4326),i=e(7854);t.exports="process"==n(i.process)},1036:(t,r,e)=>{var n=e(8113);t.exports=/web0s(?!.*chrome)/i.test(n)},8113:(t,r,e)=>{var n=e(5005);t.exports=n("navigator","userAgent")||""},7392:(t,r,e)=>{var n,i,o=e(7854),a=e(8113),s=o.process,u=s&&s.versions,f=u&&u.v8;f?i=(n=f.split("."))[0]<4?1:n[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=n[1]),t.exports=i&&+i},8008:(t,r,e)=>{var n=e(8113).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,r,e)=>{var n=e(7854),i=e(1236).f,o=e(8880),a=e(1320),s=e(3505),u=e(9920),f=e(4705);t.exports=function(t,r){var e,c,l,h,p,v=t.target,d=t.global,g=t.stat;if(e=d?n:g?n[v]||s(v,{}):(n[v]||{}).prototype)for(c in r){if(h=r[c],l=t.noTargetGet?(p=i(e,c))&&p.value:e[c],!f(d?c:v+(g?".":"#")+c,t.forced)&&void 0!==l){if(typeof h==typeof l)continue;u(h,l)}(t.sham||l&&l.sham)&&o(h,"sham",!0),a(e,c,h,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:(t,r,e)=>{"use strict";e(4916);var n=e(1320),i=e(2261),o=e(7293),a=e(5112),s=e(8880),u=a("species"),f=RegExp.prototype;t.exports=function(t,r,e,c){var l=a(t),h=!o((function(){var r={};return r[l]=function(){return 7},7!=""[t](r)})),p=h&&!o((function(){var r=!1,e=/a/;return"split"===t&&((e={}).constructor={},e.constructor[u]=function(){return e},e.flags="",e[l]=/./[l]),e.exec=function(){return r=!0,null},e[l](""),!r}));if(!h||!p||e){var v=/./[l],d=r(l,""[t],(function(t,r,e,n,o){var a=r.exec;return a===i||a===f.exec?h&&!o?{done:!0,value:v.call(r,e,n)}:{done:!0,value:t.call(e,r,n)}:{done:!1}}));n(String.prototype,t,d[0]),n(f,l,d[1])}c&&s(f[l],"sham",!0)}},9974:(t,r,e)=>{var n=e(3099);t.exports=function(t,r,e){if(n(t),void 0===r)return t;switch(e){case 0:return function(){return t.call(r)};case 1:return function(e){return t.call(r,e)};case 2:return function(e,n){return t.call(r,e,n)};case 3:return function(e,n,i){return t.call(r,e,n,i)}}return function(){return t.apply(r,arguments)}}},5005:(t,r,e)=>{var n=e(857),i=e(7854),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,r){return arguments.length<2?o(n[t])||o(i[t]):n[t]&&n[t][r]||i[t]&&i[t][r]}},1246:(t,r,e)=>{var n=e(648),i=e(7497),o=e(5112)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[n(t)]}},647:(t,r,e)=>{var n=e(7908),i=Math.floor,o="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,r,e,u,f,c){var l=e+t.length,h=u.length,p=s;return void 0!==f&&(f=n(f),p=a),o.call(c,p,(function(n,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,e);case"'":return r.slice(l);case"<":a=f[o.slice(1,-1)];break;default:var s=+o;if(0===s)return n;if(s>h){var c=i(s/10);return 0===c?n:c<=h?void 0===u[c-1]?o.charAt(1):u[c-1]+o.charAt(1):n}a=u[s-1]}return void 0===a?"":a}))}},7854:(t,r,e)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e.g&&e.g)||function(){return this}()||Function("return this")()},6656:(t,r,e)=>{var n=e(7908),i={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,r){return i.call(n(t),r)}},3501:t=>{t.exports={}},842:(t,r,e)=>{var n=e(7854);t.exports=function(t,r){var e=n.console;e&&e.error&&(1===arguments.length?e.error(t):e.error(t,r))}},490:(t,r,e)=>{var n=e(5005);t.exports=n("document","documentElement")},4664:(t,r,e)=>{var n=e(9781),i=e(7293),o=e(317);t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},1179:t=>{var r=Math.abs,e=Math.pow,n=Math.floor,i=Math.log,o=Math.LN2;t.exports={pack:function(t,a,s){var u,f,c,l=new Array(s),h=8*s-a-1,p=(1<<h)-1,v=p>>1,d=23===a?e(2,-24)-e(2,-77):0,g=t<0||0===t&&1/t<0?1:0,y=0;for((t=r(t))!=t||t===1/0?(f=t!=t?1:0,u=p):(u=n(i(t)/o),t*(c=e(2,-u))<1&&(u--,c*=2),(t+=u+v>=1?d/c:d*e(2,1-v))*c>=2&&(u++,c/=2),u+v>=p?(f=0,u=p):u+v>=1?(f=(t*c-1)*e(2,a),u+=v):(f=t*e(2,v-1)*e(2,a),u=0));a>=8;l[y++]=255&f,f/=256,a-=8);for(u=u<<a|f,h+=a;h>0;l[y++]=255&u,u/=256,h-=8);return l[--y]|=128*g,l},unpack:function(t,r){var n,i=t.length,o=8*i-r-1,a=(1<<o)-1,s=a>>1,u=o-7,f=i-1,c=t[f--],l=127&c;for(c>>=7;u>0;l=256*l+t[f],f--,u-=8);for(n=l&(1<<-u)-1,l>>=-u,u+=r;u>0;n=256*n+t[f],f--,u-=8);if(0===l)l=1-s;else{if(l===a)return n?NaN:c?-1/0:1/0;n+=e(2,r),l-=s}return(c?-1:1)*n*e(2,l-r)}}},8361:(t,r,e)=>{var n=e(7293),i=e(4326),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},9587:(t,r,e)=>{var n=e(111),i=e(7674);t.exports=function(t,r,e){var o,a;return i&&"function"==typeof(o=r.constructor)&&o!==e&&n(a=o.prototype)&&a!==e.prototype&&i(t,a),t}},2788:(t,r,e)=>{var n=e(5465),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return i.call(t)}),t.exports=n.inspectSource},9909:(t,r,e)=>{var n,i,o,a=e(8536),s=e(7854),u=e(111),f=e(8880),c=e(6656),l=e(5465),h=e(6200),p=e(3501),v="Object already initialized",d=s.WeakMap;if(a||l.state){var g=l.state||(l.state=new d),y=g.get,m=g.has,x=g.set;n=function(t,r){if(m.call(g,t))throw new TypeError(v);return r.facade=t,x.call(g,t,r),r},i=function(t){return y.call(g,t)||{}},o=function(t){return m.call(g,t)}}else{var b=h("state");p[b]=!0,n=function(t,r){if(c(t,b))throw new TypeError(v);return r.facade=t,f(t,b,r),r},i=function(t){return c(t,b)?t[b]:{}},o=function(t){return c(t,b)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(r){var e;if(!u(r)||(e=i(r)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return e}}}},7659:(t,r,e)=>{var n=e(5112),i=e(7497),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},3157:(t,r,e)=>{var n=e(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},4705:(t,r,e)=>{var n=e(7293),i=/#|\.prototype\./,o=function(t,r){var e=s[a(t)];return e==f||e!=u&&("function"==typeof r?n(r):!!r)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",f=o.POLYFILL="P";t.exports=o},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},7850:(t,r,e)=>{var n=e(111),i=e(4326),o=e(5112)("match");t.exports=function(t){var r;return n(t)&&(void 0!==(r=t[o])?!!r:"RegExp"==i(t))}},408:(t,r,e)=>{var n=e(9670),i=e(7659),o=e(7466),a=e(9974),s=e(1246),u=e(9212),f=function(t,r){this.stopped=t,this.result=r};t.exports=function(t,r,e){var c,l,h,p,v,d,g,y=e&&e.that,m=!(!e||!e.AS_ENTRIES),x=!(!e||!e.IS_ITERATOR),b=!(!e||!e.INTERRUPTED),w=a(r,y,1+m+b),S=function(t){return c&&u(c),new f(!0,t)},_=function(t){return m?(n(t),b?w(t[0],t[1],S):w(t[0],t[1])):b?w(t,S):w(t)};if(x)c=t;else{if("function"!=typeof(l=s(t)))throw TypeError("Target is not iterable");if(i(l)){for(h=0,p=o(t.length);p>h;h++)if((v=_(t[h]))&&v instanceof f)return v;return new f(!1)}c=l.call(t)}for(d=c.next;!(g=d.call(c)).done;){try{v=_(g.value)}catch(t){throw u(c),t}if("object"==typeof v&&v&&v instanceof f)return v}return new f(!1)}},9212:(t,r,e)=>{var n=e(9670);t.exports=function(t){var r=t.return;if(void 0!==r)return n(r.call(t)).value}},3383:(t,r,e)=>{"use strict";var n,i,o,a=e(7293),s=e(9518),u=e(8880),f=e(6656),c=e(5112),l=e(1913),h=c("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(n=i):p=!0);var v=null==n||a((function(){var t={};return n[h].call(t)!==t}));v&&(n={}),l&&!v||f(n,h)||u(n,h,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},7497:t=>{t.exports={}},5948:(t,r,e)=>{var n,i,o,a,s,u,f,c,l=e(7854),h=e(1236).f,p=e(261).set,v=e(6833),d=e(1036),g=e(5268),y=l.MutationObserver||l.WebKitMutationObserver,m=l.document,x=l.process,b=l.Promise,w=h(l,"queueMicrotask"),S=w&&w.value;S||(n=function(){var t,r;for(g&&(t=x.domain)&&t.exit();i;){r=i.fn,i=i.next;try{r()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},v||g||d||!y||!m?b&&b.resolve?((f=b.resolve(void 0)).constructor=b,c=f.then,a=function(){c.call(f,n)}):a=g?function(){x.nextTick(n)}:function(){p.call(l,n)}:(s=!0,u=m.createTextNode(""),new y(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),t.exports=S||function(t){var r={fn:t,next:void 0};o&&(o.next=r),i||(i=r,a()),o=r}},3366:(t,r,e)=>{var n=e(7854);t.exports=n.Promise},133:(t,r,e)=>{var n=e(7392),i=e(7293);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8536:(t,r,e)=>{var n=e(7854),i=e(2788),o=n.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},8523:(t,r,e)=>{"use strict";var n=e(3099),i=function(t){var r,e;this.promise=new t((function(t,n){if(void 0!==r||void 0!==e)throw TypeError("Bad Promise constructor");r=t,e=n})),this.resolve=n(r),this.reject=n(e)};t.exports.f=function(t){return new i(t)}},1574:(t,r,e)=>{"use strict";var n=e(9781),i=e(7293),o=e(1956),a=e(5181),s=e(5296),u=e(7908),f=e(8361),c=Object.assign,l=Object.defineProperty;t.exports=!c||i((function(){if(n&&1!==c({b:1},c(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},r={},e=Symbol(),i="abcdefghijklmnopqrst";return t[e]=7,i.split("").forEach((function(t){r[t]=t})),7!=c({},t)[e]||o(c({},r)).join("")!=i}))?function(t,r){for(var e=u(t),i=arguments.length,c=1,l=a.f,h=s.f;i>c;)for(var p,v=f(arguments[c++]),d=l?o(v).concat(l(v)):o(v),g=d.length,y=0;g>y;)p=d[y++],n&&!h.call(v,p)||(e[p]=v[p]);return e}:c},30:(t,r,e)=>{var n,i=e(9670),o=e(6048),a=e(748),s=e(3501),u=e(490),f=e(317),c=e(6200)("IE_PROTO"),l=function(){},h=function(t){return"<script>"+t+"<\/script>"},p=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,r;p=n?function(t){t.write(h("")),t.close();var r=t.parentWindow.Object;return t=null,r}(n):((r=f("iframe")).style.display="none",u.appendChild(r),r.src=String("javascript:"),(t=r.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F);for(var e=a.length;e--;)delete p.prototype[a[e]];return p()};s[c]=!0,t.exports=Object.create||function(t,r){var e;return null!==t?(l.prototype=i(t),e=new l,l.prototype=null,e[c]=t):e=p(),void 0===r?e:o(e,r)}},6048:(t,r,e)=>{var n=e(9781),i=e(3070),o=e(9670),a=e(1956);t.exports=n?Object.defineProperties:function(t,r){o(t);for(var e,n=a(r),s=n.length,u=0;s>u;)i.f(t,e=n[u++],r[e]);return t}},3070:(t,r,e)=>{var n=e(9781),i=e(4664),o=e(9670),a=e(7593),s=Object.defineProperty;r.f=n?s:function(t,r,e){if(o(t),r=a(r,!0),o(e),i)try{return s(t,r,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported");return"value"in e&&(t[r]=e.value),t}},1236:(t,r,e)=>{var n=e(9781),i=e(5296),o=e(9114),a=e(5656),s=e(7593),u=e(6656),f=e(4664),c=Object.getOwnPropertyDescriptor;r.f=n?c:function(t,r){if(t=a(t),r=s(r,!0),f)try{return c(t,r)}catch(t){}if(u(t,r))return o(!i.f.call(t,r),t[r])}},1156:(t,r,e)=>{var n=e(5656),i=e(8006).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(n(t))}},8006:(t,r,e)=>{var n=e(6324),i=e(748).concat("length","prototype");r.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},5181:(t,r)=>{r.f=Object.getOwnPropertySymbols},9518:(t,r,e)=>{var n=e(6656),i=e(7908),o=e(6200),a=e(8544),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},6324:(t,r,e)=>{var n=e(6656),i=e(5656),o=e(1318).indexOf,a=e(3501);t.exports=function(t,r){var e,s=i(t),u=0,f=[];for(e in s)!n(a,e)&&n(s,e)&&f.push(e);for(;r.length>u;)n(s,e=r[u++])&&(~o(f,e)||f.push(e));return f}},1956:(t,r,e)=>{var n=e(6324),i=e(748);t.exports=Object.keys||function(t){return n(t,i)}},5296:(t,r)=>{"use strict";var e={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!e.call({1:2},1);r.f=i?function(t){var r=n(this,t);return!!r&&r.enumerable}:e},7674:(t,r,e)=>{var n=e(9670),i=e(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,r=!1,e={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),r=e instanceof Array}catch(t){}return function(e,o){return n(e),i(o),r?t.call(e,o):e.__proto__=o,e}}():void 0)},288:(t,r,e)=>{"use strict";var n=e(1694),i=e(648);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},3887:(t,r,e)=>{var n=e(5005),i=e(8006),o=e(5181),a=e(9670);t.exports=n("Reflect","ownKeys")||function(t){var r=i.f(a(t)),e=o.f;return e?r.concat(e(t)):r}},857:(t,r,e)=>{var n=e(7854);t.exports=n},2534:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9478:(t,r,e)=>{var n=e(9670),i=e(111),o=e(8523);t.exports=function(t,r){if(n(t),i(r)&&r.constructor===t)return r;var e=o.f(t);return(0,e.resolve)(r),e.promise}},2248:(t,r,e)=>{var n=e(1320);t.exports=function(t,r,e){for(var i in r)n(t,i,r[i],e);return t}},1320:(t,r,e)=>{var n=e(7854),i=e(8880),o=e(6656),a=e(3505),s=e(2788),u=e(9909),f=u.get,c=u.enforce,l=String(String).split("String");(t.exports=function(t,r,e,s){var u,f=!!s&&!!s.unsafe,h=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof e&&("string"!=typeof r||o(e,"name")||i(e,"name",r),(u=c(e)).source||(u.source=l.join("string"==typeof r?r:""))),t!==n?(f?!p&&t[r]&&(h=!0):delete t[r],h?t[r]=e:i(t,r,e)):h?t[r]=e:a(r,e)})(Function.prototype,"toString",(function(){return"function"==typeof this&&f(this).source||s(this)}))},7651:(t,r,e)=>{var n=e(4326),i=e(2261);t.exports=function(t,r){var e=t.exec;if("function"==typeof e){var o=e.call(t,r);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,r)}},2261:(t,r,e)=>{"use strict";var n,i,o=e(7066),a=e(2999),s=e(2309),u=e(30),f=e(9909).get,c=e(9441),l=e(8173),h=RegExp.prototype.exec,p=s("native-string-replace",String.prototype.replace),v=h,d=(n=/a/,i=/b*/g,h.call(n,"a"),h.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),g=a.UNSUPPORTED_Y||a.BROKEN_CARET,y=void 0!==/()??/.exec("")[1];(d||y||g||c||l)&&(v=function(t){var r,e,n,i,a,s,c,l=this,m=f(l),x=m.raw;if(x)return x.lastIndex=l.lastIndex,r=v.call(x,t),l.lastIndex=x.lastIndex,r;var b=m.groups,w=g&&l.sticky,S=o.call(l),_=l.source,E=0,k=t;if(w&&(-1===(S=S.replace("y","")).indexOf("g")&&(S+="g"),k=String(t).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==t[l.lastIndex-1])&&(_="(?: "+_+")",k=" "+k,E++),e=new RegExp("^(?:"+_+")",S)),y&&(e=new RegExp("^"+_+"$(?!\\s)",S)),d&&(n=l.lastIndex),i=h.call(w?e:l,k),w?i?(i.input=i.input.slice(E),i[0]=i[0].slice(E),i.index=l.lastIndex,l.lastIndex+=i[0].length):l.lastIndex=0:d&&i&&(l.lastIndex=l.global?i.index+i[0].length:n),y&&i&&i.length>1&&p.call(i[0],e,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&b)for(i.groups=s=u(null),a=0;a<b.length;a++)s[(c=b[a])[0]]=i[c[1]];return i}),t.exports=v},7066:(t,r,e)=>{"use strict";var n=e(9670);t.exports=function(){var t=n(this),r="";return t.global&&(r+="g"),t.ignoreCase&&(r+="i"),t.multiline&&(r+="m"),t.dotAll&&(r+="s"),t.unicode&&(r+="u"),t.sticky&&(r+="y"),r}},2999:(t,r,e)=>{var n=e(7293),i=function(t,r){return RegExp(t,r)};r.UNSUPPORTED_Y=n((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),r.BROKEN_CARET=n((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},9441:(t,r,e)=>{var n=e(7293);t.exports=n((function(){var t=RegExp(".","string".charAt(0));return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},8173:(t,r,e)=>{var n=e(7293);t.exports=n((function(){var t=RegExp("(?<a>b)","string".charAt(5));return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:(t,r,e)=>{var n=e(7854),i=e(8880);t.exports=function(t,r){try{i(n,t,r)}catch(e){n[t]=r}return r}},6340:(t,r,e)=>{"use strict";var n=e(5005),i=e(3070),o=e(5112),a=e(9781),s=o("species");t.exports=function(t){var r=n(t),e=i.f;a&&r&&!r[s]&&e(r,s,{configurable:!0,get:function(){return this}})}},8003:(t,r,e)=>{var n=e(3070).f,i=e(6656),o=e(5112)("toStringTag");t.exports=function(t,r,e){t&&!i(t=e?t:t.prototype,o)&&n(t,o,{configurable:!0,value:r})}},6200:(t,r,e)=>{var n=e(2309),i=e(9711),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:(t,r,e)=>{var n=e(7854),i=e(3505),o="__core-js_shared__",a=n[o]||i(o,{});t.exports=a},2309:(t,r,e)=>{var n=e(1913),i=e(5465);(t.exports=function(t,r){return i[t]||(i[t]=void 0!==r?r:{})})("versions",[]).push({version:"3.15.1",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},6707:(t,r,e)=>{var n=e(9670),i=e(3099),o=e(5112)("species");t.exports=function(t,r){var e,a=n(t).constructor;return void 0===a||null==(e=n(a)[o])?r:i(e)}},3429:(t,r,e)=>{var n=e(7293);t.exports=function(t){return n((function(){var r=""[t]('"');return r!==r.toLowerCase()||r.split('"').length>3}))}},8710:(t,r,e)=>{var n=e(9958),i=e(4488),o=function(t){return function(r,e){var o,a,s=String(i(r)),u=n(e),f=s.length;return u<0||u>=f?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===f||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},8415:(t,r,e)=>{"use strict";var n=e(9958),i=e(4488);t.exports=function(t){var r=String(i(this)),e="",o=n(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(r+=r))1&o&&(e+=r);return e}},261:(t,r,e)=>{var n,i,o,a=e(7854),s=e(7293),u=e(9974),f=e(490),c=e(317),l=e(6833),h=e(5268),p=a.location,v=a.setImmediate,d=a.clearImmediate,g=a.process,y=a.MessageChannel,m=a.Dispatch,x=0,b={},w=function(t){if(b.hasOwnProperty(t)){var r=b[t];delete b[t],r()}},S=function(t){return function(){w(t)}},_=function(t){w(t.data)},E=function(t){a.postMessage(t+"",p.protocol+"//"+p.host)};v&&d||(v=function(t){for(var r=[],e=1;arguments.length>e;)r.push(arguments[e++]);return b[++x]=function(){("function"==typeof t?t:Function(t)).apply(void 0,r)},n(x),x},d=function(t){delete b[t]},h?n=function(t){g.nextTick(S(t))}:m&&m.now?n=function(t){m.now(S(t))}:y&&!l?(o=(i=new y).port2,i.port1.onmessage=_,n=u(o.postMessage,o,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&p&&"file:"!==p.protocol&&!s(E)?(n=E,a.addEventListener("message",_,!1)):n="onreadystatechange"in c("script")?function(t){f.appendChild(c("script")).onreadystatechange=function(){f.removeChild(this),w(t)}}:function(t){setTimeout(S(t),0)}),t.exports={set:v,clear:d}},863:(t,r,e)=>{var n=e(4326);t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},1400:(t,r,e)=>{var n=e(9958),i=Math.max,o=Math.min;t.exports=function(t,r){var e=n(t);return e<0?i(e+r,0):o(e,r)}},7067:(t,r,e)=>{var n=e(9958),i=e(7466);t.exports=function(t){if(void 0===t)return 0;var r=n(t),e=i(r);if(r!==e)throw RangeError("Wrong length or index");return e}},5656:(t,r,e)=>{var n=e(8361),i=e(4488);t.exports=function(t){return n(i(t))}},9958:t=>{var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},7466:(t,r,e)=>{var n=e(9958),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},7908:(t,r,e)=>{var n=e(4488);t.exports=function(t){return Object(n(t))}},4590:(t,r,e)=>{var n=e(3002);t.exports=function(t,r){var e=n(t);if(e%r)throw RangeError("Wrong offset");return e}},3002:(t,r,e)=>{var n=e(9958);t.exports=function(t){var r=n(t);if(r<0)throw RangeError("The argument can't be less than 0");return r}},7593:(t,r,e)=>{var n=e(111);t.exports=function(t,r){if(!n(t))return t;var e,i;if(r&&"function"==typeof(e=t.toString)&&!n(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!n(i=e.call(t)))return i;if(!r&&"function"==typeof(e=t.toString)&&!n(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},1694:(t,r,e)=>{var n={};n[e(5112)("toStringTag")]="z",t.exports="[object z]"===String(n)},9843:(t,r,e)=>{"use strict";var n=e(2109),i=e(7854),o=e(9781),a=e(3832),s=e(260),u=e(3331),f=e(5787),c=e(9114),l=e(8880),h=e(7466),p=e(7067),v=e(4590),d=e(7593),g=e(6656),y=e(648),m=e(111),x=e(30),b=e(7674),w=e(8006).f,S=e(7321),_=e(2092).forEach,E=e(6340),k=e(3070),M=e(1236),A=e(9909),O=e(9587),P=A.get,T=A.set,I=k.f,R=M.f,j=Math.round,B=i.RangeError,L=u.ArrayBuffer,Y=u.DataView,N=s.NATIVE_ARRAY_BUFFER_VIEWS,F=s.TYPED_ARRAY_TAG,X=s.TypedArray,C=s.TypedArrayPrototype,U=s.aTypedArrayConstructor,D=s.isTypedArray,G="BYTES_PER_ELEMENT",q="Wrong length",z=function(t,r){for(var e=0,n=r.length,i=new(U(t))(n);n>e;)i[e]=r[e++];return i},V=function(t,r){I(t,r,{get:function(){return P(this)[r]}})},W=function(t){var r;return t instanceof L||"ArrayBuffer"==(r=y(t))||"SharedArrayBuffer"==r},J=function(t,r){return D(t)&&"symbol"!=typeof r&&r in t&&String(+r)==String(r)},$=function(t,r){return J(t,r=d(r,!0))?c(2,t[r]):R(t,r)},H=function(t,r,e){return!(J(t,r=d(r,!0))&&m(e)&&g(e,"value"))||g(e,"get")||g(e,"set")||e.configurable||g(e,"writable")&&!e.writable||g(e,"enumerable")&&!e.enumerable?I(t,r,e):(t[r]=e.value,t)};o?(N||(M.f=$,k.f=H,V(C,"buffer"),V(C,"byteOffset"),V(C,"byteLength"),V(C,"length")),n({target:"Object",stat:!0,forced:!N},{getOwnPropertyDescriptor:$,defineProperty:H}),t.exports=function(t,r,e){var o=t.match(/\d+$/)[0]/8,s=t+(e?"Clamped":"")+"Array",u="get"+t,c="set"+t,d=i[s],g=d,y=g&&g.prototype,k={},M=function(t,r){I(t,r,{get:function(){return function(t,r){var e=P(t);return e.view[u](r*o+e.byteOffset,!0)}(this,r)},set:function(t){return function(t,r,n){var i=P(t);e&&(n=(n=j(n))<0?0:n>255?255:255&n),i.view[c](r*o+i.byteOffset,n,!0)}(this,r,t)},enumerable:!0})};N?a&&(g=r((function(t,r,e,n){return f(t,g,s),O(m(r)?W(r)?void 0!==n?new d(r,v(e,o),n):void 0!==e?new d(r,v(e,o)):new d(r):D(r)?z(g,r):S.call(g,r):new d(p(r)),t,g)})),b&&b(g,X),_(w(d),(function(t){t in g||l(g,t,d[t])})),g.prototype=y):(g=r((function(t,r,e,n){f(t,g,s);var i,a,u,c=0,l=0;if(m(r)){if(!W(r))return D(r)?z(g,r):S.call(g,r);i=r,l=v(e,o);var d=r.byteLength;if(void 0===n){if(d%o)throw B(q);if((a=d-l)<0)throw B(q)}else if((a=h(n)*o)+l>d)throw B(q);u=a/o}else u=p(r),i=new L(a=u*o);for(T(t,{buffer:i,byteOffset:l,byteLength:a,length:u,view:new Y(i)});c<u;)M(t,c++)})),b&&b(g,X),y=g.prototype=x(C)),y.constructor!==g&&l(y,"constructor",g),F&&l(y,F,s),k[s]=g,n({global:!0,forced:g!=d,sham:!N},k),G in g||l(g,G,o),G in y||l(y,G,o),E(s)}):t.exports=function(){}},3832:(t,r,e)=>{var n=e(7854),i=e(7293),o=e(7072),a=e(260).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,u=n.Int8Array;t.exports=!a||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!o((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},3074:(t,r,e)=>{var n=e(260).aTypedArrayConstructor,i=e(6707);t.exports=function(t,r){for(var e=i(t,t.constructor),o=0,a=r.length,s=new(n(e))(a);a>o;)s[o]=r[o++];return s}},7321:(t,r,e)=>{var n=e(7908),i=e(7466),o=e(1246),a=e(7659),s=e(9974),u=e(260).aTypedArrayConstructor;t.exports=function(t){var r,e,f,c,l,h,p=n(t),v=arguments.length,d=v>1?arguments[1]:void 0,g=void 0!==d,y=o(p);if(null!=y&&!a(y))for(h=(l=y.call(p)).next,p=[];!(c=h.call(l)).done;)p.push(c.value);for(g&&v>2&&(d=s(d,arguments[2],2)),e=i(p.length),f=new(u(this))(e),r=0;e>r;r++)f[r]=g?d(p[r],r):p[r];return f}},9711:t=>{var r=0,e=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+e).toString(36)}},3307:(t,r,e)=>{var n=e(133);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:(t,r,e)=>{var n=e(5112);r.f=n},5112:(t,r,e)=>{var n=e(7854),i=e(2309),o=e(6656),a=e(9711),s=e(133),u=e(3307),f=i("wks"),c=n.Symbol,l=u?c:c&&c.withoutSetter||a;t.exports=function(t){return o(f,t)&&(s||"string"==typeof f[t])||(s&&o(c,t)?f[t]=c[t]:f[t]=l("Symbol."+t)),f[t]}},8264:(t,r,e)=>{"use strict";var n=e(2109),i=e(7854),o=e(3331),a=e(6340),s=o.ArrayBuffer;n({global:!0,forced:i.ArrayBuffer!==s},{ArrayBuffer:s}),a("ArrayBuffer")},2222:(t,r,e)=>{"use strict";var n=e(2109),i=e(7293),o=e(3157),a=e(111),s=e(7908),u=e(7466),f=e(6135),c=e(5417),l=e(1194),h=e(5112),p=e(7392),v=h("isConcatSpreadable"),d=9007199254740991,g="Maximum allowed index exceeded",y=p>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),m=l("concat"),x=function(t){if(!a(t))return!1;var r=t[v];return void 0!==r?!!r:o(t)};n({target:"Array",proto:!0,forced:!y||!m},{concat:function(t){var r,e,n,i,o,a=s(this),l=c(a,0),h=0;for(r=-1,n=arguments.length;r<n;r++)if(x(o=-1===r?a:arguments[r])){if(h+(i=u(o.length))>d)throw TypeError(g);for(e=0;e<i;e++,h++)e in o&&f(l,h,o[e])}else{if(h>=d)throw TypeError(g);f(l,h++,o)}return l.length=h,l}})},7327:(t,r,e)=>{"use strict";var n=e(2109),i=e(2092).filter;n({target:"Array",proto:!0,forced:!e(1194)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},1038:(t,r,e)=>{var n=e(2109),i=e(8457);n({target:"Array",stat:!0,forced:!e(7072)((function(t){Array.from(t)}))},{from:i})},6992:(t,r,e)=>{"use strict";var n=e(5656),i=e(1223),o=e(7497),a=e(9909),s=e(654),u="Array Iterator",f=a.set,c=a.getterFor(u);t.exports=s(Array,"Array",(function(t,r){f(this,{type:u,target:n(t),index:0,kind:r})}),(function(){var t=c(this),r=t.target,e=t.kind,n=t.index++;return!r||n>=r.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==e?{value:n,done:!1}:"values"==e?{value:r[n],done:!1}:{value:[n,r[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},9600:(t,r,e)=>{"use strict";var n=e(2109),i=e(8361),o=e(5656),a=e(9341),s=[].join,u=i!=Object,f=a("join",",");n({target:"Array",proto:!0,forced:u||!f},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},1249:(t,r,e)=>{"use strict";var n=e(2109),i=e(2092).map;n({target:"Array",proto:!0,forced:!e(1194)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},7042:(t,r,e)=>{"use strict";var n=e(2109),i=e(111),o=e(3157),a=e(1400),s=e(7466),u=e(5656),f=e(6135),c=e(5112),l=e(1194)("slice"),h=c("species"),p=[].slice,v=Math.max;n({target:"Array",proto:!0,forced:!l},{slice:function(t,r){var e,n,c,l=u(this),d=s(l.length),g=a(t,d),y=a(void 0===r?d:r,d);if(o(l)&&("function"!=typeof(e=l.constructor)||e!==Array&&!o(e.prototype)?i(e)&&null===(e=e[h])&&(e=void 0):e=void 0,e===Array||void 0===e))return p.call(l,g,y);for(n=new(void 0===e?Array:e)(v(y-g,0)),c=0;g<y;g++,c++)g in l&&f(n,c,l[g]);return n.length=c,n}})},2707:(t,r,e)=>{"use strict";var n=e(2109),i=e(3099),o=e(7908),a=e(7466),s=e(7293),u=e(4362),f=e(9341),c=e(8886),l=e(256),h=e(7392),p=e(8008),v=[],d=v.sort,g=s((function(){v.sort(void 0)})),y=s((function(){v.sort(null)})),m=f("sort"),x=!s((function(){if(h)return h<70;if(!(c&&c>3)){if(l)return!0;if(p)return p<603;var t,r,e,n,i="";for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(n=0;n<47;n++)v.push({k:r+n,v:e})}for(v.sort((function(t,r){return r.v-t.v})),n=0;n<v.length;n++)r=v[n].k.charAt(0),i.charAt(i.length-1)!==r&&(i+=r);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:g||!y||!m||!x},{sort:function(t){void 0!==t&&i(t);var r=o(this);if(x)return void 0===t?d.call(r):d.call(r,t);var e,n,s=[],f=a(r.length);for(n=0;n<f;n++)n in r&&s.push(r[n]);for(e=(s=u(s,function(t){return function(r,e){return void 0===e?-1:void 0===r?1:void 0!==t?+t(r,e)||0:String(r)>String(e)?1:-1}}(t))).length,n=0;n<e;)r[n]=s[n++];for(;n<f;)delete r[n++];return r}})},561:(t,r,e)=>{"use strict";var n=e(2109),i=e(1400),o=e(9958),a=e(7466),s=e(7908),u=e(5417),f=e(6135),c=e(1194)("splice"),l=Math.max,h=Math.min,p=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!c},{splice:function(t,r){var e,n,c,d,g,y,m=s(this),x=a(m.length),b=i(t,x),w=arguments.length;if(0===w?e=n=0:1===w?(e=0,n=x-b):(e=w-2,n=h(l(o(r),0),x-b)),x+e-n>p)throw TypeError(v);for(c=u(m,n),d=0;d<n;d++)(g=b+d)in m&&f(c,d,m[g]);if(c.length=n,e<n){for(d=b;d<x-n;d++)y=d+e,(g=d+n)in m?m[y]=m[g]:delete m[y];for(d=x;d>x-n+e;d--)delete m[d-1]}else if(e>n)for(d=x-n;d>b;d--)y=d+e-1,(g=d+n-1)in m?m[y]=m[g]:delete m[y];for(d=0;d<e;d++)m[d+b]=arguments[d+2];return m.length=x-n+e,c}})},6977:(t,r,e)=>{"use strict";var n=e(2109),i=e(9958),o=e(863),a=e(8415),s=e(7293),u=1..toFixed,f=Math.floor,c=function(t,r,e){return 0===r?e:r%2==1?c(t,r-1,e*t):c(t*t,r/2,e)},l=function(t,r,e){for(var n=-1,i=e;++n<6;)i+=r*t[n],t[n]=i%1e7,i=f(i/1e7)},h=function(t,r){for(var e=6,n=0;--e>=0;)n+=t[e],t[e]=f(n/r),n=n%r*1e7},p=function(t){for(var r=6,e="";--r>=0;)if(""!==e||0===r||0!==t[r]){var n=String(t[r]);e=""===e?n:e+a.call("0",7-n.length)+n}return e};n({target:"Number",proto:!0,forced:u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}))},{toFixed:function(t){var r,e,n,s,u=o(this),f=i(t),v=[0,0,0,0,0,0],d="",g="0";if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(d="-",u=-u),u>1e-21)if(e=(r=function(t){for(var r=0,e=t;e>=4096;)r+=12,e/=4096;for(;e>=2;)r+=1,e/=2;return r}(u*c(2,69,1))-69)<0?u*c(2,-r,1):u/c(2,r,1),e*=4503599627370496,(r=52-r)>0){for(l(v,0,e),n=f;n>=7;)l(v,1e7,0),n-=7;for(l(v,c(10,n,1),0),n=r-1;n>=23;)h(v,1<<23),n-=23;h(v,1<<n),l(v,1,1),h(v,2),g=p(v)}else l(v,0,e),l(v,1<<-r,0),g=p(v)+a.call("0",f);return f>0?d+((s=g.length)<=f?"0."+a.call("0",f-s)+g:g.slice(0,s-f)+"."+g.slice(s-f)):d+g}})},9601:(t,r,e)=>{var n=e(2109),i=e(1574);n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},7941:(t,r,e)=>{var n=e(2109),i=e(7908),o=e(1956);n({target:"Object",stat:!0,forced:e(7293)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},1539:(t,r,e)=>{var n=e(1694),i=e(1320),o=e(288);n||i(Object.prototype,"toString",o,{unsafe:!0})},8674:(t,r,e)=>{"use strict";var n,i,o,a,s=e(2109),u=e(1913),f=e(7854),c=e(5005),l=e(3366),h=e(1320),p=e(2248),v=e(7674),d=e(8003),g=e(6340),y=e(111),m=e(3099),x=e(5787),b=e(2788),w=e(408),S=e(7072),_=e(6707),E=e(261).set,k=e(5948),M=e(9478),A=e(842),O=e(8523),P=e(2534),T=e(9909),I=e(4705),R=e(5112),j=e(7871),B=e(5268),L=e(7392),Y=R("species"),N="Promise",F=T.get,X=T.set,C=T.getterFor(N),U=l&&l.prototype,D=l,G=U,q=f.TypeError,z=f.document,V=f.process,W=O.f,J=W,$=!!(z&&z.createEvent&&f.dispatchEvent),H="function"==typeof PromiseRejectionEvent,K="unhandledrejection",Z=!1,Q=I(N,(function(){var t=b(D)!==String(D);if(!t&&66===L)return!0;if(u&&!G.finally)return!0;if(L>=51&&/native code/.test(D))return!1;var r=new D((function(t){t(1)})),e=function(t){t((function(){}),(function(){}))};return(r.constructor={})[Y]=e,!(Z=r.then((function(){}))instanceof e)||!t&&j&&!H})),tt=Q||!S((function(t){D.all(t).catch((function(){}))})),rt=function(t){var r;return!(!y(t)||"function"!=typeof(r=t.then))&&r},et=function(t,r){if(!t.notified){t.notified=!0;var e=t.reactions;k((function(){for(var n=t.value,i=1==t.state,o=0;e.length>o;){var a,s,u,f=e[o++],c=i?f.ok:f.fail,l=f.resolve,h=f.reject,p=f.domain;try{c?(i||(2===t.rejection&&at(t),t.rejection=1),!0===c?a=n:(p&&p.enter(),a=c(n),p&&(p.exit(),u=!0)),a===f.promise?h(q("Promise-chain cycle")):(s=rt(a))?s.call(a,l,h):l(a)):h(n)}catch(t){p&&!u&&p.exit(),h(t)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&it(t)}))}},nt=function(t,r,e){var n,i;$?((n=z.createEvent("Event")).promise=r,n.reason=e,n.initEvent(t,!1,!0),f.dispatchEvent(n)):n={promise:r,reason:e},!H&&(i=f["on"+t])?i(n):t===K&&A("Unhandled promise rejection",e)},it=function(t){E.call(f,(function(){var r,e=t.facade,n=t.value;if(ot(t)&&(r=P((function(){B?V.emit("unhandledRejection",n,e):nt(K,e,n)})),t.rejection=B||ot(t)?2:1,r.error))throw r.value}))},ot=function(t){return 1!==t.rejection&&!t.parent},at=function(t){E.call(f,(function(){var r=t.facade;B?V.emit("rejectionHandled",r):nt("rejectionhandled",r,t.value)}))},st=function(t,r,e){return function(n){t(r,n,e)}},ut=function(t,r,e){t.done||(t.done=!0,e&&(t=e),t.value=r,t.state=2,et(t,!0))},ft=function(t,r,e){if(!t.done){t.done=!0,e&&(t=e);try{if(t.facade===r)throw q("Promise can't be resolved itself");var n=rt(r);n?k((function(){var e={done:!1};try{n.call(r,st(ft,e,t),st(ut,e,t))}catch(r){ut(e,r,t)}})):(t.value=r,t.state=1,et(t,!1))}catch(r){ut({done:!1},r,t)}}};if(Q&&(G=(D=function(t){x(this,D,N),m(t),n.call(this);var r=F(this);try{t(st(ft,r),st(ut,r))}catch(t){ut(r,t)}}).prototype,(n=function(t){X(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(G,{then:function(t,r){var e=C(this),n=W(_(this,D));return n.ok="function"!=typeof t||t,n.fail="function"==typeof r&&r,n.domain=B?V.domain:void 0,e.parent=!0,e.reactions.push(n),0!=e.state&&et(e,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new n,r=F(t);this.promise=t,this.resolve=st(ft,r),this.reject=st(ut,r)},O.f=W=function(t){return t===D||t===o?new i(t):J(t)},!u&&"function"==typeof l&&U!==Object.prototype)){a=U.then,Z||(h(U,"then",(function(t,r){var e=this;return new D((function(t,r){a.call(e,t,r)})).then(t,r)}),{unsafe:!0}),h(U,"catch",G.catch,{unsafe:!0}));try{delete U.constructor}catch(t){}v&&v(U,G)}s({global:!0,wrap:!0,forced:Q},{Promise:D}),d(D,N,!1,!0),g(N),o=c(N),s({target:N,stat:!0,forced:Q},{reject:function(t){var r=W(this);return r.reject.call(void 0,t),r.promise}}),s({target:N,stat:!0,forced:u||Q},{resolve:function(t){return M(u&&this===o?D:this,t)}}),s({target:N,stat:!0,forced:tt},{all:function(t){var r=this,e=W(r),n=e.resolve,i=e.reject,o=P((function(){var e=m(r.resolve),o=[],a=0,s=1;w(t,(function(t){var u=a++,f=!1;o.push(void 0),s++,e.call(r,t).then((function(t){f||(f=!0,o[u]=t,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),e.promise},race:function(t){var r=this,e=W(r),n=e.reject,i=P((function(){var i=m(r.resolve);w(t,(function(t){i.call(r,t).then(e.resolve,n)}))}));return i.error&&n(i.value),e.promise}})},4916:(t,r,e)=>{"use strict";var n=e(2109),i=e(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},9714:(t,r,e)=>{"use strict";var n=e(1320),i=e(9670),o=e(7293),a=e(7066),s="toString",u=RegExp.prototype,f=u.toString,c=o((function(){return"/a/b"!=f.call({source:"a",flags:"b"})})),l=f.name!=s;(c||l)&&n(RegExp.prototype,s,(function(){var t=i(this),r=String(t.source),e=t.flags;return"/"+r+"/"+String(void 0===e&&t instanceof RegExp&&!("flags"in u)?a.call(t):e)}),{unsafe:!0})},8783:(t,r,e)=>{"use strict";var n=e(8710).charAt,i=e(9909),o=e(654),a="String Iterator",s=i.set,u=i.getterFor(a);o(String,"String",(function(t){s(this,{type:a,string:String(t),index:0})}),(function(){var t,r=u(this),e=r.string,i=r.index;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),r.index+=t.length,{value:t,done:!1})}))},4723:(t,r,e)=>{"use strict";var n=e(7007),i=e(9670),o=e(7466),a=e(4488),s=e(1530),u=e(7651);n("match",(function(t,r,e){return[function(r){var e=a(this),n=null==r?void 0:r[t];return void 0!==n?n.call(r,e):new RegExp(r)[t](String(e))},function(t){var n=e(r,this,t);if(n.done)return n.value;var a=i(this),f=String(t);if(!a.global)return u(a,f);var c=a.unicode;a.lastIndex=0;for(var l,h=[],p=0;null!==(l=u(a,f));){var v=String(l[0]);h[p]=v,""===v&&(a.lastIndex=s(f,o(a.lastIndex),c)),p++}return 0===p?null:h}]}))},5306:(t,r,e)=>{"use strict";var n=e(7007),i=e(7293),o=e(9670),a=e(7466),s=e(9958),u=e(4488),f=e(1530),c=e(647),l=e(7651),h=e(5112)("replace"),p=Math.max,v=Math.min,d="$0"==="a".replace(/./,"$0"),g=!!/./[h]&&""===/./[h]("a","$0");n("replace",(function(t,r,e){var n=g?"$":"$0";return[function(t,e){var n=u(this),i=null==t?void 0:t[h];return void 0!==i?i.call(t,n,e):r.call(String(n),t,e)},function(t,i){if("string"==typeof i&&-1===i.indexOf(n)&&-1===i.indexOf("$<")){var u=e(r,this,t,i);if(u.done)return u.value}var h=o(this),d=String(t),g="function"==typeof i;g||(i=String(i));var y=h.global;if(y){var m=h.unicode;h.lastIndex=0}for(var x=[];;){var b=l(h,d);if(null===b)break;if(x.push(b),!y)break;""===String(b[0])&&(h.lastIndex=f(d,a(h.lastIndex),m))}for(var w,S="",_=0,E=0;E<x.length;E++){b=x[E];for(var k=String(b[0]),M=p(v(s(b.index),d.length),0),A=[],O=1;O<b.length;O++)A.push(void 0===(w=b[O])?w:String(w));var P=b.groups;if(g){var T=[k].concat(A,M,d);void 0!==P&&T.push(P);var I=String(i.apply(void 0,T))}else I=c(k,d,M,A,P,i);M>=_&&(S+=d.slice(_,M)+I,_=M+k.length)}return S+d.slice(_)}]}),!!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!d||g)},3123:(t,r,e)=>{"use strict";var n=e(7007),i=e(7850),o=e(9670),a=e(4488),s=e(6707),u=e(1530),f=e(7466),c=e(7651),l=e(2261),h=e(2999),p=e(7293),v=h.UNSUPPORTED_Y,d=[].push,g=Math.min,y=4294967295;n("split",(function(t,r,e){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var n=String(a(this)),o=void 0===e?y:e>>>0;if(0===o)return[];if(void 0===t)return[n];if(!i(t))return r.call(n,t,o);for(var s,u,f,c=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,v=new RegExp(t.source,h+"g");(s=l.call(v,n))&&!((u=v.lastIndex)>p&&(c.push(n.slice(p,s.index)),s.length>1&&s.index<n.length&&d.apply(c,s.slice(1)),f=s[0].length,p=u,c.length>=o));)v.lastIndex===s.index&&v.lastIndex++;return p===n.length?!f&&v.test("")||c.push(""):c.push(n.slice(p)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,e){var i=a(this),o=null==r?void 0:r[t];return void 0!==o?o.call(r,i,e):n.call(String(i),r,e)},function(t,i){var a=e(n,this,t,i,n!==r);if(a.done)return a.value;var l=o(this),h=String(t),p=s(l,RegExp),d=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"g":"y"),x=new p(v?"^(?:"+l.source+")":l,m),b=void 0===i?y:i>>>0;if(0===b)return[];if(0===h.length)return null===c(x,h)?[h]:[];for(var w=0,S=0,_=[];S<h.length;){x.lastIndex=v?0:S;var E,k=c(x,v?h.slice(S):h);if(null===k||(E=g(f(x.lastIndex+(v?S:0)),h.length))===w)S=u(h,S,d);else{if(_.push(h.slice(w,S)),_.length===b)return _;for(var M=1;M<=k.length-1;M++)if(_.push(k[M]),_.length===b)return _;S=w=E}}return _.push(h.slice(w)),_}]}),!!p((function(){var t=/(?:)/,r=t.exec;t.exec=function(){return r.apply(this,arguments)};var e="ab".split(t);return 2!==e.length||"a"!==e[0]||"b"!==e[1]})),v)},86:(t,r,e)=>{"use strict";var n=e(2109),i=e(4230);n({target:"String",proto:!0,forced:e(3429)("sub")},{sub:function(){return i(this,"sub","","")}})},1817:(t,r,e)=>{"use strict";var n=e(2109),i=e(9781),o=e(7854),a=e(6656),s=e(111),u=e(3070).f,f=e(9920),c=o.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var l={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),r=this instanceof h?new c(t):void 0===t?c():c(t);return""===t&&(l[r]=!0),r};f(h,c);var p=h.prototype=c.prototype;p.constructor=h;var v=p.toString,d="Symbol(test)"==String(c("test")),g=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,r=v.call(t);if(a(l,t))return"";var e=d?r.slice(7,-1):r.replace(g,"$1");return""===e?void 0:e}}),n({global:!0,forced:!0},{Symbol:h})}},2165:(t,r,e)=>{e(7235)("iterator")},2526:(t,r,e)=>{"use strict";var n=e(2109),i=e(7854),o=e(5005),a=e(1913),s=e(9781),u=e(133),f=e(3307),c=e(7293),l=e(6656),h=e(3157),p=e(111),v=e(9670),d=e(7908),g=e(5656),y=e(7593),m=e(9114),x=e(30),b=e(1956),w=e(8006),S=e(1156),_=e(5181),E=e(1236),k=e(3070),M=e(5296),A=e(8880),O=e(1320),P=e(2309),T=e(6200),I=e(3501),R=e(9711),j=e(5112),B=e(6061),L=e(7235),Y=e(8003),N=e(9909),F=e(2092).forEach,X=T("hidden"),C="Symbol",U=j("toPrimitive"),D=N.set,G=N.getterFor(C),q=Object.prototype,z=i.Symbol,V=o("JSON","stringify"),W=E.f,J=k.f,$=S.f,H=M.f,K=P("symbols"),Z=P("op-symbols"),Q=P("string-to-symbol-registry"),tt=P("symbol-to-string-registry"),rt=P("wks"),et=i.QObject,nt=!et||!et.prototype||!et.prototype.findChild,it=s&&c((function(){return 7!=x(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(t,r,e){var n=W(q,r);n&&delete q[r],J(t,r,e),n&&t!==q&&J(q,r,n)}:J,ot=function(t,r){var e=K[t]=x(z.prototype);return D(e,{type:C,tag:t,description:r}),s||(e.description=r),e},at=f?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof z},st=function(t,r,e){t===q&&st(Z,r,e),v(t);var n=y(r,!0);return v(e),l(K,n)?(e.enumerable?(l(t,X)&&t[X][n]&&(t[X][n]=!1),e=x(e,{enumerable:m(0,!1)})):(l(t,X)||J(t,X,m(1,{})),t[X][n]=!0),it(t,n,e)):J(t,n,e)},ut=function(t,r){v(t);var e=g(r),n=b(e).concat(ht(e));return F(n,(function(r){s&&!ft.call(e,r)||st(t,r,e[r])})),t},ft=function(t){var r=y(t,!0),e=H.call(this,r);return!(this===q&&l(K,r)&&!l(Z,r))&&(!(e||!l(this,r)||!l(K,r)||l(this,X)&&this[X][r])||e)},ct=function(t,r){var e=g(t),n=y(r,!0);if(e!==q||!l(K,n)||l(Z,n)){var i=W(e,n);return!i||!l(K,n)||l(e,X)&&e[X][n]||(i.enumerable=!0),i}},lt=function(t){var r=$(g(t)),e=[];return F(r,(function(t){l(K,t)||l(I,t)||e.push(t)})),e},ht=function(t){var r=t===q,e=$(r?Z:g(t)),n=[];return F(e,(function(t){!l(K,t)||r&&!l(q,t)||n.push(K[t])})),n};u||(O((z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,r=R(t),e=function(t){this===q&&e.call(Z,t),l(this,X)&&l(this[X],r)&&(this[X][r]=!1),it(this,r,m(1,t))};return s&&nt&&it(q,r,{configurable:!0,set:e}),ot(r,t)}).prototype,"toString",(function(){return G(this).tag})),O(z,"withoutSetter",(function(t){return ot(R(t),t)})),M.f=ft,k.f=st,E.f=ct,w.f=S.f=lt,_.f=ht,B.f=function(t){return ot(j(t),t)},s&&(J(z.prototype,"description",{configurable:!0,get:function(){return G(this).description}}),a||O(q,"propertyIsEnumerable",ft,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:z}),F(b(rt),(function(t){L(t)})),n({target:C,stat:!0,forced:!u},{for:function(t){var r=String(t);if(l(Q,r))return Q[r];var e=z(r);return Q[r]=e,tt[e]=r,e},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(l(tt,t))return tt[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(t,r){return void 0===r?x(t):ut(x(t),r)},defineProperty:st,defineProperties:ut,getOwnPropertyDescriptor:ct}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:lt,getOwnPropertySymbols:ht}),n({target:"Object",stat:!0,forced:c((function(){_.f(1)}))},{getOwnPropertySymbols:function(t){return _.f(d(t))}}),V&&n({target:"JSON",stat:!0,forced:!u||c((function(){var t=z();return"[null]"!=V([t])||"{}"!=V({a:t})||"{}"!=V(Object(t))}))},{stringify:function(t,r,e){for(var n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=r,(p(r)||void 0!==t)&&!at(t))return h(r)||(r=function(t,r){if("function"==typeof n&&(r=n.call(this,t,r)),!at(r))return r}),i[1]=r,V.apply(null,i)}}),z.prototype[U]||A(z.prototype,U,z.prototype.valueOf),Y(z,C),I[X]=!0},2990:(t,r,e)=>{"use strict";var n=e(260),i=e(1048),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",(function(t,r){return i.call(o(this),t,r,arguments.length>2?arguments[2]:void 0)}))},8927:(t,r,e)=>{"use strict";var n=e(260),i=e(2092).every,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},3105:(t,r,e)=>{"use strict";var n=e(260),i=e(1285),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",(function(t){return i.apply(o(this),arguments)}))},5035:(t,r,e)=>{"use strict";var n=e(260),i=e(2092).filter,o=e(3074),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",(function(t){var r=i(a(this),t,arguments.length>1?arguments[1]:void 0);return o(this,r)}))},7174:(t,r,e)=>{"use strict";var n=e(260),i=e(2092).findIndex,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},4345:(t,r,e)=>{"use strict";var n=e(260),i=e(2092).find,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},6495:(t,r,e)=>{e(9843)("Float64",(function(t){return function(r,e,n){return t(this,r,e,n)}}))},2846:(t,r,e)=>{"use strict";var n=e(260),i=e(2092).forEach,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},4731:(t,r,e)=>{"use strict";var n=e(260),i=e(1318).includes,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},7209:(t,r,e)=>{"use strict";var n=e(260),i=e(1318).indexOf,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},6319:(t,r,e)=>{"use strict";var n=e(7854),i=e(260),o=e(6992),a=e(5112)("iterator"),s=n.Uint8Array,u=o.values,f=o.keys,c=o.entries,l=i.aTypedArray,h=i.exportTypedArrayMethod,p=s&&s.prototype[a],v=!!p&&("values"==p.name||null==p.name),d=function(){return u.call(l(this))};h("entries",(function(){return c.call(l(this))})),h("keys",(function(){return f.call(l(this))})),h("values",d,!v),h(a,d,!v)},8867:(t,r,e)=>{"use strict";var n=e(260),i=n.aTypedArray,o=n.exportTypedArrayMethod,a=[].join;o("join",(function(t){return a.apply(i(this),arguments)}))},7789:(t,r,e)=>{"use strict";var n=e(260),i=e(6583),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(t){return i.apply(o(this),arguments)}))},3739:(t,r,e)=>{"use strict";var n=e(260),i=e(2092).map,o=e(6707),a=n.aTypedArray,s=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,r){return new(s(o(t,t.constructor)))(r)}))}))},4483:(t,r,e)=>{"use strict";var n=e(260),i=e(3671).right,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},9368:(t,r,e)=>{"use strict";var n=e(260),i=e(3671).left,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2056:(t,r,e)=>{"use strict";var n=e(260),i=n.aTypedArray,o=n.exportTypedArrayMethod,a=Math.floor;o("reverse",(function(){for(var t,r=this,e=i(r).length,n=a(e/2),o=0;o<n;)t=r[o],r[o++]=r[--e],r[e]=t;return r}))},3462:(t,r,e)=>{"use strict";var n=e(260),i=e(7466),o=e(4590),a=e(7908),s=e(7293),u=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",(function(t){u(this);var r=o(arguments.length>1?arguments[1]:void 0,1),e=this.length,n=a(t),s=i(n.length),f=0;if(s+r>e)throw RangeError("Wrong length");for(;f<s;)this[r+f]=n[f++]}),s((function(){new Int8Array(1).set({})})))},678:(t,r,e)=>{"use strict";var n=e(260),i=e(6707),o=e(7293),a=n.aTypedArray,s=n.aTypedArrayConstructor,u=n.exportTypedArrayMethod,f=[].slice;u("slice",(function(t,r){for(var e=f.call(a(this),t,r),n=i(this,this.constructor),o=0,u=e.length,c=new(s(n))(u);u>o;)c[o]=e[o++];return c}),o((function(){new Int8Array(1).slice()})))},7462:(t,r,e)=>{"use strict";var n=e(260),i=e(2092).some,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},3824:(t,r,e)=>{"use strict";var n=e(260),i=e(7854),o=e(7293),a=e(3099),s=e(7466),u=e(4362),f=e(8886),c=e(256),l=e(7392),h=e(8008),p=n.aTypedArray,v=n.exportTypedArrayMethod,d=i.Uint16Array,g=d&&d.prototype.sort,y=!!g&&!o((function(){var t=new d(2);t.sort(null),t.sort({})})),m=!!g&&!o((function(){if(l)return l<74;if(f)return f<67;if(c)return!0;if(h)return h<602;var t,r,e=new d(516),n=Array(516);for(t=0;t<516;t++)r=t%4,e[t]=515-t,n[t]=t-2*r+3;for(e.sort((function(t,r){return(t/4|0)-(r/4|0)})),t=0;t<516;t++)if(e[t]!==n[t])return!0}));v("sort",(function(t){var r=this;if(void 0!==t&&a(t),m)return g.call(r,t);p(r);var e,n=s(r.length),i=Array(n);for(e=0;e<n;e++)i[e]=r[e];for(i=u(r,function(t){return function(r,e){return void 0!==t?+t(r,e)||0:e!=e?-1:r!=r?1:0===r&&0===e?1/r>0&&1/e<0?1:-1:r>e}}(t)),e=0;e<n;e++)r[e]=i[e];return r}),!m||y)},5021:(t,r,e)=>{"use strict";var n=e(260),i=e(7466),o=e(1400),a=e(6707),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",(function(t,r){var e=s(this),n=e.length,u=o(t,n);return new(a(e,e.constructor))(e.buffer,e.byteOffset+u*e.BYTES_PER_ELEMENT,i((void 0===r?n:o(r,n))-u))}))},2974:(t,r,e)=>{"use strict";var n=e(7854),i=e(260),o=e(7293),a=n.Int8Array,s=i.aTypedArray,u=i.exportTypedArrayMethod,f=[].toLocaleString,c=[].slice,l=!!a&&o((function(){f.call(new a(1))}));u("toLocaleString",(function(){return f.apply(l?c.call(s(this)):s(this),arguments)}),o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])})))},5016:(t,r,e)=>{"use strict";var n=e(260).exportTypedArrayMethod,i=e(7293),o=e(7854).Uint8Array,a=o&&o.prototype||{},s=[].toString,u=[].join;i((function(){s.call({})}))&&(s=function(){return u.call(this)});var f=a.toString!=s;n("toString",s,f)},9135:(t,r,e)=>{e(9843)("Uint32",(function(t){return function(r,e,n){return t(this,r,e,n)}}))},3948:(t,r,e)=>{var n=e(7854),i=e(8324),o=e(6992),a=e(8880),s=e(5112),u=s("iterator"),f=s("toStringTag"),c=o.values;for(var l in i){var h=n[l],p=h&&h.prototype;if(p){if(p[u]!==c)try{a(p,u,c)}catch(t){p[u]=c}if(p[f]||a(p,f,l),i[l])for(var v in o)if(p[v]!==o[v])try{a(p,v,o[v])}catch(t){p[v]=o[v]}}}},1787:(t,r,e)=>{var n=e(5510),i=e(4102),o=e(1540),a=e(9705).Z,s=o.featureEach,u=(o.coordEach,i.polygon,i.featureCollection);function f(t){var r=n(t);return r.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:a(t),n.prototype.insert.call(this,t)},r.load=function(t){var r=[];return Array.isArray(t)?t.forEach((function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:a(t),r.push(t)})):s(t,(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:a(t),r.push(t)})),n.prototype.load.call(this,r)},r.remove=function(t,r){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:a(t),n.prototype.remove.call(this,t,r)},r.clear=function(){return n.prototype.clear.call(this)},r.search=function(t){var r=n.prototype.search.call(this,this.toBBox(t));return u(r)},r.collides=function(t){return n.prototype.collides.call(this,this.toBBox(t))},r.all=function(){var t=n.prototype.all.call(this);return u(t)},r.toJSON=function(){return n.prototype.toJSON.call(this)},r.fromJSON=function(t){return n.prototype.fromJSON.call(this,t)},r.toBBox=function(t){var r;if(t.bbox)r=t.bbox;else if(Array.isArray(t)&&4===t.length)r=t;else if(Array.isArray(t)&&6===t.length)r=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)r=a(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");r=a(t)}return{minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]}},r}t.exports=f,t.exports.default=f},1895:t=>{t.exports=function(t,r,e,n){var i=t[0],o=t[1],a=!1;void 0===e&&(e=0),void 0===n&&(n=r.length);for(var s=(n-e)/2,u=0,f=s-1;u<s;f=u++){var c=r[e+2*u+0],l=r[e+2*u+1],h=r[e+2*f+0],p=r[e+2*f+1];l>o!=p>o&&i<(h-c)*(o-l)/(p-l)+c&&(a=!a)}return a}},6960:(t,r,e)=>{var n=e(1895),i=e(8139);t.exports=function(t,r,e,o){return r.length>0&&Array.isArray(r[0])?i(t,r,e,o):n(t,r,e,o)},t.exports.nested=i,t.exports.flat=n},8139:t=>{t.exports=function(t,r,e,n){var i=t[0],o=t[1],a=!1;void 0===e&&(e=0),void 0===n&&(n=r.length);for(var s=n-e,u=0,f=s-1;u<s;f=u++){var c=r[u+e][0],l=r[u+e][1],h=r[f+e][0],p=r[f+e][1];l>o!=p>o&&i<(h-c)*(o-l)/(p-l)+c&&(a=!a)}return a}},2676:function(t){t.exports=function(){"use strict";function t(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function r(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var n=function(t,r){this.next=null,this.key=t,this.data=r,this.left=null,this.right=null};function i(t,r){return t>r?1:t<r?-1:0}function o(t,r,e){for(var i=new n(null,null),o=i,a=i;;){var s=e(t,r.key);if(s<0){if(null===r.left)break;if(e(t,r.left.key)<0){var u=r.left;if(r.left=u.right,u.right=r,null===(r=u).left)break}a.left=r,a=r,r=r.left}else{if(!(s>0))break;if(null===r.right)break;if(e(t,r.right.key)>0&&(u=r.right,r.right=u.left,u.left=r,null===(r=u).right))break;o.right=r,o=r,r=r.right}}return o.right=r.left,a.left=r.right,r.left=i.right,r.right=i.left,r}function a(t,r,e,i){var a=new n(t,r);if(null===e)return a.left=a.right=null,a;var s=i(t,(e=o(t,e,i)).key);return s<0?(a.left=e.left,a.right=e,e.left=null):s>=0&&(a.right=e.right,a.left=e,e.right=null),a}function s(t,r,e){var n=null,i=null;if(r){var a=e((r=o(t,r,e)).key,t);0===a?(n=r.left,i=r.right):a<0?(i=r.right,r.right=null,n=r):(n=r.left,r.left=null,i=r)}return{left:n,right:i}}function u(t,r,e,n,i){if(t){n(r+(e?"└── ":"├── ")+i(t)+"\n");var o=r+(e?"    ":"│   ");t.left&&u(t.left,o,!1,n,i),t.right&&u(t.right,o,!0,n,i)}}var f=function(){function t(t){void 0===t&&(t=i),this._root=null,this._size=0,this._comparator=t}return t.prototype.insert=function(t,r){return this._size++,this._root=a(t,r,this._root,this._comparator)},t.prototype.add=function(t,r){var e=new n(t,r);null===this._root&&(e.left=e.right=null,this._size++,this._root=e);var i=this._comparator,a=o(t,this._root,i),s=i(t,a.key);return 0===s?this._root=a:(s<0?(e.left=a.left,e.right=a,a.left=null):s>0&&(e.right=a.right,e.left=a,a.right=null),this._size++,this._root=e),this._root},t.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},t.prototype._remove=function(t,r,e){var n;return null===r?null:0===e(t,(r=o(t,r,e)).key)?(null===r.left?n=r.right:(n=o(t,r.left,e)).right=r.right,this._size--,n):r},t.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=o(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},t.prototype.findStatic=function(t){for(var r=this._root,e=this._comparator;r;){var n=e(t,r.key);if(0===n)return r;r=n<0?r.left:r.right}return null},t.prototype.find=function(t){return this._root&&(this._root=o(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},t.prototype.contains=function(t){for(var r=this._root,e=this._comparator;r;){var n=e(t,r.key);if(0===n)return!0;r=n<0?r.left:r.right}return!1},t.prototype.forEach=function(t,r){for(var e=this._root,n=[],i=!1;!i;)null!==e?(n.push(e),e=e.left):0!==n.length?(e=n.pop(),t.call(r,e),e=e.right):i=!0;return this},t.prototype.range=function(t,r,e,n){for(var i=[],o=this._comparator,a=this._root;0!==i.length||a;)if(a)i.push(a),a=a.left;else{if(o((a=i.pop()).key,r)>0)break;if(o(a.key,t)>=0&&e.call(n,a))return this;a=a.right}return this},t.prototype.keys=function(){var t=[];return this.forEach((function(r){var e=r.key;return t.push(e)})),t},t.prototype.values=function(){var t=[];return this.forEach((function(r){var e=r.data;return t.push(e)})),t},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},t.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},t.prototype.at=function(t){for(var r=this._root,e=!1,n=0,i=[];!e;)if(r)i.push(r),r=r.left;else if(i.length>0){if(r=i.pop(),n===t)return r;n++,r=r.right}else e=!0;return null},t.prototype.next=function(t){var r=this._root,e=null;if(t.right){for(e=t.right;e.left;)e=e.left;return e}for(var n=this._comparator;r;){var i=n(t.key,r.key);if(0===i)break;i<0?(e=r,r=r.left):r=r.right}return e},t.prototype.prev=function(t){var r=this._root,e=null;if(null!==t.left){for(e=t.left;e.right;)e=e.right;return e}for(var n=this._comparator;r;){var i=n(t.key,r.key);if(0===i)break;i<0?r=r.left:(e=r,r=r.right)}return e},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return function(t){for(var r=t,e=[],i=!1,o=new n(null,null),a=o;!i;)r?(e.push(r),r=r.left):e.length>0?r=(r=a=a.next=e.pop()).right:i=!0;return a.next=null,o.next}(this._root)},t.prototype.load=function(t,r,e){void 0===r&&(r=[]),void 0===e&&(e=!1);var i=t.length,o=this._comparator;if(e&&h(t,r,0,i-1,o),null===this._root)this._root=c(t,r,0,i),this._size=i;else{var a=function(t,r,e){for(var i=new n(null,null),o=i,a=t,s=r;null!==a&&null!==s;)e(a.key,s.key)<0?(o.next=a,a=a.next):(o.next=s,s=s.next),o=o.next;return null!==a?o.next=a:null!==s&&(o.next=s),i.next}(this.toList(),function(t,r){for(var e=new n(null,null),i=e,o=0;o<t.length;o++)i=i.next=new n(t[o],r[o]);return i.next=null,e.next}(t,r),o);i=this._size+i,this._root=l({head:a},0,i)}return this},t.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var r=[];return u(this._root,"",!0,(function(t){return r.push(t)}),t),r.join("")},t.prototype.update=function(t,r,e){var n=this._comparator,i=s(t,this._root,n),u=i.left,f=i.right;n(t,r)<0?f=a(r,e,f,n):u=a(r,e,u,n),this._root=function(t,r,e){return null===r?t:(null===t||((r=o(t.key,r,e)).left=t),r)}(u,f,n)},t.prototype.split=function(t){return s(t,this._root,this._comparator)},t}();function c(t,r,e,i){var o=i-e;if(o>0){var a=e+Math.floor(o/2),s=t[a],u=r[a],f=new n(s,u);return f.left=c(t,r,e,a),f.right=c(t,r,a+1,i),f}return null}function l(t,r,e){var n=e-r;if(n>0){var i=r+Math.floor(n/2),o=l(t,r,i),a=t.head;return a.left=o,t.head=t.head.next,a.right=l(t,i+1,e),a}return null}function h(t,r,e,n,i){if(!(e>=n)){for(var o=t[e+n>>1],a=e-1,s=n+1;;){do{a++}while(i(t[a],o)<0);do{s--}while(i(t[s],o)>0);if(a>=s)break;var u=t[a];t[a]=t[s],t[s]=u,u=r[a],r[a]=r[s],r[s]=u}h(t,r,e,s,i),h(t,r,s+1,n,i)}}var p=function(t,r){return t.ll.x<=r.x&&r.x<=t.ur.x&&t.ll.y<=r.y&&r.y<=t.ur.y},v=function(t,r){if(r.ur.x<t.ll.x||t.ur.x<r.ll.x||r.ur.y<t.ll.y||t.ur.y<r.ll.y)return null;var e=t.ll.x<r.ll.x?r.ll.x:t.ll.x,n=t.ur.x<r.ur.x?t.ur.x:r.ur.x;return{ll:{x:e,y:t.ll.y<r.ll.y?r.ll.y:t.ll.y},ur:{x:n,y:t.ur.y<r.ur.y?t.ur.y:r.ur.y}}},d=Number.EPSILON;void 0===d&&(d=Math.pow(2,-52));var g=d*d,y=function(t,r){if(-d<t&&t<d&&-d<r&&r<d)return 0;var e=t-r;return e*e<g*t*r?0:t<r?-1:1},m=function(){function r(){t(this,r),this.reset()}return e(r,[{key:"reset",value:function(){this.xRounder=new x,this.yRounder=new x}},{key:"round",value:function(t,r){return{x:this.xRounder.round(t),y:this.yRounder.round(r)}}}]),r}(),x=function(){function r(){t(this,r),this.tree=new f,this.round(0)}return e(r,[{key:"round",value:function(t){var r=this.tree.add(t),e=this.tree.prev(r);if(null!==e&&0===y(r.key,e.key))return this.tree.remove(t),e.key;var n=this.tree.next(r);return null!==n&&0===y(r.key,n.key)?(this.tree.remove(t),n.key):t}}]),r}(),b=new m,w=function(t,r){return t.x*r.y-t.y*r.x},S=function(t,r){return t.x*r.x+t.y*r.y},_=function(t,r,e){var n={x:r.x-t.x,y:r.y-t.y},i={x:e.x-t.x,y:e.y-t.y},o=w(n,i);return y(o,0)},E=function(t){return Math.sqrt(S(t,t))},k=function(t,r,e){var n={x:r.x-t.x,y:r.y-t.y},i={x:e.x-t.x,y:e.y-t.y};return S(i,n)/E(i)/E(n)},M=function(t,r,e){return 0===r.y?null:{x:t.x+r.x/r.y*(e-t.y),y:e}},A=function(t,r,e){return 0===r.x?null:{x:e,y:t.y+r.y/r.x*(e-t.x)}},O=function(){function r(e,n){t(this,r),void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=n}return e(r,null,[{key:"compare",value:function(t,e){var n=r.comparePoints(t.point,e.point);return 0!==n?n:(t.point!==e.point&&t.link(e),t.isLeft!==e.isLeft?t.isLeft?1:-1:T.compare(t.segment,e.segment))}},{key:"comparePoints",value:function(t,r){return t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0}}]),e(r,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var r=t.point.events,e=0,n=r.length;e<n;e++){var i=r[e];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,r=0;r<t;r++){var e=this.point.events[r];if(void 0===e.segment.consumedBy)for(var n=r+1;n<t;n++){var i=this.point.events[n];void 0===i.consumedBy&&e.otherSE.point.events===i.otherSE.point.events&&e.segment.consume(i.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],r=0,e=this.point.events.length;r<e;r++){var n=this.point.events[r];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&t.push(n)}return t}},{key:"getLeftmostComparator",value:function(t){var r=this,e=new Map,n=function(n){var i,o,a,s,u,f=n.otherSE;e.set(n,{sine:(i=r.point,o=t.point,a=f.point,s={x:o.x-i.x,y:o.y-i.y},u={x:a.x-i.x,y:a.y-i.y},w(u,s)/E(u)/E(s)),cosine:k(r.point,t.point,f.point)})};return function(t,r){e.has(t)||n(t),e.has(r)||n(r);var i=e.get(t),o=i.sine,a=i.cosine,s=e.get(r),u=s.sine,f=s.cosine;return o>=0&&u>=0?a<f?1:a>f?-1:0:o<0&&u<0?a<f?-1:a>f?1:0:u<o?-1:u>o?1:0}}}]),r}(),P=0,T=function(){function r(e,n,i,o){t(this,r),this.id=++P,this.leftSE=e,e.segment=this,e.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=e,this.rings=i,this.windings=o}return e(r,null,[{key:"compare",value:function(t,r){var e=t.leftSE.point.x,n=r.leftSE.point.x,i=t.rightSE.point.x,o=r.rightSE.point.x;if(o<e)return 1;if(i<n)return-1;var a=t.leftSE.point.y,s=r.leftSE.point.y,u=t.rightSE.point.y,f=r.rightSE.point.y;if(e<n){if(s<a&&s<u)return 1;if(s>a&&s>u)return-1;var c=t.comparePoint(r.leftSE.point);if(c<0)return 1;if(c>0)return-1;var l=r.comparePoint(t.rightSE.point);return 0!==l?l:-1}if(e>n){if(a<s&&a<f)return-1;if(a>s&&a>f)return 1;var h=r.comparePoint(t.leftSE.point);if(0!==h)return h;var p=t.comparePoint(r.rightSE.point);return p<0?1:p>0?-1:1}if(a<s)return-1;if(a>s)return 1;if(i<o){var v=r.comparePoint(t.rightSE.point);if(0!==v)return v}if(i>o){var d=t.comparePoint(r.rightSE.point);if(d<0)return 1;if(d>0)return-1}if(i!==o){var g=u-a,y=i-e,m=f-s,x=o-n;if(g>y&&m<x)return 1;if(g<y&&m>x)return-1}return i>o?1:i<o||u<f?-1:u>f?1:t.id<r.id?-1:t.id>r.id?1:0}}]),e(r,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,r=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<r?t:r},ur:{x:this.rightSE.point.x,y:t>r?t:r}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var r=this.leftSE.point,e=this.rightSE.point,n=this.vector();if(r.x===e.x)return t.x===r.x?0:t.x<r.x?1:-1;var i=(t.y-r.y)/n.y,o=r.x+i*n.x;if(t.x===o)return 0;var a=(t.x-r.x)/n.x,s=r.y+a*n.y;return t.y===s?0:t.y<s?-1:1}},{key:"getIntersection",value:function(t){var r=this.bbox(),e=t.bbox(),n=v(r,e);if(null===n)return null;var i=this.leftSE.point,o=this.rightSE.point,a=t.leftSE.point,s=t.rightSE.point,u=p(r,a)&&0===this.comparePoint(a),f=p(e,i)&&0===t.comparePoint(i),c=p(r,s)&&0===this.comparePoint(s),l=p(e,o)&&0===t.comparePoint(o);if(f&&u)return l&&!c?o:!l&&c?s:null;if(f)return c&&i.x===s.x&&i.y===s.y?null:i;if(u)return l&&o.x===a.x&&o.y===a.y?null:a;if(l&&c)return null;if(l)return o;if(c)return s;var h=function(t,r,e,n){if(0===r.x)return A(e,n,t.x);if(0===n.x)return A(t,r,e.x);if(0===r.y)return M(e,n,t.y);if(0===n.y)return M(t,r,e.y);var i=w(r,n);if(0==i)return null;var o={x:e.x-t.x,y:e.y-t.y},a=w(o,r)/i,s=w(o,n)/i;return{x:(t.x+s*r.x+(e.x+a*n.x))/2,y:(t.y+s*r.y+(e.y+a*n.y))/2}}(i,this.vector(),a,t.vector());return null===h?null:p(n,h)?b.round(h.x,h.y):null}},{key:"split",value:function(t){var e=[],n=void 0!==t.events,i=new O(t,!0),o=new O(t,!1),a=this.rightSE;this.replaceRightSE(o),e.push(o),e.push(i);var s=new r(i,a,this.rings.slice(),this.windings.slice());return O.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),O.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(i.checkForConsuming(),o.checkForConsuming()),e}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var r=0,e=this.windings.length;r<e;r++)this.windings[r]*=-1}},{key:"consume",value:function(t){for(var e=this,n=t;e.consumedBy;)e=e.consumedBy;for(;n.consumedBy;)n=n.consumedBy;var i=r.compare(e,n);if(0!==i){if(i>0){var o=e;e=n,n=o}if(e.prev===n){var a=e;e=n,n=a}for(var s=0,u=n.rings.length;s<u;s++){var f=n.rings[s],c=n.windings[s],l=e.rings.indexOf(f);-1===l?(e.rings.push(f),e.windings.push(c)):e.windings[l]+=c}n.rings=null,n.windings=null,n.consumedBy=e,n.leftSE.consumedBy=e.leftSE,n.rightSE.consumedBy=e.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var r=this._afterState.rings,e=this._afterState.windings,n=this._afterState.multiPolys,i=0,o=this.rings.length;i<o;i++){var a=this.rings[i],s=this.windings[i],u=r.indexOf(a);-1===u?(r.push(a),e.push(s)):e[u]+=s}for(var f=[],c=[],l=0,h=r.length;l<h;l++)if(0!==e[l]){var p=r[l],v=p.poly;if(-1===c.indexOf(v))if(p.isExterior)f.push(v);else{-1===c.indexOf(v)&&c.push(v);var d=f.indexOf(p.poly);-1!==d&&f.splice(d,1)}}for(var g=0,y=f.length;g<y;g++){var m=f[g].multiPoly;-1===n.indexOf(m)&&n.push(m)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,r=this.afterState().multiPolys;switch(C.type){case"union":var e=0===t.length,n=0===r.length;this._isInResult=e!==n;break;case"intersection":var i,o;t.length<r.length?(i=t.length,o=r.length):(i=r.length,o=t.length),this._isInResult=o===C.numMultiPolys&&i<o;break;case"xor":var a=Math.abs(t.length-r.length);this._isInResult=a%2==1;break;case"difference":var s=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=s(t)!==s(r);break;default:throw new Error("Unrecognized operation type found ".concat(C.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,e,n){var i,o,a,s=O.comparePoints(t,e);if(s<0)i=t,o=e,a=1;else{if(!(s>0))throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));i=e,o=t,a=-1}return new r(new O(i,!0),new O(o,!1),[n],[a])}}]),r}(),I=function(){function r(e,n,i){if(t(this,r),!Array.isArray(e)||0===e.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=i,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var o=b.round(e[0][0],e[0][1]);this.bbox={ll:{x:o.x,y:o.y},ur:{x:o.x,y:o.y}};for(var a=o,s=1,u=e.length;s<u;s++){if("number"!=typeof e[s][0]||"number"!=typeof e[s][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var f=b.round(e[s][0],e[s][1]);f.x===a.x&&f.y===a.y||(this.segments.push(T.fromRing(a,f,this)),f.x<this.bbox.ll.x&&(this.bbox.ll.x=f.x),f.y<this.bbox.ll.y&&(this.bbox.ll.y=f.y),f.x>this.bbox.ur.x&&(this.bbox.ur.x=f.x),f.y>this.bbox.ur.y&&(this.bbox.ur.y=f.y),a=f)}o.x===a.x&&o.y===a.y||this.segments.push(T.fromRing(a,o,this))}return e(r,[{key:"getSweepEvents",value:function(){for(var t=[],r=0,e=this.segments.length;r<e;r++){var n=this.segments[r];t.push(n.leftSE),t.push(n.rightSE)}return t}}]),r}(),R=function(){function r(e,n){if(t(this,r),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new I(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var i=1,o=e.length;i<o;i++){var a=new I(e[i],this,!1);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.interiorRings.push(a)}this.multiPoly=n}return e(r,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),r=0,e=this.interiorRings.length;r<e;r++)for(var n=this.interiorRings[r].getSweepEvents(),i=0,o=n.length;i<o;i++)t.push(n[i]);return t}}]),r}(),j=function(){function r(e,n){if(t(this,r),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch(t){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var i=0,o=e.length;i<o;i++){var a=new R(e[i],this);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.polys.push(a)}this.isSubject=n}return e(r,[{key:"getSweepEvents",value:function(){for(var t=[],r=0,e=this.polys.length;r<e;r++)for(var n=this.polys[r].getSweepEvents(),i=0,o=n.length;i<o;i++)t.push(n[i]);return t}}]),r}(),B=function(){function r(e){t(this,r),this.events=e;for(var n=0,i=e.length;n<i;n++)e[n].segment.ringOut=this;this.poly=null}return e(r,null,[{key:"factory",value:function(t){for(var e=[],n=0,i=t.length;n<i;n++){var o=t[n];if(o.isInResult()&&!o.ringOut){for(var a=null,s=o.leftSE,u=o.rightSE,f=[s],c=s.point,l=[];a=s,s=u,f.push(s),s.point!==c;)for(;;){var h=s.getAvailableLinkedEvents();if(0===h.length){var p=f[0].point,v=f[f.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(p.x,",")+" ".concat(p.y,"]. Last matching segment found ends at")+" [".concat(v.x,", ").concat(v.y,"]."))}if(1===h.length){u=h[0].otherSE;break}for(var d=null,g=0,y=l.length;g<y;g++)if(l[g].point===s.point){d=g;break}if(null===d){l.push({index:f.length,point:s.point});var m=s.getLeftmostComparator(a);u=h.sort(m)[0].otherSE;break}var x=l.splice(d)[0],b=f.splice(x.index);b.unshift(b[0].otherSE),e.push(new r(b.reverse()))}e.push(new r(f))}}return e}}]),e(r,[{key:"getGeom",value:function(){for(var t=this.events[0].point,r=[t],e=1,n=this.events.length-1;e<n;e++){var i=this.events[e].point,o=this.events[e+1].point;0!==_(i,t,o)&&(r.push(i),t=i)}if(1===r.length)return null;var a=r[0],s=r[1];0===_(a,t,s)&&r.shift(),r.push(r[0]);for(var u=this.isExteriorRing()?1:-1,f=this.isExteriorRing()?0:r.length-1,c=this.isExteriorRing()?r.length:-1,l=[],h=f;h!=c;h+=u)l.push([r[h].x,r[h].y]);return l}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],r=1,e=this.events.length;r<e;r++){var n=this.events[r];O.compare(t,n)>0&&(t=n)}for(var i=t.segment.prevInResult(),o=i?i.prevInResult():null;;){if(!i)return null;if(!o)return i.ringOut;if(o.ringOut!==i.ringOut)return o.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=o.prevInResult(),o=i?i.prevInResult():null}}}]),r}(),L=function(){function r(e){t(this,r),this.exteriorRing=e,e.poly=this,this.interiorRings=[]}return e(r,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var r=0,e=this.interiorRings.length;r<e;r++){var n=this.interiorRings[r].getGeom();null!==n&&t.push(n)}return t}}]),r}(),Y=function(){function r(e){t(this,r),this.rings=e,this.polys=this._composePolys(e)}return e(r,[{key:"getGeom",value:function(){for(var t=[],r=0,e=this.polys.length;r<e;r++){var n=this.polys[r].getGeom();null!==n&&t.push(n)}return t}},{key:"_composePolys",value:function(t){for(var r=[],e=0,n=t.length;e<n;e++){var i=t[e];if(!i.poly)if(i.isExteriorRing())r.push(new L(i));else{var o=i.enclosingRing();o.poly||r.push(new L(o)),o.poly.addInterior(i)}}return r}}]),r}(),N=function(){function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.compare;t(this,r),this.queue=e,this.tree=new f(n),this.segments=[]}return e(r,[{key:"process",value:function(t){var r=t.segment,e=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(r),e;var n=t.isLeft?this.tree.insert(r):this.tree.find(r);if(!n)throw new Error("Unable to find segment #".concat(r.id," ")+"[".concat(r.leftSE.point.x,", ").concat(r.leftSE.point.y,"] -> ")+"[".concat(r.rightSE.point.x,", ").concat(r.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var i=n,o=n,a=void 0,s=void 0;void 0===a;)null===(i=this.tree.prev(i))?a=null:void 0===i.key.consumedBy&&(a=i.key);for(;void 0===s;)null===(o=this.tree.next(o))?s=null:void 0===o.key.consumedBy&&(s=o.key);if(t.isLeft){var u=null;if(a){var f=a.getIntersection(r);if(null!==f&&(r.isAnEndpoint(f)||(u=f),!a.isAnEndpoint(f)))for(var c=this._splitSafely(a,f),l=0,h=c.length;l<h;l++)e.push(c[l])}var p=null;if(s){var v=s.getIntersection(r);if(null!==v&&(r.isAnEndpoint(v)||(p=v),!s.isAnEndpoint(v)))for(var d=this._splitSafely(s,v),g=0,y=d.length;g<y;g++)e.push(d[g])}if(null!==u||null!==p){var m;m=null===u?p:null===p||O.comparePoints(u,p)<=0?u:p,this.queue.remove(r.rightSE),e.push(r.rightSE);for(var x=r.split(m),b=0,w=x.length;b<w;b++)e.push(x[b])}e.length>0?(this.tree.remove(r),e.push(t)):(this.segments.push(r),r.prev=a)}else{if(a&&s){var S=a.getIntersection(s);if(null!==S){if(!a.isAnEndpoint(S))for(var _=this._splitSafely(a,S),E=0,k=_.length;E<k;E++)e.push(_[E]);if(!s.isAnEndpoint(S))for(var M=this._splitSafely(s,S),A=0,P=M.length;A<P;A++)e.push(M[A])}}this.tree.remove(r)}return e}},{key:"_splitSafely",value:function(t,r){this.tree.remove(t);var e=t.rightSE;this.queue.remove(e);var n=t.split(r);return n.push(e),void 0===t.consumedBy&&this.tree.insert(t),n}}]),r}(),F="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,X="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,C=new(function(){function r(){t(this,r)}return e(r,[{key:"run",value:function(t,r,e){C.type=t,b.reset();for(var n=[new j(r,!0)],i=0,o=e.length;i<o;i++)n.push(new j(e[i],!1));if(C.numMultiPolys=n.length,"difference"===C.type)for(var a=n[0],s=1;s<n.length;)null!==v(n[s].bbox,a.bbox)?s++:n.splice(s,1);if("intersection"===C.type)for(var u=0,c=n.length;u<c;u++)for(var l=n[u],h=u+1,p=n.length;h<p;h++)if(null===v(l.bbox,n[h].bbox))return[];for(var d=new f(O.compare),g=0,y=n.length;g<y;g++)for(var m=n[g].getSweepEvents(),x=0,w=m.length;x<w;x++)if(d.insert(m[x]),d.size>F)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var S=new N(d),_=d.size,E=d.pop();E;){var k=E.key;if(d.size===_){var M=k.segment;throw new Error("Unable to pop() ".concat(k.isLeft?"left":"right"," SweepEvent ")+"[".concat(k.point.x,", ").concat(k.point.y,"] from segment #").concat(M.id," ")+"[".concat(M.leftSE.point.x,", ").concat(M.leftSE.point.y,"] -> ")+"[".concat(M.rightSE.point.x,", ").concat(M.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(d.size>F)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(S.segments.length>X)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var A=S.process(k),P=0,T=A.length;P<T;P++){var I=A[P];void 0===I.consumedBy&&d.insert(I)}_=d.size,E=d.pop()}b.reset();var R=B.factory(S.segments);return new Y(R).getGeom()}}]),r}());return{union:function(t){for(var r=arguments.length,e=new Array(r>1?r-1:0),n=1;n<r;n++)e[n-1]=arguments[n];return C.run("union",t,e)},intersection:function(t){for(var r=arguments.length,e=new Array(r>1?r-1:0),n=1;n<r;n++)e[n-1]=arguments[n];return C.run("intersection",t,e)},xor:function(t){for(var r=arguments.length,e=new Array(r>1?r-1:0),n=1;n<r;n++)e[n-1]=arguments[n];return C.run("xor",t,e)},difference:function(t){for(var r=arguments.length,e=new Array(r>1?r-1:0),n=1;n<r;n++)e[n-1]=arguments[n];return C.run("difference",t,e)}}}()},8166:function(t){t.exports=function(){"use strict";function t(e,n,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=n-i+1,f=Math.log(s),c=.5*Math.exp(2*f/3),l=.5*Math.sqrt(f*c*(s-c)/s)*(u-s/2<0?-1:1);t(e,n,Math.max(i,Math.floor(n-u*c/s+l)),Math.min(o,Math.floor(n+(s-u)*c/s+l)),a)}var h=e[n],p=i,v=o;for(r(e,i,n),a(e[o],h)>0&&r(e,i,o);p<v;){for(r(e,p,v),p++,v--;a(e[p],h)<0;)p++;for(;a(e[v],h)>0;)v--}0===a(e[i],h)?r(e,i,v):r(e,++v,o),v<=n&&(i=v+1),n<=v&&(o=v-1)}}function r(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function e(t,r){return t<r?-1:t>r?1:0}return function(r,n,i,o,a){t(r,n,i||0,o||r.length-1,a||e)}}()},5510:(t,r,e)=>{"use strict";t.exports=i,t.exports.default=i;var n=e(8166);function i(t,r){if(!(this instanceof i))return new i(t,r);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),r&&this._initFormat(r),this.clear()}function o(t,r,e){if(!e)return r.indexOf(t);for(var n=0;n<r.length;n++)if(e(t,r[n]))return n;return-1}function a(t,r){s(t,0,t.children.length,r,t)}function s(t,r,e,n,i){i||(i=d(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=r;a<e;a++)o=t.children[a],u(i,t.leaf?n(o):o);return i}function u(t,r){return t.minX=Math.min(t.minX,r.minX),t.minY=Math.min(t.minY,r.minY),t.maxX=Math.max(t.maxX,r.maxX),t.maxY=Math.max(t.maxY,r.maxY),t}function f(t,r){return t.minX-r.minX}function c(t,r){return t.minY-r.minY}function l(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,r){return t.minX<=r.minX&&t.minY<=r.minY&&r.maxX<=t.maxX&&r.maxY<=t.maxY}function v(t,r){return r.minX<=t.maxX&&r.minY<=t.maxY&&r.maxX>=t.minX&&r.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,r,e,i,o){for(var a,s=[r,e];s.length;)(e=s.pop())-(r=s.pop())<=i||(a=r+Math.ceil((e-r)/i/2)*i,n(t,a,r,e,o),s.push(r,a,a,e))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var r=this.data,e=[],n=this.toBBox;if(!v(t,r))return e;for(var i,o,a,s,u=[];r;){for(i=0,o=r.children.length;i<o;i++)a=r.children[i],v(t,s=r.leaf?n(a):a)&&(r.leaf?e.push(a):p(t,s)?this._all(a,e):u.push(a));r=u.pop()}return e},collides:function(t){var r=this.data,e=this.toBBox;if(!v(t,r))return!1;for(var n,i,o,a,s=[];r;){for(n=0,i=r.children.length;n<i;n++)if(o=r.children[n],v(t,a=r.leaf?e(o):o)){if(r.leaf||p(t,a))return!0;s.push(o)}r=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var r=0,e=t.length;r<e;r++)this.insert(t[r]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=d([]),this},remove:function(t,r){if(!t)return this;for(var e,n,i,a,s=this.data,u=this.toBBox(t),f=[],c=[];s||f.length;){if(s||(s=f.pop(),n=f[f.length-1],e=c.pop(),a=!0),s.leaf&&-1!==(i=o(t,s.children,r)))return s.children.splice(i,1),f.push(s),this._condense(f),this;a||s.leaf||!p(s,u)?n?(e++,s=n.children[e],a=!1):s=null:(f.push(s),c.push(e),e=0,n=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:f,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,r){for(var e=[];t;)t.leaf?r.push.apply(r,t.children):e.push.apply(e,t.children),t=e.pop();return r},_build:function(t,r,e,n){var i,o=e-r+1,s=this._maxEntries;if(o<=s)return a(i=d(t.slice(r,e+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),(i=d([])).leaf=!1,i.height=n;var u,f,c,l,h=Math.ceil(o/s),p=h*Math.ceil(Math.sqrt(s));for(g(t,r,e,p,this.compareMinX),u=r;u<=e;u+=p)for(g(t,u,c=Math.min(u+p-1,e),h,this.compareMinY),f=u;f<=c;f+=h)l=Math.min(f+h-1,c),i.children.push(this._build(t,f,l,n-1));return a(i,this.toBBox),i},_chooseSubtree:function(t,r,e,n){for(var i,o,a,s,u,f,c,h,p,v;n.push(r),!r.leaf&&n.length-1!==e;){for(c=h=1/0,i=0,o=r.children.length;i<o;i++)u=l(a=r.children[i]),p=t,v=a,(f=(Math.max(v.maxX,p.maxX)-Math.min(v.minX,p.minX))*(Math.max(v.maxY,p.maxY)-Math.min(v.minY,p.minY))-u)<h?(h=f,c=u<c?u:c,s=a):f===h&&u<c&&(c=u,s=a);r=s||r.children[0]}return r},_insert:function(t,r,e){var n=this.toBBox,i=e?t:n(t),o=[],a=this._chooseSubtree(i,this.data,r,o);for(a.children.push(t),u(a,i);r>=0&&o[r].children.length>this._maxEntries;)this._split(o,r),r--;this._adjustParentBBoxes(i,o,r)},_split:function(t,r){var e=t[r],n=e.children.length,i=this._minEntries;this._chooseSplitAxis(e,i,n);var o=this._chooseSplitIndex(e,i,n),s=d(e.children.splice(o,e.children.length-o));s.height=e.height,s.leaf=e.leaf,a(e,this.toBBox),a(s,this.toBBox),r?t[r-1].children.push(s):this._splitRoot(e,s)},_splitRoot:function(t,r){this.data=d([t,r]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,r,e){var n,i,o,a,u,f,c,h,p,v,d,g,y,m;for(f=c=1/0,n=r;n<=e-r;n++)p=i=s(t,0,n,this.toBBox),v=o=s(t,n,e,this.toBBox),void 0,void 0,void 0,void 0,d=Math.max(p.minX,v.minX),g=Math.max(p.minY,v.minY),y=Math.min(p.maxX,v.maxX),m=Math.min(p.maxY,v.maxY),a=Math.max(0,y-d)*Math.max(0,m-g),u=l(i)+l(o),a<f?(f=a,h=n,c=u<c?u:c):a===f&&u<c&&(c=u,h=n);return h},_chooseSplitAxis:function(t,r,e){var n=t.leaf?this.compareMinX:f,i=t.leaf?this.compareMinY:c;this._allDistMargin(t,r,e,n)<this._allDistMargin(t,r,e,i)&&t.children.sort(n)},_allDistMargin:function(t,r,e,n){t.children.sort(n);var i,o,a=this.toBBox,f=s(t,0,r,a),c=s(t,e-r,e,a),l=h(f)+h(c);for(i=r;i<e-r;i++)o=t.children[i],u(f,t.leaf?a(o):o),l+=h(f);for(i=e-r-1;i>=r;i--)o=t.children[i],u(c,t.leaf?a(o):o),l+=h(c);return l},_adjustParentBBoxes:function(t,r,e){for(var n=e;n>=0;n--)u(r[n],t)},_condense:function(t){for(var r,e=t.length-1;e>=0;e--)0===t[e].children.length?e>0?(r=t[e-1].children).splice(r.indexOf(t[e]),1):this.clear():a(t[e],this.toBBox)},_initFormat:function(t){var r=["return a"," - b",";"];this.compareMinX=new Function("a","b",r.join(t[0])),this.compareMinY=new Function("a","b",r.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},8639:function(t,r){!function(t){"use strict";const r=134217729;function e(t,r,e,n,i){let o,a,s,u,f=r[0],c=n[0],l=0,h=0;c>f==c>-f?(o=f,f=r[++l]):(o=c,c=n[++h]);let p=0;if(l<t&&h<e)for(c>f==c>-f?(s=o-((a=f+o)-f),f=r[++l]):(s=o-((a=c+o)-c),c=n[++h]),o=a,0!==s&&(i[p++]=s);l<t&&h<e;)c>f==c>-f?(s=o-((a=o+f)-(u=a-o))+(f-u),f=r[++l]):(s=o-((a=o+c)-(u=a-o))+(c-u),c=n[++h]),o=a,0!==s&&(i[p++]=s);for(;l<t;)s=o-((a=o+f)-(u=a-o))+(f-u),f=r[++l],o=a,0!==s&&(i[p++]=s);for(;h<e;)s=o-((a=o+c)-(u=a-o))+(c-u),c=n[++h],o=a,0!==s&&(i[p++]=s);return 0===o&&0!==p||(i[p++]=o),p}function n(t){return new Float64Array(t)}const i=n(4),o=n(8),a=n(12),s=n(16),u=n(4);t.orient2d=function(t,n,f,c,l,h){const p=(n-h)*(f-l),v=(t-l)*(c-h),d=p-v;if(0===p||0===v||p>0!=v>0)return d;const g=Math.abs(p+v);return Math.abs(d)>=33306690738754716e-32*g?d:-function(t,n,f,c,l,h,p){let v,d,g,y,m,x,b,w,S,_,E,k,M,A,O,P,T,I;const R=t-l,j=f-l,B=n-h,L=c-h;m=(O=(w=R-(b=(x=r*R)-(x-R)))*(_=L-(S=(x=r*L)-(x-L)))-((A=R*L)-b*S-w*S-b*_))-(E=O-(T=(w=B-(b=(x=r*B)-(x-B)))*(_=j-(S=(x=r*j)-(x-j)))-((P=B*j)-b*S-w*S-b*_))),i[0]=O-(E+m)+(m-T),m=(M=A-((k=A+E)-(m=k-A))+(E-m))-(E=M-P),i[1]=M-(E+m)+(m-P),m=(I=k+E)-k,i[2]=k-(I-m)+(E-m),i[3]=I;let Y=function(t,r){let e=r[0];for(let t=1;t<4;t++)e+=r[t];return e}(0,i),N=22204460492503146e-32*p;if(Y>=N||-Y>=N)return Y;if(v=t-(R+(m=t-R))+(m-l),g=f-(j+(m=f-j))+(m-l),d=n-(B+(m=n-B))+(m-h),y=c-(L+(m=c-L))+(m-h),0===v&&0===d&&0===g&&0===y)return Y;if(N=11093356479670487e-47*p+33306690738754706e-32*Math.abs(Y),(Y+=R*y+L*v-(B*g+j*d))>=N||-Y>=N)return Y;m=(O=(w=v-(b=(x=r*v)-(x-v)))*(_=L-(S=(x=r*L)-(x-L)))-((A=v*L)-b*S-w*S-b*_))-(E=O-(T=(w=d-(b=(x=r*d)-(x-d)))*(_=j-(S=(x=r*j)-(x-j)))-((P=d*j)-b*S-w*S-b*_))),u[0]=O-(E+m)+(m-T),m=(M=A-((k=A+E)-(m=k-A))+(E-m))-(E=M-P),u[1]=M-(E+m)+(m-P),m=(I=k+E)-k,u[2]=k-(I-m)+(E-m),u[3]=I;const F=e(4,i,4,u,o);m=(O=(w=R-(b=(x=r*R)-(x-R)))*(_=y-(S=(x=r*y)-(x-y)))-((A=R*y)-b*S-w*S-b*_))-(E=O-(T=(w=B-(b=(x=r*B)-(x-B)))*(_=g-(S=(x=r*g)-(x-g)))-((P=B*g)-b*S-w*S-b*_))),u[0]=O-(E+m)+(m-T),m=(M=A-((k=A+E)-(m=k-A))+(E-m))-(E=M-P),u[1]=M-(E+m)+(m-P),m=(I=k+E)-k,u[2]=k-(I-m)+(E-m),u[3]=I;const X=e(F,o,4,u,a);m=(O=(w=v-(b=(x=r*v)-(x-v)))*(_=y-(S=(x=r*y)-(x-y)))-((A=v*y)-b*S-w*S-b*_))-(E=O-(T=(w=d-(b=(x=r*d)-(x-d)))*(_=g-(S=(x=r*g)-(x-g)))-((P=d*g)-b*S-w*S-b*_))),u[0]=O-(E+m)+(m-T),m=(M=A-((k=A+E)-(m=k-A))+(E-m))-(E=M-P),u[1]=M-(E+m)+(m-P),m=(I=k+E)-k,u[2]=k-(I-m)+(E-m),u[3]=I;const C=e(X,a,4,u,s);return s[C-1]}(t,n,f,c,l,h,g)},t.orient2dfast=function(t,r,e,n,i,o){return(r-o)*(e-i)-(t-i)*(n-o)},Object.defineProperty(t,"__esModule",{value:!0})}(r)},3842:(t,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>n});class n{constructor(t=[],r=i){if(this.data=t,this.length=this.data.length,this.compare=r,this.length>0)for(let t=(this.length>>1)-1;t>=0;t--)this._down(t)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],r=this.data.pop();return this.length--,this.length>0&&(this.data[0]=r,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:r,compare:e}=this,n=r[t];for(;t>0;){const i=t-1>>1,o=r[i];if(e(n,o)>=0)break;r[t]=o,t=i}r[t]=n}_down(t){const{data:r,compare:e}=this,n=this.length>>1,i=r[t];for(;t<n;){let n=1+(t<<1),o=r[n];const a=n+1;if(a<this.length&&e(r[a],o)<0&&(n=a,o=r[a]),e(o,i)>=0)break;r[t]=o,t=n}r[t]=i}}function i(t,r){return t<r?-1:t>r?1:0}}},r={};function e(n){var i=r[n];if(void 0!==i)return i.exports;var o=r[n]={exports:{}};return t[n].call(o.exports,o,o.exports,e),o.exports}e.d=(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),e.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";function t(t,r,e){void 0===e&&(e={});var n={type:"Feature"};return(0===e.id||e.id)&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.properties=r||{},n.geometry=t,n}function r(r,e,n){if(void 0===n&&(n={}),!r)throw new Error("coordinates is required");if(!Array.isArray(r))throw new Error("coordinates must be an Array");if(r.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!u(r[0])||!u(r[1]))throw new Error("coordinates must contain numbers");return t({type:"Point",coordinates:r},e,n)}function i(r,e,n){void 0===n&&(n={});for(var i=0,o=r;i<o.length;i++){var a=o[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return t({type:"Polygon",coordinates:r},e,n)}function o(r,e,n){if(void 0===n&&(n={}),r.length<2)throw new Error("coordinates must be an array of two or more positions");return t({type:"LineString",coordinates:r},e,n)}function a(t,r){void 0===r&&(r={});var e={type:"FeatureCollection"};return r.id&&(e.id=r.id),r.bbox&&(e.bbox=r.bbox),e.features=t,e}function s(r,e,n){return void 0===n&&(n={}),t({type:"MultiPolygon",coordinates:r},e,n)}function u(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function f(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function c(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function l(t){return"Feature"===t.type?t.geometry:t}function h(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)throw new Error("point is required");if(!r)throw new Error("polygon is required");var n=f(t),i=l(r),o=i.type,a=r.bbox,s=i.coordinates;if(a&&!p(n,a))return!1;"Polygon"===o&&(s=[s]);for(var u=!1,c=0;c<s.length&&!u;c++){var h=v(n,s[c]);(0===h&&!e.ignoreBoundary||h)&&(u=!0)}return u}function p(t,r){return r[0]<=t[0]&&r[1]<=t[1]&&r[2]>=t[0]&&r[3]>=t[1]}function v(t,r){for(var e=0,n=0,i=0,o=0,a=0,s=0,u=0,f=0,c=null,l=null,h=t[0],p=t[1],v=r.length;e<v;e++){n=0;var d=r[e].length-1,g=r[e];for(a=(c=g[0])[0]-h,s=c[1]-p;n<d;n++)if(f=(l=g[n+1])[1]-p,s<0&&f<0||s>0&&f>0)s=f,a=(c=l)[0]-h;else{if(u=l[0]-t[0],f>0&&s<=0){if((o=a*f-u*s)>0)i+=1;else if(0===o)return 0}else if(s>0&&f<=0){if((o=a*f-u*s)<0)i+=1;else if(0===o)return 0}else if(0===f&&s<0){if(0==(o=a*f-u*s))return 0}else if(0===s&&f<0){if(0==(o=a*f-u*s))return 0}else if(0===s&&0===f){if(u<=0&&a>=0)return 0;if(a<=0&&u>=0)return 0}c=l,s=f,a=u}}return i%2!=0}function d(t,r,e){if(null!==t)for(var n,i,o,a,s,u,f,c,l=0,h=0,p=t.type,v="FeatureCollection"===p,g="Feature"===p,y=v?t.features.length:1,m=0;m<y;m++){s=(c=!!(f=v?t.features[m].geometry:g?t.geometry:t)&&"GeometryCollection"===f.type)?f.geometries.length:1;for(var x=0;x<s;x++){var b=0,w=0;if(null!==(a=c?f.geometries[x]:f)){u=a.coordinates;var S=a.type;switch(l=!e||"Polygon"!==S&&"MultiPolygon"!==S?0:1,S){case null:break;case"Point":if(!1===r(u,h,m,b,w))return!1;h++,b++;break;case"LineString":case"MultiPoint":for(n=0;n<u.length;n++){if(!1===r(u[n],h,m,b,w))return!1;h++,"MultiPoint"===S&&b++}"LineString"===S&&b++;break;case"Polygon":case"MultiLineString":for(n=0;n<u.length;n++){for(i=0;i<u[n].length-l;i++){if(!1===r(u[n][i],h,m,b,w))return!1;h++}"MultiLineString"===S&&b++,"Polygon"===S&&w++}"Polygon"===S&&b++;break;case"MultiPolygon":for(n=0;n<u.length;n++){for(w=0,i=0;i<u[n].length;i++){for(o=0;o<u[n][i].length-l;o++){if(!1===r(u[n][i][o],h,m,b,w))return!1;h++}w++}b++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===d(a.geometries[n],r,e))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function g(t,r){if("Feature"===t.type)r(t,0);else if("FeatureCollection"===t.type)for(var e=0;e<t.features.length&&!1!==r(t.features[e],e);e++);}function y(r,e){!function(t,r){var e,n,i,o,a,s,u,f,c,l,h=0,p="FeatureCollection"===t.type,v="Feature"===t.type,d=p?t.features.length:1;for(e=0;e<d;e++){for(s=p?t.features[e].geometry:v?t.geometry:t,f=p?t.features[e].properties:v?t.properties:{},c=p?t.features[e].bbox:v?t.bbox:void 0,l=p?t.features[e].id:v?t.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=u?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===r(o,h,f,c,l))return!1;break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(!1===r(o.geometries[n],h,f,c,l))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===r(null,h,f,c,l))return!1;h++}}(r,(function(r,n,i,o,a){var s,u=null===r?null:r.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e(t(r,i,{bbox:o,id:a}),n,0)&&void 0}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var f=0;f<r.coordinates.length;f++){var c=r.coordinates[f];if(!1===e(t({type:s,coordinates:c},i),n,f))return!1}}))}e.r(n),e.d(n,{default:()=>vt}),e(1249),e(7941),e(4916),e(5306),e(1038),e(8783),e(6992),e(1539),e(8674),e(3948),e(3123),e(4723),e(2707),e(7327),e(9601),e(2222),e(9600);var m=e(2273);function x(t,r){void 0===r&&(r={}),r.concavity=r.concavity||1/0;var e=[];if(d(t,(function(t){e.push([t[0],t[1]])})),!e.length)return null;var n=m(e,r.concavity);return n.length>3?i([n]):null}var b=e(2676);const w=function(t){if(!t)throw new Error("geojson is required");var r=[];return y(t,(function(t){!function(t,r){var e=[],n=t.geometry;if(null!==n){switch(n.type){case"Polygon":e=c(n);break;case"LineString":e=[c(n)]}e.forEach((function(e){(function(t,r){var e=[];return t.reduce((function(t,n){var i,a,s,u,f,c,l=o([t,n],r);return l.bbox=(a=n,s=(i=t)[0],u=i[1],[s<(f=a[0])?s:f,u<(c=a[1])?u:c,s>f?s:f,u>c?u:c]),e.push(l),n})),e})(e,t.properties).forEach((function(t){t.id=r.length,r.push(t)}))}))}}(t,r)})),a(r)};var S=e(1787);function _(t,e){var n=c(t),i=c(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],a=n[0][1],s=n[1][0],u=n[1][1],f=i[0][0],l=i[0][1],h=i[1][0],p=i[1][1],v=(p-l)*(s-o)-(h-f)*(u-a);if(0===v)return null;var d=((h-f)*(a-l)-(p-l)*(o-f))/v,g=((s-o)*(a-l)-(u-a)*(o-f))/v;return d>=0&&d<=1&&g>=0&&g<=1?r([o+d*(s-o),a+d*(u-a)]):null}function E(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function k(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function M(t,r,e){return r&&k(t.prototype,r),e&&k(t,e),t}function A(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}e(6495),e(2990),e(8927),e(3105),e(5035),e(4345),e(7174),e(2846),e(4731),e(7209),e(6319),e(8867),e(7789),e(3739),e(9368),e(4483),e(2056),e(3462),e(678),e(7462),e(3824),e(5021),e(2974),e(5016),e(9135),e(8264),e(9714),e(7042);var O=function(){function t(r){E(this,t),A(this,"_xx",void 0),A(this,"_yy",void 0),A(this,"_ii",void 0),A(this,"_nn",void 0),A(this,"_zz",void 0),A(this,"_zlimit",0),A(this,"_bb",void 0),A(this,"_allBounds",void 0),A(this,"_arcIter",void 0),A(this,"_filteredArcIter",void 0),A(this,"buf",void 0),this.initArcs(r)}return M(t,[{key:"initArcs",value:function(t){var r=[],e=[],n=t.map((function(t){for(var n=t?t.length:0,i=0;i<n;i++)r.push(t[i][0]),e.push(t[i][1]);return n}));this.initXYData(n,r,e)}},{key:"initXYData",value:function(t,r,e){var n=t.length;this._xx=new Float64Array(r),this._yy=new Float64Array(e),this._nn=new Uint32Array(t),this._zz=null,this._zlimit=0,this._filteredArcIter=null,this._ii=new Uint32Array(n);for(var i=0,o=0;o<n;o++)this._ii[o]=i,i+=t[o];i==this._xx.length&&this._xx.length==this._yy.length||P("ArcCollection#initXYData() Counting error"),this.initBounds(),this._arcIter=new z(this._xx,this._yy)}},{key:"initBounds",value:function(){var t=this.calcArcBounds_(this._xx,this._yy,this._nn);this._bb=t.bb,this._allBounds=t.bounds}},{key:"calcArcBounds_",value:function(t,r,e){for(var n,i,o,a=e.length,s=new Float64Array(4*a),u=new W,f=0,c=0;c<a;c++)(n=e[c])>0&&(i=4*c,o=V(t,r,f,n),s[i++]=o[0],s[i++]=o[1],s[i++]=o[2],s[i]=o[3],f+=n,u.mergeBounds(o));return{bb:s,bounds:u}}},{key:"getBounds",value:function(){return this._allBounds.clone()}},{key:"forEachSegment",value:function(t){for(var r=0,e=0,n=this.size();e<n;e++)r+=this.forEachArcSegment(e,t);return r}},{key:"size",value:function(){return this._ii&&this._ii.length||0}},{key:"forEachArcSegment",value:function(t,r){for(var e=t>=0,n=e?t:~t,i=this.getRetainedInterval(),o=this._nn[n],a=e?1:-1,s=e?this._ii[n]:this._ii[n]+o-1,u=s,f=0,c=1;c<o;c++)u+=a,(0===i||this._zz[u]>=i)&&(r(s,u,this._xx,this._yy),s=u,f++);return f}},{key:"getRetainedInterval",value:function(){return this._zlimit}},{key:"getVertexData",value:function(){return{xx:this._xx,yy:this._yy,zz:this._zz,bb:this._bb,nn:this._nn,ii:this._ii}}},{key:"getUint32Array",value:function(t){var r=4*t;return(!this.buf||this.buf.byteLength<r)&&(this.buf=new ArrayBuffer(r)),new Uint32Array(this.buf,0,t)}},{key:"getAvgSegment2",value:function(){var t=0,r=0,e=this.forEachSegment((function(e,n,i,o){t+=Math.abs(i[e]-i[n]),r+=Math.abs(o[e]-o[n])}));return[t/e||0,r/e||0]}},{key:"calcSegmentIntersectionStripeCount",value:function(){var t=this.getBounds().height(),r=this.getAvgSegment2()[1],e=1;return r>0&&t>0&&(e=Math.ceil(t/r/20)),e||1}},{key:"findSegmentIntersections",value:function(){var t,r,e=this.getBounds(),n=e.ymin,i=e.ymax-n,o=this.calcSegmentIntersectionStripeCount(),a=new Uint32Array(o),s=o>1?function(t){return Math.floor((o-1)*(t-n)/i)}:function(){return 0};this.forEachSegment((function(t,r,e,n){for(var i=s(n[t]),o=s(n[r]);a[i]=a[i]+2,i!=o;)i+=o>i?1:-1}));var u=this.getUint32Array(function(t,r){T(t)||P("utils.sum() expects an array, received:",t);for(var e,n=0,i=0,o=t.length;i<o;i++)(e=t[i])?n+=e:isNaN(e)&&0;return n}(a)),f=0,c=[];!function(t,r,e){if(!T(t))throw new Error("#forEach() takes an array-like argument. ".concat(t));for(var n=0,i=t.length;n<i;n++)r.call(undefined,t[n],n)}(a,(function(t){var r=f;f+=t,c.push(u.subarray(r,f))})),function(t,r){for(var e=0,n=t.length;e<n;e++)t[e]=0}(a),this.forEachSegment((function(t,r,e,n){for(var i,o,u=s(n[t]),f=s(n[r]);i=a[u],a[u]=i+2,(o=c[u])[i]=t,o[i+1]=r,u!=f;)u+=f>u?1:-1}));var l,h=this.getVertexData(),p=[];for(t=0;t<o;t++)for(l=I(c[t],h.xx,h.yy),r=0;r<l.length;r++)p.push(l[r]);return q(p)}}]),t}();function P(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var n=r.join(" ");throw new Error(n)}function T(t){return!!t&&(!!function(t){return Array.isArray(t)}(t)||!function(t){return null!=t&&t.toString===String.prototype.toString}(t)&&(0===t.length||t.length>0))}function I(t,r,e){var n,i,o,a,s,u,f,c,l,h,p,v,d,g,y,m,x,b,w,S,_,E,k,M,A,O,P=t.length-2,T=[];for(function(t,r){(function(t,r){for(var e=0,n=r.length;e<n;e+=2)t[r[e]]>t[r[e+1]]&&X(r,e,e+1)})(t,r),C(t,r,0,r.length-2)}(r,t),m=0;m<P;){for(n=t[m],i=t[m+1],s=r[n],u=r[i],l=e[n],h=e[i],x=m;x<P&&!(u<(f=r[o=t[x+=2]]));){if(p=e[o],c=r[a=t[x+1]],v=e[a],l>=p){if(l>v&&h>p&&h>v)continue}else if(l<v&&h<p&&h<v)continue;n!=o&&n!=a&&i!=o&&i!=a&&(O=void 0,O=null,function(t,r,e,n,i,o,a,s){return R(t,r,e,n,i,o)*R(t,r,e,n,a,s)<=0&&R(i,o,a,s,t,r)*R(i,o,a,s,e,n)<=0}(b=s,w=l,S=u,_=h,E=f,k=p,M=c,A=v)&&((O=function(t,r,e,n,i,o,a,s){var u,f=B(t,r,e,n,i,o,a,s);return f&&(1==(u=function(t,r){for(var e,n=-1,i=1/0,o=0,a=0,s=arguments.length<=2?0:arguments.length-2;a<s;o++,a+=2)(e=Y(t,r,a+2<2||arguments.length<=a+2?void 0:arguments[a+2],a+1+2<2||arguments.length<=a+1+2?void 0:arguments[a+1+2]))<i&&(i=e,n=o);return n}(f[0],f[1],t,r,e,n,i,o,a,s))?f=B(e,n,t,r,i,o,a,s):2==u?f=B(i,o,a,s,t,r,e,n):3==u&&(f=B(a,s,i,o,t,r,e,n))),f&&function(t,r,e,n,i,o,a,s,u){var f=t[0],c=t[1];f=N(f,r,n),f=N(f,o,s),c=N(c,e,i),c=N(c,a,u),t[0]=f,t[1]=c}(f,t,r,e,n,i,o,a,s),f}(b,w,S,_,E,k,M,A))?function(t,r,e,n,i,o,a,s){return t==i&&r==o||t==a&&r==s||e==i&&n==o||e==a&&n==s}(b,w,S,_,E,k,M,A)&&(O=null):O=function(t,r,e,n,i,o,a,s){var u=Math.min(t,e,i,a),f=Math.max(t,e,i,a),c=Math.min(r,n,o,s),l=Math.max(r,n,o,s),h=l-c>f-u,p=[];return(h?F(r,c,l):F(t,u,f))&&p.push(t,r),(h?F(n,c,l):F(e,u,f))&&p.push(e,n),(h?F(o,c,l):F(i,u,f))&&p.push(i,o),(h?F(s,c,l):F(a,u,f))&&p.push(a,s),(2!=p.length&&4!=p.length||4==p.length&&p[0]==p[2]&&p[1]==p[3])&&(p=null),p}(b,w,S,_,E,k,M,A)),d=O)&&(g=[n,i],y=[o,a],T.push(D(d,g,y,r,e)),4==d.length&&T.push(D(d.slice(2),g,y,r,e)))}m+=2}return T}function R(t,r,e,n,i,o){return j(t-i,r-o,e-i,n-o)}function j(t,r,e,n){return t*n-r*e}function B(t,r,e,n,i,o,a,s){var u=j(e-t,n-r,a-i,s-o);if(0===u)return null;var f=R(i,o,a,s,t,r)/u;return u<=1e-18&&u>=-1e-18?function(t,r,e,n,i,o,a,s){var u=null;return L(t,i,a)||L(r,o,s)?L(e,i,a)||L(n,o,s)?L(i,t,e)||L(o,r,n)?L(a,t,e)||L(s,r,n)||(u=[a,s]):u=[i,o]:u=[e,n]:u=[t,r],u}(t,r,e,n,i,o,a,s):[t+f*(e-t),r+f*(n-r)]}function L(t,r,e){return r<e?t<r||t>e:r>e?t>r||t<e:t!=r}function Y(t,r,e,n){var i=t-e,o=r-n;return i*i+o*o}function N(t,r,e){var n;return L(t,r,e)&&(n=Math.abs(t-r)<Math.abs(t-e)?r:e,Math.abs(t-n),t=n),t}function F(t,r,e){return t>r&&t<e}function X(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function C(t,r,e,n){for(var i,o,a=e,s=n;a<n;){for(i=t[r[e+n>>2<<1]];a<=s;){for(;t[r[a]]<i;)a+=2;for(;t[r[s]]>i;)s-=2;a<=s&&(o=r[a],r[a]=r[s],r[s]=o,o=r[a+1],r[a+1]=r[s+1],r[s+1]=o,a+=2,s-=2)}if(s-e<40?U(t,r,e,s):C(t,r,e,s),n-a<40)return void U(t,r,a,n);e=a,s=n}}function U(t,r,e,n){for(var i,o,a=e+2;a<=n;a+=2){i=r[a],o=r[a+1];var s=void 0;for(s=a-2;s>=e&&t[i]<t[r[s]];s-=2)r[s+2]=r[s],r[s+3]=r[s+1];r[s+2]=i,r[s+3]=o}}function D(t,r,e,n,i){var o=t[0],a=t[1];r=G(o,a,r[0],r[1],n,i),e=G(o,a,e[0],e[1],n,i);var s=r[0]<e[0]?r:e;return{x:o,y:a,a:s,b:s==r?e:r}}function G(t,r,e,n,i,o){var a=e<n?e:n,s=a===e?n:e;return i[a]==t&&o[a]==r?s=a:i[s]==t&&o[s]==r&&(a=s),[a,s]}function q(t){var r={};return t.filter((function(t){var e=function(t){return"".concat(t.a.join(","),";").concat(t.b.join(","))}(t);return!(e in r)&&(r[e]=!0,!0)}))}var z=function t(r,e){E(this,t),A(this,"_i",0),A(this,"_n",0),A(this,"_inc",1),A(this,"_xx",void 0),A(this,"_yy",void 0),A(this,"i",0),A(this,"x",0),A(this,"y",0),this._xx=r,this._yy=e};function V(t,r,e,n){var i,o,a,s,u,f,c=0|e,l=isNaN(n)?t.length-c:n+c;if(!(l>0))return[void 0,void 0,void 0,void 0];for(a=u=t[c],s=f=r[c],c++;c<l;c++)(i=t[c])<a&&(a=i),i>u&&(u=i),(o=r[c])<s&&(s=o),o>f&&(f=o);return[a,s,u,f]}var W=function(){function t(){E(this,t),A(this,"xmin",void 0),A(this,"ymin",void 0),A(this,"xmax",void 0),A(this,"ymax",void 0);for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];e.length>0&&this.setBounds(e)}return M(t,[{key:"cloneBounds",value:function(){return this.clone()}},{key:"clone",value:function(){return new t(this.xmin,this.ymin,this.xmax,this.ymax)}},{key:"width",value:function(){return this.xmax-this.xmin||0}},{key:"height",value:function(){return this.ymax-this.ymin||0}},{key:"setBounds",value:function(t,r,e,n){return 1==arguments.length&&(T(t)?(r=t[1],e=t[2],n=t[3],t=t[0]):(r=t.ymin,e=t.xmax,n=t.ymax,t=t.xmin)),this.xmin=t,this.ymin=r,this.xmax=e,this.ymax=n,(t>e||r>n)&&this.update(),this}},{key:"update",value:function(){var t;this.xmin>this.xmax&&(t=this.xmin,this.xmin=this.xmax,this.xmax=t),this.ymin>this.ymax&&(t=this.ymin,this.ymin=this.ymax,this.ymax=t)}},{key:"mergeBounds",value:function(r){var e,n,i,o;return r instanceof t?(e=r.xmin,n=r.ymin,i=r.xmax,o=r.ymax):3==(arguments.length<=1?0:arguments.length-1)?(e=r,n=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2],o=arguments.length<=3?void 0:arguments[3]):4==r.length?(e=r[0],n=r[1],i=r[2],o=r[3]):P("Bounds#mergeBounds() invalid argument:",r),void 0===this.xmin?this.setBounds(e,n,i,o):(e<this.xmin&&(this.xmin=e),n<this.ymin&&(this.ymin=n),i>this.xmax&&(this.xmax=i),o>this.ymax&&(this.ymax=o)),this}}]),t}();function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e(6977),e(86),e(561),e(2526),e(1817),e(2165);var H=function(){function t(r,e){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=r,this.y=e}var r,e;return r=t,(e=[{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"add",value:function(r){return new t(this.x+r.x,this.y+r.y)}},{key:"sub",value:function(r){return new t(this.x-r.x,this.y-r.y)}},{key:"scale",value:function(r){return new t(this.x*r,this.y*r)}},{key:"sqDistanceTo",value:function(t){return(this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y)}},{key:"toStr",value:function(){return"(".concat(this.x.toFixed(3),", ").concat(this.y.toFixed(3),")")}},{key:"copyFrom",value:function(t){this.x=t.x,this.y=t.y}}])&&$(r.prototype,e),t}();function K(t,r){return t.x*r.y-t.y*r.x}function Z(t,r){return K(t[1].sub(t[0]),r.sub(t[0]))}var Q=new H(0,0);function tt(t,r){return t.bin==r.bin?0:t.bin<r.bin?-1:1}function rt(t,r){var e=t[1].sub(t[0]),n=r[0].sub(t[0]),i=r[1].sub(t[0]),o=K(e,n),a=K(e,i);if(o>0&&a>0||o<0&&a<0)return!1;var s=r[1].sub(r[0]),u=t[0].sub(r[0]),f=t[1].sub(r[0]),c=K(s,u),l=K(s,f);if(c>0&&l>0||c<0&&l<0)return!1;if(Math.abs(o)<1e-14&&Math.abs(a)<1e-14){if(Math.max(r[0].x,r[1].x)<Math.min(t[0].x,t[1].x)||Math.min(r[0].x,r[1].x)>Math.max(t[0].x,t[1].x))return!1;if(Math.max(r[0].y,r[1].y)<Math.min(t[0].y,t[1].y)||Math.min(r[0].y,r[1].y)>Math.max(t[0].y,t[1].y))return!1}return!0}function et(t,r,e){for(var n=r.scaled_vert,i=r.tri,o=r.adj,a=Math.max(10,o.length),s=0,u=[];s<a;){if(-1===e)return[e,s];var f=i[e],c=[Z([n[f[1]],n[f[2]]],t),Z([n[f[2]],n[f[0]]],t),Z([n[f[0]],n[f[1]]],t)];if(c[0]>=0&&c[1]>=0&&c[2]>=0)return[e,s];for(var l=-1,h=0;h<3;h++)if(c[h]>=0){l=h;break}var p=(l+1)%3,v=(l+2)%3;if(c[p]>=0&&c[v]<0)e=o[e][v],u[s]=n[f[l]].add(n[f[p]]).scale(.5);else if(c[p]<0&&c[v]>=0)e=o[e][p],u[s]=n[f[v]].add(n[f[l]]).scale(.5);else{var d=n[f[p]].sub(n[f[l]]),g=t.sub(n[f[l]]);d.dot(g)>0?(e=o[e][v],u[s]=n[f[l]].add(n[f[p]]).scale(.5)):(e=o[e][p],u[s]=n[f[v]].add(n[f[l]]).scale(.5))}s++}throw"Could not locate the triangle that encloses (".concat(t.x,", ").concat(t.y,")!")}function nt(t,r,e){for(var n=r.scaled_vert,i=r.tri,o=r.adj,a=n[t];e.length>0;){for(var s=e.pop(),u=s[0],f=i[u],c=[],l=0;l<3;l++)c[l]=n[f[l]];if(!ot(c,a)){var h=s[1],p=o[u][h];if(p<0)throw"negative index";it(r,u,p);var v=i[u].indexOf(t),d=o[u][v];if(d>=0){var g=o[d].indexOf(u);e.push([d,g])}var y=i[p].indexOf(t),m=o[p][y];if(m>=0){var x=o[m].indexOf(p);e.push([m,x])}}}}function it(t,r,e){var n=t.tri,i=t.adj,o=t.vert_to_tri,a=i[r].indexOf(e),s=i[e].indexOf(r),u=(a+1)%3,f=(a+2)%3,c=(s+1)%3,l=(s+2)%3;n[r][f]=n[e][s],n[e][l]=n[r][a],i[r][a]=i[e][c],i[e][s]=i[r][u];var h=i[r][u];if(h>=0){var p=i[h].indexOf(r);i[h][p]=e}var v=i[e][c];if(v>=0){var d=i[v].indexOf(e);i[v][d]=r}if(i[r][u]=e,i[e][c]=r,o.length>0){o[n[r][a]].push(e),o[n[e][s]].push(r);var g=o[n[r][u]].indexOf(e);o[n[r][u]].splice(g,1),g=o[n[e][c]].indexOf(r),o[n[e][c]].splice(g,1)}}function ot(t,r){var e=t[0].sub(r),n=t[1].sub(r),i=t[2].sub(r),o=e.x*e.x+e.y*e.y,a=n.x*n.x+n.y*n.y,s=i.x*i.x+i.y*i.y;return e.x*(n.y*s-a*i.y)-e.y*(n.x*s-a*i.x)+o*(n.x*i.y-n.y*i.x)<=0}function at(t,r){for(var e=t.tri,n=t.scaled_vert,i=t.adj,o=t.con_edge,a=t.vert_to_tri,s=o[r][0],u=o[r][1],f=[n[s],n[u]],c=a[s],l=!1,h=[],p=0;p<c.length;p++){var v=e[c[p]],d=v.indexOf(s),g=(d+1)%3,y=(d+2)%3;if(u==v[g]){l=!0;break}if(u==v[y]){l=!0;break}if(rt(f,[n[v[g]],n[v[y]]])){h.push([c[p],d]);break}}if(!l){if(0==h.length)throw"Cannot have no intersections!";for(;;){var m=h[h.length-1],x=i[m[0]][m[1]];if(e[x][0]==u||e[x][1]==u||e[x][2]==u)break;var b=i[x].indexOf(m[0]);if(-1==b)throw"Could not find edge!";for(var w=e[x],S=1;S<3;S++){var _=(b+S+2)%3;if(rt(f,[n[w[(b+S+1)%3]],n[w[_]]])){h.push([x,(b+S)%3]);break}}}}return h}function st(t,r,e,n){for(var i=t.tri,o=t.scaled_vert,a=t.adj,s=t.con_edge[e],u=[o[s[0]],o[s[1]]],f=r.length,c=0;c<f;c++){var l=r[f-1-c][0],h=r[f-1-c][1],p=a[l][h],v=a[p].indexOf(l),d=o[i[l][h]],g=o[i[l][(h+1)%3]],y=o[i[p][v]];if(rt([d,y],[g,o[i[l][(h+2)%3]]])){it(t,l,p);var m=[i[l][h],i[p][v]],x=[d,y];m[0]!=s[0]&&m[0]!=s[1]&&m[1]!=s[0]&&m[1]!=s[1]&&rt(u,x)||n.push([m[0],m[1]])}}}function ut(t,r,e){for(var n=[e[t[0]],e[t[1]]],i=0;i<r.length;i++){if(r[i][0]==t[0]&&r[i][1]==t[1]||r[i][0]==t[1]&&r[i][1]==t[0])return!1;var o=r[i][0]==t[0]||r[i][0]==t[1]||r[i][1]==t[0]||r[i][1]==t[1],a=[e[r[i][0]],e[r[i][1]]];if(!o&&rt(a,n))return!1}return!0}function ft(t,r,e){if(r||(r=[]),"object"!==J(t)||"FeatureCollection"!==t.type)throw"Argument points must be FeatureCollection";if(!Array.isArray(r))throw"Argument points must be Array of Array";var n=!1,o=t.features.reduce((function(t,r){var i=r.geometry.coordinates;return t[0].push(i[0]),t[1].push(i[1]),e?t[2].push(r.properties[e]):3===i.length&&(n=!0,t[2].push(r.geometry.coordinates[2])),t}),[[],[],[]]),s=Math.max.apply(null,o[0]),u=Math.min.apply(null,o[0]),f=Math.max.apply(null,o[1]),c=Math.min.apply(null,o[1]),l=s-u,h=(s+u)/2,p=f-c,v=(f+c)/2,d=1.1*Math.max(l,p),g={vert:t.features.map((function(t){var r=t.geometry.coordinates,e=[(r[0]-h)/d+.5,(r[1]-v)/d+.5];return new H(e[0],e[1])}))};!function(t,r){var e=t.vert.length;t.con_edge=[];for(var n=0;n<r.length;n++){var i=r[n];if(i[0]<0||i[0]>=e||i[1]<0||i[1]>=e)throw"Vertex indices of edge ".concat(n," need to be non-negative and less than the number of input vertices.");if(i[0]===i[1])throw"Edge ".concat(n," is degenerate!");if(!ut(i,t.con_edge,t.vert))throw"Edge ".concat(n," already exists or intersects with an existing edge!");t.con_edge.push([i[0],i[1]])}}(g,r),function(t){!function(t){for(var r=t.vert.length,e=Math.round(Math.pow(r,.25)),n=[],i=[],o=0;o<r;o++){var a=(t.vert[o].x-Q.x)/1,s=(t.vert[o].y-Q.y)/1;n.push(new H(a,s));var u,f=Math.round((e-1)*a),c=Math.round((e-1)*s);u=c%2==0?c*e+f:(c+1)*e-f-1,i.push({ind:o,bin:u})}var l=1e3;n.push(new H(.5-l,-l/Math.sqrt(3)+.5)),n.push(new H(l+.5,-l/Math.sqrt(3)+.5)),n.push(new H(.5,2*l/Math.sqrt(3)+.5));for(var h=r;h<r+3;h++)t.vert.push(new H(1*n[h].x+Q.x,1*n[h].y+Q.y));i.sort(tt),t.scaled_vert=n,t.bin=i,t.tri=[[r,r+1,r+2]],t.adj=[[-1,-1,-1]],t.vert_to_tri=[]}(t);for(var r=t.scaled_vert,e=t.bin,n=t.tri,i=t.adj,o=r.length-3,a=0,s=0;s<o;s++){var u=e[s].ind;if(-1===(a=et(r[u],t,a)[0]))throw"Could not find a triangle containing the new vertex!";var f=n[a],c=[f[0],f[1],u],l=[u,f[1],f[2]],h=[f[0],u,f[2]];n[a]=c;var p=n.length,v=i[a];i[a]=[p,p+1,v[2]],n.push(l),n.push(h),i.push([v[0],p+1,a]),i.push([p,v[1],a]);var d=[];if(v[2]>=0){var g=i[v[2]].indexOf(a);d.push([v[2],g])}if(v[0]>=0){var y=i[v[0]].indexOf(a);i[v[0]][y]=p,d.push([v[0],y])}if(v[1]>=0){var m=i[v[1]].indexOf(a);i[v[1]][m]=p+1,d.push([v[1],m])}nt(u,t,d)}!function(t){for(var r=t.scaled_vert,e=t.tri,n=t.adj,i=r.length-3,o=0,a=[],s=0;s<e.length;s++){for(var u=o,f=s;f<e.length;f++){if(e[f][0]<i&&e[f][1]<i&&e[f][2]<i){a[s+o]=s;break}a[s+o]=-1,o++}var c=o-u;c>0&&(e.splice(s,c),n.splice(s,c))}for(var l=0;l<n.length;l++)for(var h=0;h<3;h++)n[l][h]=a[n[l][h]];t.scaled_vert.splice(-3,3),t.vert.splice(-3,3)}(t)}(g),function(t){if(0!=t.con_edge.length){!function(t){var r=t.tri;t.vert_to_tri=[];for(var e=t.vert_to_tri,n=0;n<r.length;n++)for(var i=0;i<3;i++)null==e[r[n][i]]?e[r[n][i]]=[n]:e[r[n][i]].push(n)}(t);for(var r,e,n=t.con_edge,i=t.tri,o=t.scaled_vert,a=t.adj,s=t.vert_to_tri,u=[],f=0;f<n.length;f++){for(var c=at(t,f),l=0,h=Math.max(c.length,1);c.length>0&&l<h;)st(t,c,f,u),c=at(t,f),l++;if(c.length>0)throw"Could not add edge ".concat(f," to triangulation after ").concat(h," iterations!")}for(;;){for(var p=0,v=0;v<u.length;v++){for(var d=u[v],g=!1,y=0;y<n.length;y++)if(r=d,e=n[y],r[0]==e[0]&&r[1]==e[1]||r[1]==e[0]&&r[0]==e[1]){g=!0;break}if(!g){for(var m=s[d[0]],x=0,b=[-1,-1],w=0;w<m.length;w++){var S=i[m[w]];if((S[0]==d[1]||S[1]==d[1]||S[2]==d[1])&&(b[x]=m[w],2==++x))break}if(-1!=b[0]){var _=[o[i[b[0]][0]],o[i[b[0]][1]],o[i[b[0]][2]]],E=a[b[1]].indexOf(b[0]);if(!ot(_,o[i[b[1]][E]])){var k=a[b[0]].indexOf(b[1]);it(t,b[0],b[1]),p++,u[v]=[i[b[0]][k],i[b[1]][E]]}}}}if(0==p)break}}}(g);var y=["a","b","c"];return a(g.tri.map((function(t){var r={},e=t.map((function(t,e){var i=[o[0][t],o[1][t]];return void 0!==o[2][t]&&(n?i[2]=o[2][t]:r[y[e]]=o[2][t]),i}));return e[3]=e[0],i([e],r)})))}function ct(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function lt(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ht(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}var pt=2.00703,vt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ct(this,e),ht(this,"bounds",void 0),ht(this,"boundsPolygon",void 0),ht(this,"centroid",void 0),ht(this,"edgeNodes",void 0),ht(this,"edges",void 0),ht(this,"importance",void 0),ht(this,"indexedTins",void 0),ht(this,"kinks",void 0),ht(this,"points",[]),ht(this,"pointsWeightBuffer",void 0),ht(this,"priority",void 0),ht(this,"stateBackward",void 0),ht(this,"stateFull",void 0),ht(this,"stateTriangle",void 0),ht(this,"strictMode",void 0),ht(this,"strict_status",void 0),ht(this,"tins",void 0),ht(this,"vertexMode",void 0),ht(this,"vertices_params",void 0),ht(this,"wh",void 0),ht(this,"xy",void 0),ht(this,"yaxisMode",void 0),ht(this,"pointsSet",void 0),t.bounds?this.setBounds(t.bounds):(this.setWh(t.wh),this.vertexMode=t.vertexMode||e.VERTEX_PLAIN),this.strictMode=t.strictMode||e.MODE_AUTO,this.yaxisMode=t.yaxisMode||e.YAXIS_INVERT,this.importance=t.importance||0,this.priority=t.priority||0,this.stateFull=t.stateFull||!1,t.points&&this.setPoints(t.points),t.edges&&this.setEdges(t.edges)}var n,u;return n=e,(u=[{key:"getFormatVersion",value:function(){return pt}},{key:"setPoints",value:function(t){this.yaxisMode==e.YAXIS_FOLLOW&&(t=t.map((function(t){return[t[0],[t[1][0],-1*t[1][1]]]}))),this.points=t,this.tins=void 0,this.indexedTins=void 0}},{key:"setEdges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.edges=Ot(t),this.edgeNodes=void 0,this.tins=void 0,this.indexedTins=void 0}},{key:"setBounds",value:function(t){this.bounds=t;for(var r=t[0][0],n=r,o=t[0][1],a=o,s=[t[0]],u=1;u<t.length;u++){var f=t[u];f[0]<r&&(r=f[0]),f[0]>n&&(n=f[0]),f[1]<o&&(o=f[1]),f[1]>a&&(a=f[1]),s.push(f)}s.push(t[0]),this.boundsPolygon=i([s]),this.xy=[r,o],this.wh=[n-r,a-o],this.vertexMode=e.VERTEX_PLAIN,this.tins=void 0,this.indexedTins=void 0}},{key:"setCompiled",value:function(t){var n=this;if(t.version||!t.tins&&t.points&&t.tins_points){this.points=t.points,this.pointsWeightBuffer=!t.version||t.version<2.00703?["forw","bakw"].reduce((function(r,e){var n=t.weight_buffer[e];return n&&(r[e]=Object.keys(n).reduce((function(t,r){return t[At(r)]=n[r],t}),{})),r}),{}):t.weight_buffer,t.strict_status?this.strict_status=t.strict_status:t.kinks_points?this.strict_status=e.STATUS_ERROR:2==t.tins_points.length?this.strict_status=e.STATUS_LOOSE:this.strict_status=e.STATUS_STRICT,this.vertices_params={forw:[t.vertices_params[0]],bakw:[t.vertices_params[1]]},this.vertices_params.forw[1]=[0,1,2,3].map((function(r){var e=(r+1)%4;return a([Mt(["c","b".concat(r),"b".concat(e)],t.points,t.edgeNodes||[],t.centroid_point,t.vertices_points,!1,pt)])})),this.vertices_params.bakw[1]=[0,1,2,3].map((function(r){var e=(r+1)%4;return a([Mt(["c","b".concat(r),"b".concat(e)],t.points,t.edgeNodes||[],t.centroid_point,t.vertices_points,!0,pt)])})),this.centroid={forw:r(t.centroid_point[0],{target:{geom:t.centroid_point[1],index:"c"}}),bakw:r(t.centroid_point[1],{target:{geom:t.centroid_point[0],index:"c"}})},this.edges=Ot(t.edges||[]),this.edgeNodes=t.edgeNodes||[];var i=1==t.tins_points.length?0:1;this.tins={forw:a(t.tins_points[0].map((function(r){return Mt(r,t.points,t.edgeNodes||[],t.centroid_point,t.vertices_points,!1,t.version)}))),bakw:a(t.tins_points[i].map((function(r){return Mt(r,t.points,t.edgeNodes||[],t.centroid_point,t.vertices_points,!0,t.version)})))},this.addIndexedTin(),t.kinks_points&&(this.kinks={bakw:a(t.kinks_points.map((function(t){return r(t)})))}),t.yaxisMode?this.yaxisMode=t.yaxisMode:this.yaxisMode=e.YAXIS_INVERT,t.vertexMode&&(this.vertexMode=t.vertexMode),t.strictMode&&(this.strictMode=t.strictMode),t.bounds?(this.bounds=t.bounds,this.boundsPolygon=t.boundsPolygon,this.xy=t.xy,this.wh=t.wh):(this.xy=[0,0],t.wh&&(this.wh=t.wh),this.bounds=void 0,this.boundsPolygon=void 0)}else!function(){t=JSON.parse(JSON.stringify(t).replace('"cent"','"c"').replace(/"bbox(\d+)"/g,'"b$1"')),n.tins=t.tins,n.addIndexedTin(),n.strict_status=t.strict_status,n.pointsWeightBuffer=t.weight_buffer,n.vertices_params=t.vertices_params,n.centroid=t.centroid,n.kinks=t.kinks;for(var r=[],e=function(t){var e=n.tins.forw.features[t];["a","b","c"].map((function(t,n){var i=e.geometry.coordinates[0][n],o=e.properties[t].geom,a=e.properties[t].index;r[a]=[i,o]}))},i=0;i<n.tins.forw.features.length;i++)e(i);n.points=r}();return{tins:this.tins,strict_status:this.strict_status,weight_buffer:this.pointsWeightBuffer,vertices_params:this.vertices_params,centroid:this.centroid,kinks:this.kinks}}},{key:"getCompiled",value:function(){var t={};t.version=pt,t.points=this.points,t.weight_buffer=this.pointsWeightBuffer,t.centroid_point=[this.centroid.forw.geometry.coordinates,this.centroid.forw.properties.target.geom],t.vertices_params=[this.vertices_params.forw[0],this.vertices_params.bakw[0]],t.vertices_points=[];var r=this.vertices_params.forw[1];return[0,1,2,3].map((function(e){var n=r[e].features[0],i=n.geometry.coordinates[0][1],o=n.properties.b.geom;t.vertices_points[e]=[i,o]})),t.strict_status=this.strict_status,t.tins_points=[[]],this.tins.forw.features.map((function(r){t.tins_points[0].push(["a","b","c"].map((function(t){return r.properties[t].index})))})),this.strict_status==e.STATUS_LOOSE?(t.tins_points[1]=[],this.tins.bakw.features.map((function(r){t.tins_points[1].push(["a","b","c"].map((function(t){return r.properties[t].index})))}))):this.strict_status==e.STATUS_ERROR&&(t.kinks_points=this.kinks.bakw.features.map((function(t){return t.geometry.coordinates}))),t.yaxisMode=this.yaxisMode,t.vertexMode=this.vertexMode,t.strictMode=this.strictMode,this.bounds?(t.bounds=this.bounds,t.boundsPolygon=this.boundsPolygon,t.xy=this.xy,t.wh=this.wh):t.wh=this.wh,t.edges=this.edges,t.edgeNodes=this.edgeNodes,t}},{key:"addIndexedTin",value:function(){var t=this.tins,r=t.forw,e=t.bakw,n=Math.ceil(Math.sqrt(r.features.length));if(n<3)this.indexedTins=void 0;else{var i=[],o=[],a=r.features.map((function(t){var r=[];return c(t)[0].map((function(t){0===i.length?i=[Array.from(t),Array.from(t)]:(t[0]<i[0][0]&&(i[0][0]=t[0]),t[0]>i[1][0]&&(i[1][0]=t[0]),t[1]<i[0][1]&&(i[0][1]=t[1]),t[1]>i[1][1]&&(i[1][1]=t[1])),0===r.length?r=[Array.from(t),Array.from(t)]:(t[0]<r[0][0]&&(r[0][0]=t[0]),t[0]>r[1][0]&&(r[1][0]=t[0]),t[1]<r[0][1]&&(r[0][1]=t[1]),t[1]>r[1][1]&&(r[1][1]=t[1]))})),r})),s=(i[1][0]-i[0][0])/n,u=(i[1][1]-i[0][1])/n,f=a.reduce((function(t,r,e){for(var o=St(r[0][0],i[0][0],s,n),a=St(r[1][0],i[0][0],s,n),f=St(r[0][1],i[0][1],u,n),c=St(r[1][1],i[0][1],u,n),l=o;l<=a;l++){t[l]||(t[l]=[]);for(var h=f;h<=c;h++)t[l][h]||(t[l][h]=[]),t[l][h].push(e)}return t}),[]),l=e.features.map((function(t){var r=[];return c(t)[0].map((function(t){0===o.length?o=[Array.from(t),Array.from(t)]:(t[0]<o[0][0]&&(o[0][0]=t[0]),t[0]>o[1][0]&&(o[1][0]=t[0]),t[1]<o[0][1]&&(o[0][1]=t[1]),t[1]>o[1][1]&&(o[1][1]=t[1])),0===r.length?r=[Array.from(t),Array.from(t)]:(t[0]<r[0][0]&&(r[0][0]=t[0]),t[0]>r[1][0]&&(r[1][0]=t[0]),t[1]<r[0][1]&&(r[0][1]=t[1]),t[1]>r[1][1]&&(r[1][1]=t[1]))})),r})),h=(o[1][0]-o[0][0])/n,p=(o[1][1]-o[0][1])/n,v=l.reduce((function(t,r,e){for(var i=St(r[0][0],o[0][0],h,n),a=St(r[1][0],o[0][0],h,n),s=St(r[0][1],o[0][1],p,n),u=St(r[1][1],o[0][1],p,n),f=i;f<=a;f++){t[f]||(t[f]=[]);for(var c=s;c<=u;c++)t[f][c]||(t[f][c]=[]),t[f][c].push(e)}return t}),[]);this.indexedTins={forw:{gridNum:n,xOrigin:i[0][0],yOrigin:i[0][1],xUnit:s,yUnit:u,gridCache:f},bakw:{gridNum:n,xOrigin:o[0][0],yOrigin:o[0][1],xUnit:h,yUnit:p,gridCache:v}}}}},{key:"setWh",value:function(t){this.wh=t,this.xy=[0,0],this.bounds=void 0,this.boundsPolygon=void 0,this.tins=void 0,this.indexedTins=void 0}},{key:"setVertexMode",value:function(t){this.vertexMode=t,this.tins=void 0,this.indexedTins=void 0}},{key:"setStrictMode",value:function(t){this.strictMode=t,this.tins=void 0,this.indexedTins=void 0}},{key:"calcurateStrictTinAsync",value:function(){var t=this,n=this.pointsSet.edges;return Promise.all(this.tins.forw.features.map((function(t){return Promise.resolve(Et(t))}))).then((function(r){t.tins.bakw=a(r)})).then((function(){var r={};return Promise.all(t.tins.forw.features.map((function(e,n){var i=t.tins.bakw.features[n];return Promise.resolve(Tt(r,{forw:e,bakw:i}))}))).then((function(){return Promise.all([Pt(r),Promise.resolve(r)])})).catch((function(t){throw t}))})).then((function(o){var u=o[0],f=o[1];return u.bakw&&Object.keys(u.bakw).map((function(r){if("Not include case"!=u.bakw[r]){var e=f[r],o=function(t,r,e){void 0===e&&(e={});var n=l(t),o=l(r),a=b.union(n.coordinates,o.coordinates);return 0===a.length?null:1===a.length?i(a[0],e.properties):s(a,e.properties)}(e[0].forw,e[1].forw),c=x(a([e[0].forw,e[1].forw]));if(m=o,w=l(y=c),S=l(m),_=y.properties||{},0===(E=b.difference(w.coordinates,S.coordinates)).length||!(1===E.length?i(E[0],_):s(E,_))){var h=r.split("-");if(h[0].match(/^[0-9]+$/)&&h[1].match(/^[0-9]+$/))for(var p=h.map((function(t){return parseInt(t)})).sort((function(t,r){return t<r?-1:1})),v=0;v<n.length-1;v++)if(p[0]==n[v][0]&&p[1]==n[v][1])return;var d=h.map((function(t){return["a","b","c"].map((function(t,r){var n=e[0].bakw.properties[t];return{geom:e[0].bakw.geometry.coordinates[0][r],prop:n}})).filter((function(r){return r.prop.index==t}))[0]})),g=e.map((function(t){return["a","b","c"].map((function(r,e){var n=t.bakw.properties[r];return{geom:t.bakw.geometry.coordinates[0][e],prop:n}})).filter((function(t){return t.prop.index!=d[0].prop.index&&t.prop.index!=d[1].prop.index}))[0]}));It(f,e[0],t.tins),It(f,e[1],t.tins),d.map((function(r){var e=i([[r.geom,g[0].geom,g[1].geom,r.geom]],{a:r.prop,b:g[0].prop,c:g[1].prop}),n=Et(e);Tt(f,{forw:n,bakw:e},t.tins)}))}}var y,m,w,S,_,E})),Promise.all(["forw","bakw"].map((function(e){return new Promise((function(n){var i;n((i=t.tins[e].features.map((function(t){return t.geometry.coordinates[0]})),q(new O(i).findSegmentIntersections()).reduce((function(t,e,n,i){return t||(t={}),t["".concat(e.x,":").concat(e.y)]=e,n!=i.length-1?t:Object.keys(t).map((function(e){return r([t[e].x,t[e].y])}))}),[])))})).catch((function(t){throw t}))}))).then((function(r){0==r[0].length&&0==r[1].length?(t.strict_status=e.STATUS_STRICT,delete t.kinks):(t.strict_status=e.STATUS_ERROR,t.kinks={},r[0].length>0&&(t.kinks.forw=a(r[0])),r[1].length>0&&(t.kinks.bakw=a(r[1])))})).catch((function(t){throw t}))})).catch((function(t){throw t}))}},{key:"generatePointsSet",value:function(){for(var t=this,r={forw:[],bakw:[]},e=0;e<this.points.length;e++){var n=mt(this.points[e][0],this.points[e][1],e);r.forw.push(n),r.bakw.push(xt(n))}var i=[],o=0;this.edgeNodes=[],this.edges||(this.edges=[]);for(var s=function(e){var n=t.edges[e][2],a=Object.assign([],t.edges[e][0]),s=Object.assign([],t.edges[e][1]);if(0===a.length&&0===s.length)return i.push(n),"continue";a.unshift(t.points[n[0]][0]),a.push(t.points[n[1]][0]),s.unshift(t.points[n[0]][1]),s.push(t.points[n[1]][1]);var u=[a,s].map((function(t){var r=t.map((function(t,r,e){if(0===r)return 0;var n=e[r-1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))})),e=r.reduce((function(t,r,e){return 0===e?[0]:(t.push(t[e-1]+r),t)}),[]);return e.map((function(n,i,o){var a=n/o[o.length-1];return[t[i],r[i],e[i],a]}))}));u.map((function(t,r){var e=u[r?0:1];return t.filter((function(r,e){return!(0===e||e===t.length-1||"handled"===r[4])})).map((function(t){var n=t[0],i=t[3],o=e.reduce((function(t,r,e,n){if(t)return t;var o=n[e+1];return r[3]===i?(r[4]="handled",[r]):r[3]<i&&o[3]>i?[r,o]:void 0}),void 0);if(1===o.length)return 0===r?[n,o[0][0],i]:[o[0][0],n,i];var a=o[0],s=o[1],u=(i-a[3])/(s[3]-a[3]),f=[(s[0][0]-a[0][0])*u+a[0][0],(s[0][1]-a[0][1])*u+a[0][1]];return 0===r?[n,f,i]:[f,n,i]}))})).reduce((function(t,r){return t.concat(r)}),[]).sort((function(t,r){return t[2]<r[2]?-1:1})).map((function(e,a,s){t.edgeNodes[o]=[e[0],e[1]];var u=mt(e[0],e[1],"e".concat(o));o++,r.forw.push(u),r.bakw.push(xt(u)),0===a?i.push([n[0],r.forw.length-1]):i.push([r.forw.length-2,r.forw.length-1]),a===s.length-1&&i.push([r.forw.length-1,n[1]])}))},u=0;u<this.edges.length;u++)s(u);return{forw:a(r.forw),bakw:a(r.bakw),edges:i}}},{key:"updateTinAsync",value:function(){var n=this,i=this.strictMode,s=this.xy[0]-.05*this.wh[0],u=this.xy[0]+1.05*this.wh[0],f=this.xy[1]-.05*this.wh[1],l=this.xy[1]+1.05*this.wh[1],p=this.bounds?function(t){return h(t,n.boundsPolygon)}:function(t){return t[0]>=n.xy[0]&&t[0]<=n.xy[0]+n.wh[0]&&t[1]>=n.xy[1]&&t[1]<=n.xy[1]+n.wh[1]};return this.points.reduce((function(t,r){return t&&p(r[0])}),!0)?new Promise((function(t){i!=e.MODE_STRICT&&i!=e.MODE_LOOSE&&(i=e.MODE_AUTO);var r=[];n.wh&&(r=[[s,f],[u,f],[s,l],[u,l]]),t([n.generatePointsSet(),r])})).then((function(t){var e=t[0];return Promise.all([new Promise((function(t){t(ft(e.forw,e.edges,"target"))})),new Promise((function(t){t(ft(e.bakw,e.edges,"target"))})),new Promise((function(t){t(function(t,e){void 0===e&&(e={});var n=0,i=0,o=0;return d(t,(function(t){n+=t[0],i+=t[1],o++}),!0),r([n/o,i/o],e.properties)}(e.forw))})),Promise.resolve(t)]).catch((function(t){throw t}))})).then((function(t){var e=t[0],i=t[1],o=t[2],a=t[3],s=a[0];if(0==e.features.length||0==i.features.length)throw"TOO LINEAR1";var u={forw:o.geometry.coordinates,bakw:_t(o,e)},f=mt(u.forw,u.bakw,"c");n.centroid={forw:f,bakw:xt(f)};var c={};return Promise.all([new Promise((function(t){var n,i=x(s.forw).geometry.coordinates[0];try{n=i.map((function(t){return{forw:t,bakw:_t(r(t),e)}}))}catch(t){throw"TOO LINEAR2"}n.map((function(t){c["".concat(t.forw[0],":").concat(t.forw[1])]=t})),t(void 0)})),new Promise((function(t){var e,n=x(s.bakw).geometry.coordinates[0];try{e=n.map((function(t){return{bakw:t,forw:_t(r(t),i)}}))}catch(t){throw"TOO LINEAR2"}e.map((function(t){c["".concat(t.forw[0],":").concat(t.forw[1])]=t})),t(void 0)}))]).then((function(){return[u,c,a]})).catch((function(t){throw t}))})).then((function(t){var r=t[0],i=t[1],o=t[2],a=Object.keys(i).reduce((function(t,e,n,o){var a=i[e].forw,c=i[e].bakw,h={forw:[a[0]-r.forw[0],a[1]-r.forw[1]]};h.bakw=[c[0]-r.bakw[0],c[1]-r.bakw[1]];var p=0==h.forw[0]?1/0:((h.forw[0]<0?s:u)-r.forw[0])/h.forw[0],v=0==h.forw[1]?1/0:((h.forw[1]<0?f:l)-r.forw[1])/h.forw[1];if(Math.abs(p)/Math.abs(v)<1.1){var d={forw:[h.forw[0]*p+r.forw[0],h.forw[1]*p+r.forw[1]],bakw:[h.bakw[0]*p+r.bakw[0],h.bakw[1]*p+r.bakw[1]]};h.forw[0]<0?t[3].push(d):t[1].push(d)}if(Math.abs(v)/Math.abs(p)<1.1){var g={forw:[h.forw[0]*v+r.forw[0],h.forw[1]*v+r.forw[1]],bakw:[h.bakw[0]*v+r.bakw[0],h.bakw[1]*v+r.bakw[1]]};h.forw[1]<0?t[0].push(g):t[2].push(g)}return t}),[[],[],[],[]]),c=Object.keys(i).reduce((function(t,o,a,s){var u=i[o].forw,f=i[o].bakw,c={forw:[u[0]-r.forw[0],u[1]-r.forw[1]]};if(c.bakw=[f[0]-r.bakw[0],r.bakw[1]-f[1]],0==c.forw[0]||0==c.forw[1])return t;var l=0;return c.forw[0]>0&&(l+=1),c.forw[1]>0&&(l+=2),t[l].push([c.forw,c.bakw]),a==s.length-1?t.length==t.filter((function(t){return t.length>0})).length&&n.vertexMode==e.VERTEX_BIRDEYE?t:t.reduce((function(t,r){return[t[0].concat(r)]}),[[]]):t}),[[],[],[],[]]).map((function(t){return t.reduce((function(t,r,e,n){t||(t=[1/0,0,0]);var i=Math.sqrt(Math.pow(r[0][0],2)+Math.pow(r[0][1],2))/Math.sqrt(Math.pow(r[1][0],2)+Math.pow(r[1][1],2));i=i<t[0]?i:t[0];var o=Math.atan2(r[0][0],r[0][1])-Math.atan2(r[1][0],r[1][1]),a=t[1]+Math.cos(o),s=t[2]+Math.sin(o);return e==n.length-1?[i,Math.atan2(s,a)]:[i,a,s]}),null)}));return 1==c.length&&(c=[c[0],c[0],c[0],c[0]]),[c,r,a,o]})).then((function(r){var e=r[0],n=r[1],i=r[2],s=r[3][0],u=r[3][1],f=e.map((function(t,r){var e=u[r],i=[e[0]-n.forw[0],e[1]-n.forw[1]],o=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2))/t[0],a=Math.atan2(i[0],i[1])-t[1];return{forw:e,bakw:[n.bakw[0]+o*Math.sin(a),n.bakw[1]-o*Math.cos(a)]}})),l=f[2];f[2]=f[3],f[3]=l;for(var h=[1,1,1,1],p=function(r){var e=(r+1)%4,s=o([f[r].bakw,f[e].bakw]);i[r].map((function(i){var u=o([n.bakw,i.bakw]),f=function(r,e){var n={},i=[];if("LineString"===r.type&&(r=t(r)),"LineString"===e.type&&(e=t(e)),"Feature"===r.type&&"Feature"===e.type&&null!==r.geometry&&null!==e.geometry&&"LineString"===r.geometry.type&&"LineString"===e.geometry.type&&2===r.geometry.coordinates.length&&2===e.geometry.coordinates.length){var o=_(r,e);return o&&i.push(o),a(i)}var s=S();return s.load(w(e)),g(w(r),(function(t){g(s.search(t),(function(r){var e=_(t,r);if(e){var o=c(e).join(",");n[o]||(n[o]=!0,i.push(e))}}))})),a(i)}(s,u);if(f.features.length>0&&f.features[0].geometry){var l=f.features[0],p=Math.sqrt(Math.pow(i.bakw[0]-n.bakw[0],2)+Math.pow(i.bakw[1]-n.bakw[1],2))/Math.sqrt(Math.pow(l.geometry.coordinates[0]-n.bakw[0],2)+Math.pow(l.geometry.coordinates[1]-n.bakw[1],2));p>h[r]&&(h[r]=p),p>h[e]&&(h[e]=p)}}))},v=0;v<4;v++)p(v);return[f=f.map((function(t,r){var e=h[r],i=[(t.bakw[0]-n.bakw[0])*e+n.bakw[0],(t.bakw[1]-n.bakw[1])*e+n.bakw[1]];return{forw:t.forw,bakw:i}})),s]})).then((function(t){for(var r=t[0],o=t[1],a={forw:[],bakw:[]},s=0;s<r.length;s++){var u=mt(r[s].forw,r[s].bakw,"b".concat(s)),f=xt(u);o.forw.features.push(u),o.bakw.features.push(f),a.forw.push(u),a.bakw.push(f)}return n.pointsSet=o,n.tins={forw:dt(ft(o.forw,o.edges,"target"))},(i==e.MODE_STRICT||i==e.MODE_AUTO?n.calcurateStrictTinAsync():Promise.resolve()).then((function(){return(i==e.MODE_LOOSE||i==e.MODE_AUTO&&n.strict_status==e.STATUS_ERROR)&&(n.tins.bakw=dt(ft(o.bakw,o.edges,"target")),delete n.kinks,n.strict_status=e.STATUS_LOOSE),n.vertices_params={forw:gt(a.forw,n.centroid.forw),bakw:gt(a.bakw,n.centroid.bakw)},n.addIndexedTin(),n.calculatePointsWeightAsync()})).catch((function(t){throw t}))})).catch((function(t){throw t})):new Promise((function(t,r){r("SOME POINTS OUTSIDE")}))}},{key:"transform",value:function(t,n,i){var o=this;if(n&&this.strict_status==e.STATUS_ERROR)throw'Backward transform is not allowed if strict_status == "strict_error"';this.yaxisMode==e.YAXIS_FOLLOW&&n&&(t=[t[0],-1*t[1]]);var a=r(t);if(this.bounds&&!n&&!i&&!h(a,this.boundsPolygon))return!1;var s=n?this.tins.bakw:this.tins.forw,u=n?this.indexedTins.bakw:this.indexedTins.forw,f=n?this.vertices_params.bakw:this.vertices_params.forw,c=n?this.centroid.bakw:this.centroid.forw,l=n?this.pointsWeightBuffer.bakw:this.pointsWeightBuffer.forw,p=void 0,v=void 0;this.stateFull&&(this.stateBackward==n?p=this.stateTriangle:(this.stateBackward=n,this.stateTriangle=void 0),v=function(t){o.stateTriangle=t});var d=_t(a,s,u,f,c,l,p,v);if(this.bounds&&n&&!i){if(!h(r(d),this.boundsPolygon))return!1}else this.yaxisMode!=e.YAXIS_FOLLOW||n||(d=[d[0],-1*d[1]]);return d}},{key:"calculatePointsWeightAsync",value:function(){var t=this,r=["forw"];this.strict_status==e.STATUS_LOOSE&&r.push("bakw");var n={};return Promise.all(r.map((function(r){n[r]={};var e={},i=t.tins[r];return Promise.all(i.features.map((function(t){var i=["a","b","c"];return new Promise((function(o){for(var a=0;a<3;a++){var s=(a+1)%3,u=i[a],f=i[s],c=t.properties[u].index,l=t.properties[f].index,h=[c,l].sort().join("-");if(!e[h]){var p=t.geometry.coordinates[0][a],v=t.geometry.coordinates[0][s],d=t.properties[u].geom,g=t.properties[f].geom;e[h]=1;var y=Math.sqrt(Math.pow(d[0]-g[0],2)+Math.pow(d[1]-g[1],2))/Math.sqrt(Math.pow(p[0]-v[0],2)+Math.pow(p[1]-v[1],2));n[r][c]||(n[r][c]={}),n[r][l]||(n[r][l]={}),n[r][c][h]=y,n[r][l][h]=y}}o(void 0)}))}))).catch((function(t){throw t}))}))).then((function(){var i={};r.map((function(r){i[r]={},t.strict_status==e.STATUS_STRICT&&(i.bakw={}),Object.keys(n[r]).map((function(o){i[r][o]=Object.keys(n[r][o]).reduce((function(t,e,i,a){return t+=n[r][o][e],i==a.length-1?t/a.length:t}),0),t.strict_status==e.STATUS_STRICT&&(i.bakw[o]=1/i[r][o])})),i[r].c=[0,1,2,3].reduce((function(t,e){var n="b".concat(e);return t+=i[r][n],3==e?t/4:t}),0),t.strict_status==e.STATUS_STRICT&&(i.bakw.c=1/i[r].c)})),t.pointsWeightBuffer=i})).catch((function(t){throw t}))}}])&&lt(n.prototype,u),e}();function dt(t){for(var r=t.features,e=0;e<r.length;e++){var n=r[e];"b"==="".concat(n.properties.a.index).substring(0,1)&&"b"==="".concat(n.properties.b.index).substring(0,1)?r[e]={geometry:{type:"Polygon",coordinates:[[n.geometry.coordinates[0][2],n.geometry.coordinates[0][0],n.geometry.coordinates[0][1],n.geometry.coordinates[0][2]]]},properties:{a:{geom:n.properties.c.geom,index:n.properties.c.index},b:{geom:n.properties.a.geom,index:n.properties.a.index},c:{geom:n.properties.b.geom,index:n.properties.b.index}},type:"Feature"}:"b"==="".concat(n.properties.c.index).substring(0,1)&&"b"==="".concat(n.properties.a.index).substring(0,1)&&(r[e]={geometry:{type:"Polygon",coordinates:[[n.geometry.coordinates[0][1],n.geometry.coordinates[0][2],n.geometry.coordinates[0][0],n.geometry.coordinates[0][1]]]},properties:{a:{geom:n.properties.b.geom,index:n.properties.b.index},b:{geom:n.properties.c.geom,index:n.properties.c.index},c:{geom:n.properties.a.geom,index:n.properties.a.index}},type:"Feature"})}return t}function gt(t,r){var e=r.geometry.coordinates;return[0,1,2,3].map((function(n){var o=(n+1)%4,s=t[n],u=t[o],f=s.geometry.coordinates;return[Math.atan2(f[0]-e[0],f[1]-e[1]),a([i([[r,s,u,r].map((function(t){return t.geometry.coordinates}))],{a:{geom:r.properties.target.geom,index:r.properties.target.index},b:{geom:s.properties.target.geom,index:s.properties.target.index},c:{geom:u.properties.target.geom,index:u.properties.target.index}})])]})).reduce((function(t,r){return t[0].push(r[0]),t[1].push(r[1]),t}),[[],[]])}function yt(t){for(var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=r?function(t){return!(t>=0&&t<2*Math.PI)}:function(t){return!(t>-1*Math.PI&&t<=Math.PI)};e(t);)t+=2*Math.PI*(t>0?-1:1);return t}function mt(t,e,n){return r(t,{target:{geom:e,index:n}})}function xt(t){return r(t.properties.target.geom,{target:{geom:t.geometry.coordinates,index:t.properties.target.index}})}function bt(t,r,e){var n=r.geometry.coordinates[0][0],i=r.geometry.coordinates[0][1],o=r.geometry.coordinates[0][2],a=t.geometry.coordinates,s=r.properties.a.geom,u=r.properties.b.geom,f=r.properties.c.geom,c=[i[0]-n[0],i[1]-n[1]],l=[o[0]-n[0],o[1]-n[1]],h=[a[0]-n[0],a[1]-n[1]],p=[u[0]-s[0],u[1]-s[1]],v=[f[0]-s[0],f[1]-s[1]],d=(l[1]*h[0]-l[0]*h[1])/(c[0]*l[1]-c[1]*l[0]),g=(c[0]*h[1]-c[1]*h[0])/(c[0]*l[1]-c[1]*l[0]);if(e){var y,m=e[r.properties.a.index],x=e[r.properties.b.index],b=e[r.properties.c.index];if(d<0||g<0||1-d-g<0){var w=d/(d+g),S=g/(d+g);y=d/x/(w/x+S/b),g=g/b/(w/x+S/b)}else y=d/x/(d/x+g/b+(1-d-g)/m),g=g/b/(d/x+g/b+(1-d-g)/m);d=y}return[d*p[0]+g*v[0]+s[0],d*p[1]+g*v[1]+s[1]]}function wt(t,r){for(var e=0;e<r.features.length;e++)if(h(t,r.features[e]))return r.features[e]}function St(t,r,e,n){var i=Math.floor((t-r)/e);return i>=n&&(i=n-1),i}function _t(t,r,e,n,i,o,s,u){var f;if(s&&(f=wt(t,a([s]))),!f){if(e){var c=t.geometry.coordinates,l=e.gridNum,h=e.xOrigin,p=e.yOrigin,v=e.xUnit,d=e.yUnit,g=e.gridCache,y=St(c[0],h,v,l),m=St(c[1],p,d,l),x=g[y]&&g[y][m]?g[y][m]:[];r=a(x.map((function(t){return r.features[t]})))}f=wt(t,r)}return u&&u(f),f?bt(t,f,o):function(t,r,e,n){var i=t.geometry.coordinates,o=e.geometry.coordinates,a=function(t,r){for(var e,n=yt(t-r[0]),i=2*Math.PI,o=0;o<r.length;o++){var a=yt(t-r[(o+1)%r.length]),s=Math.min(Math.abs(n),Math.abs(a));n*a<=0&&s<i&&(i=s,e=o),n=a}return e}(Math.atan2(i[0]-o[0],i[1]-o[1]),r[0]);return bt(t,r[1][a].features[0],n)}(t,n,i,o)}function Et(t){var r=["a","b","c","a"].map((function(r){return t.properties[r].geom})),e=t.geometry.coordinates[0],n=t.properties;return i([r],{a:{geom:e[0],index:n.a.index},b:{geom:e[1],index:n.b.index},c:{geom:e[2],index:n.c.index}})}function kt(t){return i([[0,1,2,0].map((function(r){return t[r][0][0]}))],{a:{geom:t[0][0][1],index:t[0][1]},b:{geom:t[1][0][1],index:t[1][1]},c:{geom:t[2][0][1],index:t[2][1]}})}function Mt(t,r,e,n,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6?arguments[6]:void 0,s=t.map((function(t){(!a||a<2.00703)&&(t=At(t));var s=isFinite(t)?r[t]:"c"===t?n:"b0"===t?i[0]:"b1"===t?i[1]:"b2"===t?i[2]:"b3"===t?i[3]:function(){var r=t.match(/e(\d+)/);if(r){var n=parseInt(r[1]);return e[n]}throw"Bad index value for indexesToTri"}();return o?[[s[1],s[0]],t]:[[s[0],s[1]],t]}));return kt(s)}function At(t){return"number"==typeof t?t:t.replace(/^(c|e|b)(?:ent|dgeNode|box)(\d+)?$/,"$1$2")}function Ot(t,r){return r&&r>=2.00703||Array.isArray(t[0])?t:t.map((function(t){return[t.illstNodes,t.mercNodes,t.startEnd]}))}function Pt(t){var r={forw:{},bakw:{}};return Promise.all(Object.keys(t).map((function(r){return new Promise((function(e){var n=t[r];if(n.length<2)return e(void 0);["forw","bakw"].map((function(t){var r=function(t,r,e){void 0===e&&(e={});var n=l(t),o=l(r),a=b.intersection(n.coordinates,o.coordinates);return 0===a.length?null:1===a.length?i(a[0],e.properties):s(a,e.properties)}(n[0][t],n[1][t]);if(!r||"Point"==r.geometry.type||"LineString"==r.geometry.type)return e(void 0);e(void 0)}))}))}))).then((function(){return 0==Object.keys(r.forw).length&&delete r.forw,0==Object.keys(r.bakw).length&&delete r.bakw,r})).catch((function(t){throw t}))}function Tt(t,r,e){var n=Rt(r.forw),i=Rt(r.bakw);if(JSON.stringify(n)!=JSON.stringify(i))throw"".concat(JSON.stringify(r,null,2),"\n").concat(JSON.stringify(n),"\n").concat(JSON.stringify(i));for(var o=0;o<n.length;o++){var a=n[o];t[a]||(t[a]=[]),t[a].push(r)}e&&(e.forw.features.push(r.forw),e.bakw.features.push(r.bakw))}function It(t,r,e){var n=Rt(r.forw),i=Rt(r.bakw);if(JSON.stringify(n)!=JSON.stringify(i))throw"".concat(JSON.stringify(r,null,2),"\n").concat(JSON.stringify(n),"\n").concat(JSON.stringify(i));for(var o=0;o<n.length;o++){var a=n[o],s=t[a].filter((function(t){return t.forw!=r.forw}));0==s.length?delete t[a]:t[a]=s}if(e){var u=e.forw.features.filter((function(t){return t!=r.forw}));e.forw.features=u,u=e.bakw.features.filter((function(t){return t!=r.bakw})),e.bakw.features=u}}function Rt(t){var r=["a","b","c"].map((function(r){return t.properties[r].index}));return[[0,1],[0,2],[1,2],[0,1,2]].map((function(t){return t.map((function(t){return r[t]})).sort().join("-")})).sort()}ht(vt,"VERTEX_PLAIN","plain"),ht(vt,"VERTEX_BIRDEYE","birdeye"),ht(vt,"MODE_STRICT","strict"),ht(vt,"MODE_AUTO","auto"),ht(vt,"MODE_LOOSE","loose"),ht(vt,"STATUS_STRICT","strict"),ht(vt,"STATUS_ERROR","strict_error"),ht(vt,"STATUS_LOOSE","loose"),ht(vt,"YAXIS_FOLLOW","follow"),ht(vt,"YAXIS_INVERT","invert"),e.g.Tin=vt})(),n})()}));
//# sourceMappingURL=index.js.map