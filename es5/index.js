/*! For license information please see index.js.LICENSE.txt */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,(function(){return(()=>{var t={9705:(t,e,r)=>{"use strict";var n=r(1540);function i(t){var e=[1/0,1/0,-1/0,-1/0];return n.coordEach(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}i.default=i,e.Z=i},4102:(t,e)=>{"use strict";function r(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function n(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(t[0])||!p(t[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:t},e,n)}function i(t,e,n){void 0===n&&(n={});for(var i=0,o=t;i<o.length;i++){var s=o[i];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:t},e,n)}function o(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:t},e,n)}function s(t,e){void 0===e&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function a(t,e,n){return void 0===n&&(n={}),r({type:"MultiLineString",coordinates:t},e,n)}function u(t,e,n){return void 0===n&&(n={}),r({type:"MultiPoint",coordinates:t},e,n)}function c(t,e,n){return void 0===n&&(n={}),r({type:"MultiPolygon",coordinates:t},e,n)}function f(t,r){void 0===r&&(r="kilometers");var n=e.factors[r];if(!n)throw new Error(r+" units is invalid");return t*n}function l(t,r){void 0===r&&(r="kilometers");var n=e.factors[r];if(!n)throw new Error(r+" units is invalid");return t/n}function h(t){return t%(2*Math.PI)*180/Math.PI}function p(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:1.0936*e.earthRadius},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=r,e.geometry=function(t,e,r){switch(void 0===r&&(r={}),t){case"Point":return n(e).geometry;case"LineString":return o(e).geometry;case"Polygon":return i(e).geometry;case"MultiPoint":return u(e).geometry;case"MultiLineString":return a(e).geometry;case"MultiPolygon":return c(e).geometry;default:throw new Error(t+" is invalid")}},e.point=n,e.points=function(t,e,r){return void 0===r&&(r={}),s(t.map((function(t){return n(t,e)})),r)},e.polygon=i,e.polygons=function(t,e,r){return void 0===r&&(r={}),s(t.map((function(t){return i(t,e)})),r)},e.lineString=o,e.lineStrings=function(t,e,r){return void 0===r&&(r={}),s(t.map((function(t){return o(t,e)})),r)},e.featureCollection=s,e.multiLineString=a,e.multiPoint=u,e.multiPolygon=c,e.geometryCollection=function(t,e,n){return void 0===n&&(n={}),r({type:"GeometryCollection",geometries:t},e,n)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,e||0);return Math.round(t*r)/r},e.radiansToLength=f,e.lengthToRadians=l,e.lengthToDegrees=function(t,e){return h(l(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=h,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,r){if(void 0===e&&(e="kilometers"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("length must be a positive number");return f(l(t,e),r)},e.convertArea=function(t,r,n){if(void 0===r&&(r="meters"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("area must be a positive number");var i=e.areaFactors[r];if(!i)throw new Error("invalid original units");var o=e.areaFactors[n];if(!o)throw new Error("invalid final units");return t/i*o},e.isNumber=p,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!p(t))throw new Error("bbox must only contain numbers")}))},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},1540:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(4102);function i(t,e,r){if(null!==t)for(var n,o,s,a,u,c,f,l,h=0,p=0,v=t.type,d="FeatureCollection"===v,g="Feature"===v,y=d?t.features.length:1,m=0;m<y;m++){u=(l=!!(f=d?t.features[m].geometry:g?t.geometry:t)&&"GeometryCollection"===f.type)?f.geometries.length:1;for(var x=0;x<u;x++){var b=0,w=0;if(null!==(a=l?f.geometries[x]:f)){c=a.coordinates;var _=a.type;switch(h=!r||"Polygon"!==_&&"MultiPolygon"!==_?0:1,_){case null:break;case"Point":if(!1===e(c,p,m,b,w))return!1;p++,b++;break;case"LineString":case"MultiPoint":for(n=0;n<c.length;n++){if(!1===e(c[n],p,m,b,w))return!1;p++,"MultiPoint"===_&&b++}"LineString"===_&&b++;break;case"Polygon":case"MultiLineString":for(n=0;n<c.length;n++){for(o=0;o<c[n].length-h;o++){if(!1===e(c[n][o],p,m,b,w))return!1;p++}"MultiLineString"===_&&b++,"Polygon"===_&&w++}"Polygon"===_&&b++;break;case"MultiPolygon":for(n=0;n<c.length;n++){for(w=0,o=0;o<c[n].length;o++){for(s=0;s<c[n][o].length-h;s++){if(!1===e(c[n][o][s],p,m,b,w))return!1;p++}w++}b++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===i(a.geometries[n],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(t,e){var r;switch(t.type){case"FeatureCollection":for(r=0;r<t.features.length&&!1!==e(t.features[r].properties,r);r++);break;case"Feature":e(t.properties,0)}}function s(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var r=0;r<t.features.length&&!1!==e(t.features[r],r);r++);}function a(t,e){var r,n,i,o,s,a,u,c,f,l,h=0,p="FeatureCollection"===t.type,v="Feature"===t.type,d=p?t.features.length:1;for(r=0;r<d;r++){for(a=p?t.features[r].geometry:v?t.geometry:t,c=p?t.features[r].properties:v?t.properties:{},f=p?t.features[r].bbox:v?t.bbox:void 0,l=p?t.features[r].id:v?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,h,c,f,l))return!1;break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(!1===e(o.geometries[n],h,c,f,l))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,h,c,f,l))return!1;h++}}function u(t,e){a(t,(function(t,r,i,o,s){var a,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e(n.feature(t,i,{bbox:o,id:s}),r,0)&&void 0}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var c=0;c<t.coordinates.length;c++){var f={type:a,coordinates:t.coordinates[c]};if(!1===e(n.feature(f,i),r,c))return!1}}))}function c(t,e){u(t,(function(t,r,o){var s=0;if(t.geometry){var a=t.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var u,c=0,f=0,l=0;return!1!==i(t,(function(i,a,h,p,v){if(void 0===u||r>c||p>f||v>l)return u=i,c=r,f=p,l=v,void(s=0);var d=n.lineString([u,i],t.properties);if(!1===e(d,r,o,v,s))return!1;s++,u=i}))&&void 0}}}))}function f(t,e){if(!t)throw new Error("geojson is required");u(t,(function(t,r,i){if(null!==t.geometry){var o=t.geometry.type,s=t.geometry.coordinates;switch(o){case"LineString":if(!1===e(t,r,i,0,0))return!1;break;case"Polygon":for(var a=0;a<s.length;a++)if(!1===e(n.lineString(s[a],t.properties),r,i,a))return!1}}}))}e.coordAll=function(t){var e=[];return i(t,(function(t){e.push(t)})),e},e.coordEach=i,e.coordReduce=function(t,e,r,n){var o=r;return i(t,(function(t,n,i,s,a){o=0===n&&void 0===r?t:e(o,t,n,i,s,a)}),n),o},e.featureEach=s,e.featureReduce=function(t,e,r){var n=r;return s(t,(function(t,i){n=0===i&&void 0===r?t:e(n,t,i)})),n},e.findPoint=function(t,e){if(e=e||{},!n.isObject(e))throw new Error("options is invalid");var r,i=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.coordIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),u=u||t.features[i].properties,r=t.features[i].geometry;break;case"Feature":u=u||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var c=r.coordinates;switch(r.type){case"Point":return n.point(c,u,e);case"MultiPoint":return o<0&&(o=c.length+o),n.point(c[o],u,e);case"LineString":return a<0&&(a=c.length+a),n.point(c[a],u,e);case"Polygon":return s<0&&(s=c.length+s),a<0&&(a=c[s].length+a),n.point(c[s][a],u,e);case"MultiLineString":return o<0&&(o=c.length+o),a<0&&(a=c[o].length+a),n.point(c[o][a],u,e);case"MultiPolygon":return o<0&&(o=c.length+o),s<0&&(s=c[o].length+s),a<0&&(a=c[o][s].length-a),n.point(c[o][s][a],u,e)}throw new Error("geojson is invalid")},e.findSegment=function(t,e){if(e=e||{},!n.isObject(e))throw new Error("options is invalid");var r,i=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.segmentIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),u=u||t.features[i].properties,r=t.features[i].geometry;break;case"Feature":u=u||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var c=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=c.length+a-1),n.lineString([c[a],c[a+1]],u,e);case"Polygon":return s<0&&(s=c.length+s),a<0&&(a=c[s].length+a-1),n.lineString([c[s][a],c[s][a+1]],u,e);case"MultiLineString":return o<0&&(o=c.length+o),a<0&&(a=c[o].length+a-1),n.lineString([c[o][a],c[o][a+1]],u,e);case"MultiPolygon":return o<0&&(o=c.length+o),s<0&&(s=c[o].length+s),a<0&&(a=c[o][s].length-a-1),n.lineString([c[o][s][a],c[o][s][a+1]],u,e)}throw new Error("geojson is invalid")},e.flattenEach=u,e.flattenReduce=function(t,e,r){var n=r;return u(t,(function(t,i,o){n=0===i&&0===o&&void 0===r?t:e(n,t,i,o)})),n},e.geomEach=a,e.geomReduce=function(t,e,r){var n=r;return a(t,(function(t,i,o,s,a){n=0===i&&void 0===r?t:e(n,t,i,o,s,a)})),n},e.lineEach=f,e.lineReduce=function(t,e,r){var n=r;return f(t,(function(t,i,o,s){n=0===i&&void 0===r?t:e(n,t,i,o,s)})),n},e.propEach=o,e.propReduce=function(t,e,r){var n=r;return o(t,(function(t,i){n=0===i&&void 0===r?t:e(n,t,i)})),n},e.segmentEach=c,e.segmentReduce=function(t,e,r){var n=r,i=!1;return c(t,(function(t,o,s,a,u){n=!1===i&&void 0===r?t:e(n,t,o,s,a,u),i=!0})),n}},2273:(t,e,r)=>{"use strict";var n=r(1662),i=r(3842),o=r(6960);const s=r(8639).orient2d;function a(t,e,r){e=Math.max(0,void 0===e?2:e),r=r||0;var i=function(t){for(var e=t[0],r=t[0],n=t[0],i=t[0],s=0;s<t.length;s++){var a=t[s];a[0]<e[0]&&(e=a),a[0]>n[0]&&(n=a),a[1]<r[1]&&(r=a),a[1]>i[1]&&(i=a)}var u=[e,r,n,i],c=u.slice();for(s=0;s<t.length;s++)o(t[s],u)||c.push(t[s]);return function(t){t.sort(x);for(var e=[],r=0;r<t.length;r++){for(;e.length>=2&&p(e[e.length-2],e[e.length-1],t[r])<=0;)e.pop();e.push(t[r])}for(var n=[],i=t.length-1;i>=0;i--){for(;n.length>=2&&p(n[n.length-2],n[n.length-1],t[i])<=0;)n.pop();n.push(t[i])}return n.pop(),e.pop(),e.concat(n)}(c)}(t),s=new n(16);s.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},s.compareMinX=function(t,e){return t[0]-e[0]},s.compareMinY=function(t,e){return t[1]-e[1]},s.load(t);for(var a,c=[],f=0;f<i.length;f++){var l=i[f];s.remove(l),a=d(l,a),c.push(a)}var h=new n(16);for(f=0;f<c.length;f++)h.insert(v(c[f]));for(var y=e*e,m=r*r;c.length;){var b=c.shift(),w=b.p,_=b.next.p,S=g(w,_);if(!(S<m)){var E=S/y;(l=u(s,b.prev.p,w,_,b.next.next.p,E,h))&&Math.min(g(l,w),g(l,_))<=E&&(c.push(b),c.push(d(l,b)),s.remove(l),h.remove(b),h.insert(v(b)),h.insert(v(b.next)))}}b=a;var k=[];do{k.push(b.p),b=b.next}while(b!==a);return k.push(b.p),k}function u(t,e,r,n,o,s,a){for(var u=new i([],c),l=t.data;l;){for(var p=0;p<l.children.length;p++){var v=l.children[p],d=l.leaf?y(v,r,n):f(r,n,v);d>s||u.push({node:v,dist:d})}for(;u.length&&!u.peek().node.children;){var g=u.pop(),m=g.node,x=y(m,e,r),b=y(m,n,o);if(g.dist<x&&g.dist<b&&h(r,m,a)&&h(n,m,a))return m}(l=u.pop())&&(l=l.node)}return null}function c(t,e){return t.dist-e.dist}function f(t,e,r){if(l(t,r)||l(e,r))return 0;var n=m(t[0],t[1],e[0],e[1],r.minX,r.minY,r.maxX,r.minY);if(0===n)return 0;var i=m(t[0],t[1],e[0],e[1],r.minX,r.minY,r.minX,r.maxY);if(0===i)return 0;var o=m(t[0],t[1],e[0],e[1],r.maxX,r.minY,r.maxX,r.maxY);if(0===o)return 0;var s=m(t[0],t[1],e[0],e[1],r.minX,r.maxY,r.maxX,r.maxY);return 0===s?0:Math.min(n,i,o,s)}function l(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function h(t,e,r){for(var n,i,o,s,a=Math.min(t[0],e[0]),u=Math.min(t[1],e[1]),c=Math.max(t[0],e[0]),f=Math.max(t[1],e[1]),l=r.search({minX:a,minY:u,maxX:c,maxY:f}),h=0;h<l.length;h++)if(n=l[h].p,i=l[h].next.p,o=t,n!==(s=e)&&i!==o&&p(n,i,o)>0!=p(n,i,s)>0&&p(o,s,n)>0!=p(o,s,i)>0)return!1;return!0}function p(t,e,r){return s(t[0],t[1],e[0],e[1],r[0],r[1])}function v(t){var e=t.p,r=t.next.p;return t.minX=Math.min(e[0],r[0]),t.minY=Math.min(e[1],r[1]),t.maxX=Math.max(e[0],r[0]),t.maxY=Math.max(e[1],r[1]),t}function d(t,e){var r={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(r.next=e.next,r.prev=e,e.next.prev=r,e.next=r):(r.prev=r,r.next=r),r}function g(t,e){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function y(t,e,r){var n=e[0],i=e[1],o=r[0]-n,s=r[1]-i;if(0!==o||0!==s){var a=((t[0]-n)*o+(t[1]-i)*s)/(o*o+s*s);a>1?(n=r[0],i=r[1]):a>0&&(n+=o*a,i+=s*a)}return(o=t[0]-n)*o+(s=t[1]-i)*s}function m(t,e,r,n,i,o,s,a){var u,c,f,l,h=r-t,p=n-e,v=s-i,d=a-o,g=t-i,y=e-o,m=h*h+p*p,x=h*v+p*d,b=v*v+d*d,w=h*g+p*y,_=v*g+d*y,S=m*b-x*x,E=S,k=S;0===S?(c=0,E=1,l=_,k=b):(l=m*_-x*w,(c=x*_-b*w)<0?(c=0,l=_,k=b):c>E&&(c=E,l=_+x,k=b)),l<0?(l=0,-w<0?c=0:-w>m?c=E:(c=-w,E=m)):l>k&&(l=k,-w+x<0?c=0:-w+x>m?c=E:(c=-w+x,E=m));var M=(1-(f=0===l?0:l/k))*i+f*s-((1-(u=0===c?0:c/E))*t+u*r),A=(1-f)*o+f*a-((1-u)*e+u*n);return M*M+A*A}function x(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}i.default&&(i=i.default),t.exports=a,t.exports.default=a},1662:function(t){t.exports=function(){"use strict";function t(t,n,i,o,s){!function t(r,n,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,u=n-i+1,c=Math.log(a),f=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*f*(a-f)/a)*(u-a/2<0?-1:1);t(r,n,Math.max(i,Math.floor(n-u*f/a+l)),Math.min(o,Math.floor(n+(a-u)*f/a+l)),s)}var h=r[n],p=i,v=o;for(e(r,i,n),s(r[o],h)>0&&e(r,i,o);p<v;){for(e(r,p,v),p++,v--;s(r[p],h)<0;)p++;for(;s(r[v],h)>0;)v--}0===s(r[i],h)?e(r,i,v):e(r,++v,o),v<=n&&(i=v+1),n<=v&&(o=v-1)}}(t,n,i||0,o||t.length-1,s||r)}function e(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function r(t,e){return t<e?-1:t>e?1:0}var n=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,r){if(!r)return e.indexOf(t);for(var n=0;n<e.length;n++)if(r(t,e[n]))return n;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,r,n,i){i||(i=v(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<r;o++){var s=t.children[o];a(i,t.leaf?n(s):s)}return i}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function h(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function v(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(e,r,n,i,o){for(var s=[r,n];s.length;)if(!((n=s.pop())-(r=s.pop())<=i)){var a=r+Math.ceil((n-r)/i/2)*i;t(e,a,r,n,o),s.push(r,a,a,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(t){var e=this.data,r=[];if(!p(t,e))return r;for(var n=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var s=e.children[o],a=e.leaf?n(s):s;p(t,a)&&(e.leaf?r.push(s):h(t,a)?this._all(s,r):i.push(s))}e=i.pop()}return r},n.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var r=[];e;){for(var n=0;n<e.children.length;n++){var i=e.children[n],o=e.leaf?this.toBBox(i):i;if(p(t,o)){if(e.leaf||h(t,o))return!0;r.push(i)}}e=r.pop()}return!1},n.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},n.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},n.prototype.clear=function(){return this.data=v([]),this},n.prototype.remove=function(t,e){if(!t)return this;for(var r,n,o,s=this.data,a=this.toBBox(t),u=[],c=[];s||u.length;){if(s||(s=u.pop(),n=u[u.length-1],r=c.pop(),o=!0),s.leaf){var f=i(t,s.children,e);if(-1!==f)return s.children.splice(f,1),u.push(s),this._condense(u),this}o||s.leaf||!h(s,a)?n?(r++,s=n.children[r],o=!1):s=null:(u.push(s),c.push(r),r=0,n=s,s=s.children[0])}return this},n.prototype.toBBox=function(t){return t},n.prototype.compareMinX=function(t,e){return t.minX-e.minX},n.prototype.compareMinY=function(t,e){return t.minY-e.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(t){return this.data=t,this},n.prototype._all=function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},n.prototype._build=function(t,e,r,n){var i,s=r-e+1,a=this._maxEntries;if(s<=a)return o(i=v(t.slice(e,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,n-1))),(i=v([])).leaf=!1,i.height=n;var u=Math.ceil(s/a),c=u*Math.ceil(Math.sqrt(a));d(t,e,r,c,this.compareMinX);for(var f=e;f<=r;f+=c){var l=Math.min(f+c-1,r);d(t,f,l,u,this.compareMinY);for(var h=f;h<=l;h+=u){var p=Math.min(h+u-1,l);i.children.push(this._build(t,h,p,n-1))}}return o(i,this.toBBox),i},n.prototype._chooseSubtree=function(t,e,r,n){for(;n.push(e),!e.leaf&&n.length-1!==r;){for(var i=1/0,o=1/0,s=void 0,a=0;a<e.children.length;a++){var u=e.children[a],c=f(u),l=(h=t,p=u,(Math.max(p.maxX,h.maxX)-Math.min(p.minX,h.minX))*(Math.max(p.maxY,h.maxY)-Math.min(p.minY,h.minY))-c);l<o?(o=l,i=c<i?c:i,s=u):l===o&&c<i&&(i=c,s=u)}e=s||e.children[0]}var h,p;return e},n.prototype._insert=function(t,e,r){var n=r?t:this.toBBox(t),i=[],o=this._chooseSubtree(n,this.data,e,i);for(o.children.push(t),a(o,n);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(n,i,e)},n.prototype._split=function(t,e){var r=t[e],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var s=this._chooseSplitIndex(r,i,n),a=v(r.children.splice(s,r.children.length-s));a.height=r.height,a.leaf=r.leaf,o(r,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(r,a)},n.prototype._splitRoot=function(t,e){this.data=v([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(t,e,r){for(var n,i,o,a,u,c,l,h=1/0,p=1/0,v=e;v<=r-e;v++){var d=s(t,0,v,this.toBBox),g=s(t,v,r,this.toBBox),y=(i=d,o=g,void 0,void 0,void 0,void 0,a=Math.max(i.minX,o.minX),u=Math.max(i.minY,o.minY),c=Math.min(i.maxX,o.maxX),l=Math.min(i.maxY,o.maxY),Math.max(0,c-a)*Math.max(0,l-u)),m=f(d)+f(g);y<h?(h=y,n=v,p=m<p?m:p):y===h&&m<p&&(p=m,n=v)}return n||r-e},n.prototype._chooseSplitAxis=function(t,e,r){var n=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,i)&&t.children.sort(n)},n.prototype._allDistMargin=function(t,e,r,n){t.children.sort(n);for(var i=this.toBBox,o=s(t,0,e,i),u=s(t,r-e,r,i),c=l(o)+l(u),f=e;f<r-e;f++){var h=t.children[f];a(o,t.leaf?i(h):h),c+=l(o)}for(var p=r-e-1;p>=e;p--){var v=t.children[p];a(u,t.leaf?i(v):v),c+=l(u)}return c},n.prototype._adjustParentBBoxes=function(t,e,r){for(var n=r;n>=0;n--)a(e[n],t)},n.prototype._condense=function(t){for(var e=t.length-1,r=void 0;e>=0;e--)0===t[e].children.length?e>0?(r=t[e-1].children).splice(r.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},n}()},3099:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:(t,e,r)=>{var n=r(111);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:(t,e,r)=>{var n=r(5112),i=r(30),o=r(3070),s=n("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),t.exports=function(t){a[s][t]=!0}},1530:(t,e,r)=>{"use strict";var n=r(8710).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},5787:t=>{t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},9670:(t,e,r)=>{var n=r(111);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},4019:t=>{t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:(t,e,r)=>{"use strict";var n,i=r(4019),o=r(9781),s=r(7854),a=r(111),u=r(6656),c=r(648),f=r(8880),l=r(1320),h=r(3070).f,p=r(9518),v=r(7674),d=r(5112),g=r(9711),y=s.Int8Array,m=y&&y.prototype,x=s.Uint8ClampedArray,b=x&&x.prototype,w=y&&p(y),_=m&&p(m),S=Object.prototype,E=S.isPrototypeOf,k=d("toStringTag"),M=g("TYPED_ARRAY_TAG"),A=i&&!!v&&"Opera"!==c(s.opera),P=!1,T={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},O={BigInt64Array:8,BigUint64Array:8},I=function(t){if(!a(t))return!1;var e=c(t);return u(T,e)||u(O,e)};for(n in T)s[n]||(A=!1);if((!A||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},A))for(n in T)s[n]&&v(s[n],w);if((!A||!_||_===S)&&(_=w.prototype,A))for(n in T)s[n]&&v(s[n].prototype,_);if(A&&p(b)!==_&&v(b,_),o&&!u(_,k))for(n in P=!0,h(_,k,{get:function(){return a(this)?this[M]:void 0}}),T)s[n]&&f(s[n],M,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:P&&M,aTypedArray:function(t){if(I(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(v){if(E.call(w,t))return t}else for(var e in T)if(u(T,n)){var r=s[e];if(r&&(t===r||E.call(r,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r){if(o){if(r)for(var n in T){var i=s[n];if(i&&u(i.prototype,t))try{delete i.prototype[t]}catch(t){}}_[t]&&!r||l(_,t,r?e:A&&m[t]||e)}},exportTypedArrayStaticMethod:function(t,e,r){var n,i;if(o){if(v){if(r)for(n in T)if((i=s[n])&&u(i,t))try{delete i[t]}catch(t){}if(w[t]&&!r)return;try{return l(w,t,r?e:A&&w[t]||e)}catch(t){}}for(n in T)!(i=s[n])||i[t]&&!r||l(i,t,e)}},isView:function(t){if(!a(t))return!1;var e=c(t);return"DataView"===e||u(T,e)||u(O,e)},isTypedArray:I,TypedArray:w,TypedArrayPrototype:_}},3331:(t,e,r)=>{"use strict";var n=r(7854),i=r(9781),o=r(4019),s=r(8880),a=r(2248),u=r(7293),c=r(5787),f=r(9958),l=r(7466),h=r(7067),p=r(1179),v=r(9518),d=r(7674),g=r(8006).f,y=r(3070).f,m=r(1285),x=r(8003),b=r(9909),w=b.get,_=b.set,S="ArrayBuffer",E="DataView",k="Wrong index",M=n.ArrayBuffer,A=M,P=n.DataView,T=P&&P.prototype,O=Object.prototype,I=n.RangeError,R=p.pack,j=p.unpack,B=function(t){return[255&t]},L=function(t){return[255&t,t>>8&255]},Y=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},N=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},F=function(t){return R(t,23,4)},X=function(t){return R(t,52,8)},C=function(t,e){y(t.prototype,e,{get:function(){return w(this)[e]}})},U=function(t,e,r,n){var i=h(r),o=w(t);if(i+e>o.byteLength)throw I(k);var s=w(o.buffer).bytes,a=i+o.byteOffset,u=s.slice(a,a+e);return n?u:u.reverse()},D=function(t,e,r,n,i,o){var s=h(r),a=w(t);if(s+e>a.byteLength)throw I(k);for(var u=w(a.buffer).bytes,c=s+a.byteOffset,f=n(+i),l=0;l<e;l++)u[c+l]=f[o?l:e-l-1]};if(o){if(!u((function(){M(1)}))||!u((function(){new M(-1)}))||u((function(){return new M,new M(1.5),new M(NaN),M.name!=S}))){for(var z,G=(A=function(t){return c(this,A),new M(h(t))}).prototype=M.prototype,V=g(M),W=0;V.length>W;)(z=V[W++])in A||s(A,z,M[z]);G.constructor=A}d&&v(T)!==O&&d(T,O);var q=new P(new A(2)),J=T.setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||a(T,{setInt8:function(t,e){J.call(this,t,e<<24>>24)},setUint8:function(t,e){J.call(this,t,e<<24>>24)}},{unsafe:!0})}else A=function(t){c(this,A,S);var e=h(t);_(this,{bytes:m.call(new Array(e),0),byteLength:e}),i||(this.byteLength=e)},P=function(t,e,r){c(this,P,E),c(t,A,E);var n=w(t).byteLength,o=f(e);if(o<0||o>n)throw I("Wrong offset");if(o+(r=void 0===r?n-o:l(r))>n)throw I("Wrong length");_(this,{buffer:t,byteLength:r,byteOffset:o}),i||(this.buffer=t,this.byteLength=r,this.byteOffset=o)},i&&(C(A,"byteLength"),C(P,"buffer"),C(P,"byteLength"),C(P,"byteOffset")),a(P.prototype,{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var e=U(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=U(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return N(U(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return N(U(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return j(U(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return j(U(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){D(this,1,t,B,e)},setUint8:function(t,e){D(this,1,t,B,e)},setInt16:function(t,e){D(this,2,t,L,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){D(this,2,t,L,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){D(this,4,t,Y,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){D(this,4,t,Y,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){D(this,4,t,F,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){D(this,8,t,X,e,arguments.length>2?arguments[2]:void 0)}});x(A,S),x(P,E),t.exports={ArrayBuffer:A,DataView:P}},1048:(t,e,r)=>{"use strict";var n=r(7908),i=r(1400),o=r(7466),s=Math.min;t.exports=[].copyWithin||function(t,e){var r=n(this),a=o(r.length),u=i(t,a),c=i(e,a),f=arguments.length>2?arguments[2]:void 0,l=s((void 0===f?a:i(f,a))-c,a-u),h=1;for(c<u&&u<c+l&&(h=-1,c+=l-1,u+=l-1);l-- >0;)c in r?r[u]=r[c]:delete r[u],u+=h,c+=h;return r}},1285:(t,e,r)=>{"use strict";var n=r(7908),i=r(1400),o=r(7466);t.exports=function(t){for(var e=n(this),r=o(e.length),s=arguments.length,a=i(s>1?arguments[1]:void 0,r),u=s>2?arguments[2]:void 0,c=void 0===u?r:i(u,r);c>a;)e[a++]=t;return e}},8457:(t,e,r)=>{"use strict";var n=r(9974),i=r(7908),o=r(3411),s=r(7659),a=r(7466),u=r(6135),c=r(1246);t.exports=function(t){var e,r,f,l,h,p,v=i(t),d="function"==typeof this?this:Array,g=arguments.length,y=g>1?arguments[1]:void 0,m=void 0!==y,x=c(v),b=0;if(m&&(y=n(y,g>2?arguments[2]:void 0,2)),null==x||d==Array&&s(x))for(r=new d(e=a(v.length));e>b;b++)p=m?y(v[b],b):v[b],u(r,b,p);else for(h=(l=x.call(v)).next,r=new d;!(f=h.call(l)).done;b++)p=m?o(l,y,[f.value,b],!0):f.value,u(r,b,p);return r.length=b,r}},1318:(t,e,r)=>{var n=r(5656),i=r(7466),o=r(1400),s=function(t){return function(e,r,s){var a,u=n(e),c=i(u.length),f=o(s,c);if(t&&r!=r){for(;c>f;)if((a=u[f++])!=a)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===r)return t||f||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},2092:(t,e,r)=>{var n=r(9974),i=r(8361),o=r(7908),s=r(7466),a=r(5417),u=[].push,c=function(t){var e=1==t,r=2==t,c=3==t,f=4==t,l=6==t,h=7==t,p=5==t||l;return function(v,d,g,y){for(var m,x,b=o(v),w=i(b),_=n(d,g,3),S=s(w.length),E=0,k=y||a,M=e?k(v,S):r||h?k(v,0):void 0;S>E;E++)if((p||E in w)&&(x=_(m=w[E],E,b),t))if(e)M[E]=x;else if(x)switch(t){case 3:return!0;case 5:return m;case 6:return E;case 2:u.call(M,m)}else switch(t){case 4:return!1;case 7:u.call(M,m)}return l?-1:c||f?f:M}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},6583:(t,e,r)=>{"use strict";var n=r(5656),i=r(9958),o=r(7466),s=r(9341),a=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,f=s("lastIndexOf"),l=c||!f;t.exports=l?function(t){if(c)return u.apply(this,arguments)||0;var e=n(this),r=o(e.length),s=r-1;for(arguments.length>1&&(s=a(s,i(arguments[1]))),s<0&&(s=r+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:u},1194:(t,e,r)=>{var n=r(7293),i=r(5112),o=r(7392),s=i("species");t.exports=function(t){return o>=51||!n((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:(t,e,r)=>{"use strict";var n=r(7293);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},3671:(t,e,r)=>{var n=r(3099),i=r(7908),o=r(8361),s=r(7466),a=function(t){return function(e,r,a,u){n(r);var c=i(e),f=o(c),l=s(c.length),h=t?l-1:0,p=t?-1:1;if(a<2)for(;;){if(h in f){u=f[h],h+=p;break}if(h+=p,t?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:l>h;h+=p)h in f&&(u=r(u,f[h],h,c));return u}};t.exports={left:a(!1),right:a(!0)}},4362:t=>{var e=Math.floor,r=function(t,o){var s=t.length,a=e(s/2);return s<8?n(t,o):i(r(t.slice(0,a),o),r(t.slice(a),o),o)},n=function(t,e){for(var r,n,i=t.length,o=1;o<i;){for(n=o,r=t[o];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==o++&&(t[n]=r)}return t},i=function(t,e,r){for(var n=t.length,i=e.length,o=0,s=0,a=[];o<n||s<i;)o<n&&s<i?a.push(r(t[o],e[s])<=0?t[o++]:e[s++]):a.push(o<n?t[o++]:e[s++]);return a};t.exports=r},5417:(t,e,r)=>{var n=r(111),i=r(3157),o=r(5112)("species");t.exports=function(t,e){var r;return i(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!i(r.prototype)?n(r)&&null===(r=r[o])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},3411:(t,e,r)=>{var n=r(9670),i=r(9212);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){throw i(t),e}}},7072:(t,e,r)=>{var n=r(5112)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},t(o)}catch(t){}return r}},4326:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:(t,e,r)=>{var n=r(1694),i=r(4326),o=r(5112)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?r:s?i(e):"Object"==(n=i(e))&&"function"==typeof e.callee?"Arguments":n}},9920:(t,e,r)=>{var n=r(6656),i=r(3887),o=r(1236),s=r(3070);t.exports=function(t,e){for(var r=i(e),a=s.f,u=o.f,c=0;c<r.length;c++){var f=r[c];n(t,f)||a(t,f,u(e,f))}}},8544:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:(t,e,r)=>{"use strict";var n=r(3383).IteratorPrototype,i=r(30),o=r(9114),s=r(8003),a=r(7497),u=function(){return this};t.exports=function(t,e,r){var c=e+" Iterator";return t.prototype=i(n,{next:o(1,r)}),s(t,c,!1,!0),a[c]=u,t}},8880:(t,e,r)=>{var n=r(9781),i=r(3070),o=r(9114);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},9114:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:(t,e,r)=>{"use strict";var n=r(7593),i=r(3070),o=r(9114);t.exports=function(t,e,r){var s=n(e);s in t?i.f(t,s,o(0,r)):t[s]=r}},654:(t,e,r)=>{"use strict";var n=r(2109),i=r(4994),o=r(9518),s=r(7674),a=r(8003),u=r(8880),c=r(1320),f=r(5112),l=r(1913),h=r(7497),p=r(3383),v=p.IteratorPrototype,d=p.BUGGY_SAFARI_ITERATORS,g=f("iterator"),y="keys",m="values",x="entries",b=function(){return this};t.exports=function(t,e,r,f,p,w,_){i(r,e,f);var S,E,k,M=function(t){if(t===p&&I)return I;if(!d&&t in T)return T[t];switch(t){case y:case m:case x:return function(){return new r(this,t)}}return function(){return new r(this)}},A=e+" Iterator",P=!1,T=t.prototype,O=T[g]||T["@@iterator"]||p&&T[p],I=!d&&O||M(p),R="Array"==e&&T.entries||O;if(R&&(S=o(R.call(new t)),v!==Object.prototype&&S.next&&(l||o(S)===v||(s?s(S,v):"function"!=typeof S[g]&&u(S,g,b)),a(S,A,!0,!0),l&&(h[A]=b))),p==m&&O&&O.name!==m&&(P=!0,I=function(){return O.call(this)}),l&&!_||T[g]===I||u(T,g,I),h[e]=I,p)if(E={values:M(m),keys:w?I:M(y),entries:M(x)},_)for(k in E)(d||P||!(k in T))&&c(T,k,E[k]);else n({target:e,proto:!0,forced:d||P},E);return E}},7235:(t,e,r)=>{var n=r(857),i=r(6656),o=r(6061),s=r(3070).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||s(e,t,{value:o.f(t)})}},9781:(t,e,r)=>{var n=r(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(t,e,r)=>{var n=r(7854),i=r(111),o=n.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},8324:t=>{t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8886:(t,e,r)=>{var n=r(8113).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},7871:t=>{t.exports="object"==typeof window},256:(t,e,r)=>{var n=r(8113);t.exports=/MSIE|Trident/.test(n)},6833:(t,e,r)=>{var n=r(8113);t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(n)},5268:(t,e,r)=>{var n=r(4326),i=r(7854);t.exports="process"==n(i.process)},1036:(t,e,r)=>{var n=r(8113);t.exports=/web0s(?!.*chrome)/i.test(n)},8113:(t,e,r)=>{var n=r(5005);t.exports=n("navigator","userAgent")||""},7392:(t,e,r)=>{var n,i,o=r(7854),s=r(8113),a=o.process,u=a&&a.versions,c=u&&u.v8;c?i=(n=c.split("."))[0]<4?1:n[0]+n[1]:s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(i=n[1]),t.exports=i&&+i},8008:(t,e,r)=>{var n=r(8113).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},748:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(t,e,r)=>{var n=r(7854),i=r(1236).f,o=r(8880),s=r(1320),a=r(3505),u=r(9920),c=r(4705);t.exports=function(t,e){var r,f,l,h,p,v=t.target,d=t.global,g=t.stat;if(r=d?n:g?n[v]||a(v,{}):(n[v]||{}).prototype)for(f in e){if(h=e[f],l=t.noTargetGet?(p=i(r,f))&&p.value:r[f],!c(d?f:v+(g?".":"#")+f,t.forced)&&void 0!==l){if(typeof h==typeof l)continue;u(h,l)}(t.sham||l&&l.sham)&&o(h,"sham",!0),s(r,f,h,t)}}},7293:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:(t,e,r)=>{"use strict";r(4916);var n=r(1320),i=r(2261),o=r(7293),s=r(5112),a=r(8880),u=s("species"),c=RegExp.prototype;t.exports=function(t,e,r,f){var l=s(t),h=!o((function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})),p=h&&!o((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[l]=/./[l]),r.exec=function(){return e=!0,null},r[l](""),!e}));if(!h||!p||r){var v=/./[l],d=e(l,""[t],(function(t,e,r,n,o){var s=e.exec;return s===i||s===c.exec?h&&!o?{done:!0,value:v.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}));n(String.prototype,t,d[0]),n(c,l,d[1])}f&&a(c[l],"sham",!0)}},9974:(t,e,r)=>{var n=r(3099);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},5005:(t,e,r)=>{var n=r(857),i=r(7854),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(i[t]):n[t]&&n[t][e]||i[t]&&i[t][e]}},1246:(t,e,r)=>{var n=r(648),i=r(7497),o=r(5112)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[n(t)]}},647:(t,e,r)=>{var n=r(7908),i=Math.floor,o="".replace,s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,a=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,u,c,f){var l=r+t.length,h=u.length,p=a;return void 0!==c&&(c=n(c),p=s),o.call(f,p,(function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(l);case"<":s=c[o.slice(1,-1)];break;default:var a=+o;if(0===a)return n;if(a>h){var f=i(a/10);return 0===f?n:f<=h?void 0===u[f-1]?o.charAt(1):u[f-1]+o.charAt(1):n}s=u[a-1]}return void 0===s?"":s}))}},7854:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},6656:(t,e,r)=>{var n=r(7908),i={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return i.call(n(t),e)}},3501:t=>{t.exports={}},842:(t,e,r)=>{var n=r(7854);t.exports=function(t,e){var r=n.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}},490:(t,e,r)=>{var n=r(5005);t.exports=n("document","documentElement")},4664:(t,e,r)=>{var n=r(9781),i=r(7293),o=r(317);t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},1179:t=>{var e=Math.abs,r=Math.pow,n=Math.floor,i=Math.log,o=Math.LN2;t.exports={pack:function(t,s,a){var u,c,f,l=new Array(a),h=8*a-s-1,p=(1<<h)-1,v=p>>1,d=23===s?r(2,-24)-r(2,-77):0,g=t<0||0===t&&1/t<0?1:0,y=0;for((t=e(t))!=t||t===1/0?(c=t!=t?1:0,u=p):(u=n(i(t)/o),t*(f=r(2,-u))<1&&(u--,f*=2),(t+=u+v>=1?d/f:d*r(2,1-v))*f>=2&&(u++,f/=2),u+v>=p?(c=0,u=p):u+v>=1?(c=(t*f-1)*r(2,s),u+=v):(c=t*r(2,v-1)*r(2,s),u=0));s>=8;l[y++]=255&c,c/=256,s-=8);for(u=u<<s|c,h+=s;h>0;l[y++]=255&u,u/=256,h-=8);return l[--y]|=128*g,l},unpack:function(t,e){var n,i=t.length,o=8*i-e-1,s=(1<<o)-1,a=s>>1,u=o-7,c=i-1,f=t[c--],l=127&f;for(f>>=7;u>0;l=256*l+t[c],c--,u-=8);for(n=l&(1<<-u)-1,l>>=-u,u+=e;u>0;n=256*n+t[c],c--,u-=8);if(0===l)l=1-a;else{if(l===s)return n?NaN:f?-1/0:1/0;n+=r(2,e),l-=a}return(f?-1:1)*n*r(2,l-e)}}},8361:(t,e,r)=>{var n=r(7293),i=r(4326),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},9587:(t,e,r)=>{var n=r(111),i=r(7674);t.exports=function(t,e,r){var o,s;return i&&"function"==typeof(o=e.constructor)&&o!==r&&n(s=o.prototype)&&s!==r.prototype&&i(t,s),t}},2788:(t,e,r)=>{var n=r(5465),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return i.call(t)}),t.exports=n.inspectSource},9909:(t,e,r)=>{var n,i,o,s=r(8536),a=r(7854),u=r(111),c=r(8880),f=r(6656),l=r(5465),h=r(6200),p=r(3501),v="Object already initialized",d=a.WeakMap;if(s||l.state){var g=l.state||(l.state=new d),y=g.get,m=g.has,x=g.set;n=function(t,e){if(m.call(g,t))throw new TypeError(v);return e.facade=t,x.call(g,t,e),e},i=function(t){return y.call(g,t)||{}},o=function(t){return m.call(g,t)}}else{var b=h("state");p[b]=!0,n=function(t,e){if(f(t,b))throw new TypeError(v);return e.facade=t,c(t,b,e),e},i=function(t){return f(t,b)?t[b]:{}},o=function(t){return f(t,b)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},7659:(t,e,r)=>{var n=r(5112),i=r(7497),o=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},3157:(t,e,r)=>{var n=r(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},4705:(t,e,r)=>{var n=r(7293),i=/#|\.prototype\./,o=function(t,e){var r=a[s(t)];return r==c||r!=u&&("function"==typeof e?n(e):!!e)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},111:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:t=>{t.exports=!1},7850:(t,e,r)=>{var n=r(111),i=r(4326),o=r(5112)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},408:(t,e,r)=>{var n=r(9670),i=r(7659),o=r(7466),s=r(9974),a=r(1246),u=r(9212),c=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,r){var f,l,h,p,v,d,g,y=r&&r.that,m=!(!r||!r.AS_ENTRIES),x=!(!r||!r.IS_ITERATOR),b=!(!r||!r.INTERRUPTED),w=s(e,y,1+m+b),_=function(t){return f&&u(f),new c(!0,t)},S=function(t){return m?(n(t),b?w(t[0],t[1],_):w(t[0],t[1])):b?w(t,_):w(t)};if(x)f=t;else{if("function"!=typeof(l=a(t)))throw TypeError("Target is not iterable");if(i(l)){for(h=0,p=o(t.length);p>h;h++)if((v=S(t[h]))&&v instanceof c)return v;return new c(!1)}f=l.call(t)}for(d=f.next;!(g=d.call(f)).done;){try{v=S(g.value)}catch(t){throw u(f),t}if("object"==typeof v&&v&&v instanceof c)return v}return new c(!1)}},9212:(t,e,r)=>{var n=r(9670);t.exports=function(t){var e=t.return;if(void 0!==e)return n(e.call(t)).value}},3383:(t,e,r)=>{"use strict";var n,i,o,s=r(7293),a=r(9518),u=r(8880),c=r(6656),f=r(5112),l=r(1913),h=f("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(n=i):p=!0);var v=null==n||s((function(){var t={};return n[h].call(t)!==t}));v&&(n={}),l&&!v||c(n,h)||u(n,h,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},7497:t=>{t.exports={}},5948:(t,e,r)=>{var n,i,o,s,a,u,c,f,l=r(7854),h=r(1236).f,p=r(261).set,v=r(6833),d=r(1036),g=r(5268),y=l.MutationObserver||l.WebKitMutationObserver,m=l.document,x=l.process,b=l.Promise,w=h(l,"queueMicrotask"),_=w&&w.value;_||(n=function(){var t,e;for(g&&(t=x.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?s():o=void 0,t}}o=void 0,t&&t.enter()},v||g||d||!y||!m?b&&b.resolve?((c=b.resolve(void 0)).constructor=b,f=c.then,s=function(){f.call(c,n)}):s=g?function(){x.nextTick(n)}:function(){p.call(l,n)}:(a=!0,u=m.createTextNode(""),new y(n).observe(u,{characterData:!0}),s=function(){u.data=a=!a})),t.exports=_||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,s()),o=e}},3366:(t,e,r)=>{var n=r(7854);t.exports=n.Promise},133:(t,e,r)=>{var n=r(7392),i=r(7293);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},8536:(t,e,r)=>{var n=r(7854),i=r(2788),o=n.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},8523:(t,e,r)=>{"use strict";var n=r(3099),i=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new i(t)}},1574:(t,e,r)=>{"use strict";var n=r(9781),i=r(7293),o=r(1956),s=r(5181),a=r(5296),u=r(7908),c=r(8361),f=Object.assign,l=Object.defineProperty;t.exports=!f||i((function(){if(n&&1!==f({b:1},f(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach((function(t){e[t]=t})),7!=f({},t)[r]||o(f({},e)).join("")!=i}))?function(t,e){for(var r=u(t),i=arguments.length,f=1,l=s.f,h=a.f;i>f;)for(var p,v=c(arguments[f++]),d=l?o(v).concat(l(v)):o(v),g=d.length,y=0;g>y;)p=d[y++],n&&!h.call(v,p)||(r[p]=v[p]);return r}:f},30:(t,e,r)=>{var n,i=r(9670),o=r(6048),s=r(748),a=r(3501),u=r(490),c=r(317),f=r(6200)("IE_PROTO"),l=function(){},h=function(t){return"<script>"+t+"<\/script>"},p=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=n?function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F);for(var r=s.length;r--;)delete p.prototype[s[r]];return p()};a[f]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(l.prototype=i(t),r=new l,l.prototype=null,r[f]=t):r=p(),void 0===e?r:o(r,e)}},6048:(t,e,r)=>{var n=r(9781),i=r(3070),o=r(9670),s=r(1956);t.exports=n?Object.defineProperties:function(t,e){o(t);for(var r,n=s(e),a=n.length,u=0;a>u;)i.f(t,r=n[u++],e[r]);return t}},3070:(t,e,r)=>{var n=r(9781),i=r(4664),o=r(9670),s=r(7593),a=Object.defineProperty;e.f=n?a:function(t,e,r){if(o(t),e=s(e,!0),o(r),i)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1236:(t,e,r)=>{var n=r(9781),i=r(5296),o=r(9114),s=r(5656),a=r(7593),u=r(6656),c=r(4664),f=Object.getOwnPropertyDescriptor;e.f=n?f:function(t,e){if(t=s(t),e=a(e,!0),c)try{return f(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},1156:(t,e,r)=>{var n=r(5656),i=r(8006).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(n(t))}},8006:(t,e,r)=>{var n=r(6324),i=r(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},5181:(t,e)=>{e.f=Object.getOwnPropertySymbols},9518:(t,e,r)=>{var n=r(6656),i=r(7908),o=r(6200),s=r(8544),a=o("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=i(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},6324:(t,e,r)=>{var n=r(6656),i=r(5656),o=r(1318).indexOf,s=r(3501);t.exports=function(t,e){var r,a=i(t),u=0,c=[];for(r in a)!n(s,r)&&n(a,r)&&c.push(r);for(;e.length>u;)n(a,r=e[u++])&&(~o(c,r)||c.push(r));return c}},1956:(t,e,r)=>{var n=r(6324),i=r(748);t.exports=Object.keys||function(t){return n(t,i)}},5296:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},7674:(t,e,r)=>{var n=r(9670),i=r(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,o){return n(r),i(o),e?t.call(r,o):r.__proto__=o,r}}():void 0)},288:(t,e,r)=>{"use strict";var n=r(1694),i=r(648);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},3887:(t,e,r)=>{var n=r(5005),i=r(8006),o=r(5181),s=r(9670);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(s(t)),r=o.f;return r?e.concat(r(t)):e}},857:(t,e,r)=>{var n=r(7854);t.exports=n},2534:t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9478:(t,e,r)=>{var n=r(9670),i=r(111),o=r(8523);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},2248:(t,e,r)=>{var n=r(1320);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},1320:(t,e,r)=>{var n=r(7854),i=r(8880),o=r(6656),s=r(3505),a=r(2788),u=r(9909),c=u.get,f=u.enforce,l=String(String).split("String");(t.exports=function(t,e,r,a){var u,c=!!a&&!!a.unsafe,h=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof r&&("string"!=typeof e||o(r,"name")||i(r,"name",e),(u=f(r)).source||(u.source=l.join("string"==typeof e?e:""))),t!==n?(c?!p&&t[e]&&(h=!0):delete t[e],h?t[e]=r:i(t,e,r)):h?t[e]=r:s(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},7651:(t,e,r)=>{var n=r(4326),i=r(2261);t.exports=function(t,e){var r=t.exec;if("function"==typeof r){var o=r.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},2261:(t,e,r)=>{"use strict";var n,i,o=r(7066),s=r(2999),a=r(2309),u=r(30),c=r(9909).get,f=r(9441),l=r(8173),h=RegExp.prototype.exec,p=a("native-string-replace",String.prototype.replace),v=h,d=(n=/a/,i=/b*/g,h.call(n,"a"),h.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),g=s.UNSUPPORTED_Y||s.BROKEN_CARET,y=void 0!==/()??/.exec("")[1];(d||y||g||f||l)&&(v=function(t){var e,r,n,i,s,a,f,l=this,m=c(l),x=m.raw;if(x)return x.lastIndex=l.lastIndex,e=v.call(x,t),l.lastIndex=x.lastIndex,e;var b=m.groups,w=g&&l.sticky,_=o.call(l),S=l.source,E=0,k=t;if(w&&(-1===(_=_.replace("y","")).indexOf("g")&&(_+="g"),k=String(t).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==t[l.lastIndex-1])&&(S="(?: "+S+")",k=" "+k,E++),r=new RegExp("^(?:"+S+")",_)),y&&(r=new RegExp("^"+S+"$(?!\\s)",_)),d&&(n=l.lastIndex),i=h.call(w?r:l,k),w?i?(i.input=i.input.slice(E),i[0]=i[0].slice(E),i.index=l.lastIndex,l.lastIndex+=i[0].length):l.lastIndex=0:d&&i&&(l.lastIndex=l.global?i.index+i[0].length:n),y&&i&&i.length>1&&p.call(i[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i&&b)for(i.groups=a=u(null),s=0;s<b.length;s++)a[(f=b[s])[0]]=i[f[1]];return i}),t.exports=v},7066:(t,e,r)=>{"use strict";var n=r(9670);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:(t,e,r)=>{var n=r(7293),i=function(t,e){return RegExp(t,e)};e.UNSUPPORTED_Y=n((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},9441:(t,e,r)=>{var n=r(7293);t.exports=n((function(){var t=RegExp(".","string".charAt(0));return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},8173:(t,e,r)=>{var n=r(7293);t.exports=n((function(){var t=RegExp("(?<a>b)","string".charAt(5));return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:(t,e,r)=>{var n=r(7854),i=r(8880);t.exports=function(t,e){try{i(n,t,e)}catch(r){n[t]=e}return e}},6340:(t,e,r)=>{"use strict";var n=r(5005),i=r(3070),o=r(5112),s=r(9781),a=o("species");t.exports=function(t){var e=n(t),r=i.f;s&&e&&!e[a]&&r(e,a,{configurable:!0,get:function(){return this}})}},8003:(t,e,r)=>{var n=r(3070).f,i=r(6656),o=r(5112)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},6200:(t,e,r)=>{var n=r(2309),i=r(9711),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:(t,e,r)=>{var n=r(7854),i=r(3505),o="__core-js_shared__",s=n[o]||i(o,{});t.exports=s},2309:(t,e,r)=>{var n=r(1913),i=r(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.15.1",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},6707:(t,e,r)=>{var n=r(9670),i=r(3099),o=r(5112)("species");t.exports=function(t,e){var r,s=n(t).constructor;return void 0===s||null==(r=n(s)[o])?e:i(r)}},8710:(t,e,r)=>{var n=r(9958),i=r(4488),o=function(t){return function(e,r){var o,s,a=String(i(e)),u=n(r),c=a.length;return u<0||u>=c?t?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},261:(t,e,r)=>{var n,i,o,s=r(7854),a=r(7293),u=r(9974),c=r(490),f=r(317),l=r(6833),h=r(5268),p=s.location,v=s.setImmediate,d=s.clearImmediate,g=s.process,y=s.MessageChannel,m=s.Dispatch,x=0,b={},w=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},_=function(t){return function(){w(t)}},S=function(t){w(t.data)},E=function(t){s.postMessage(t+"",p.protocol+"//"+p.host)};v&&d||(v=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return b[++x]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(x),x},d=function(t){delete b[t]},h?n=function(t){g.nextTick(_(t))}:m&&m.now?n=function(t){m.now(_(t))}:y&&!l?(o=(i=new y).port2,i.port1.onmessage=S,n=u(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&p&&"file:"!==p.protocol&&!a(E)?(n=E,s.addEventListener("message",S,!1)):n="onreadystatechange"in f("script")?function(t){c.appendChild(f("script")).onreadystatechange=function(){c.removeChild(this),w(t)}}:function(t){setTimeout(_(t),0)}),t.exports={set:v,clear:d}},1400:(t,e,r)=>{var n=r(9958),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},7067:(t,e,r)=>{var n=r(9958),i=r(7466);t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=i(e);if(e!==r)throw RangeError("Wrong length or index");return r}},5656:(t,e,r)=>{var n=r(8361),i=r(4488);t.exports=function(t){return n(i(t))}},9958:t=>{var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},7466:(t,e,r)=>{var n=r(9958),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},7908:(t,e,r)=>{var n=r(4488);t.exports=function(t){return Object(n(t))}},4590:(t,e,r)=>{var n=r(3002);t.exports=function(t,e){var r=n(t);if(r%e)throw RangeError("Wrong offset");return r}},3002:(t,e,r)=>{var n=r(9958);t.exports=function(t){var e=n(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},7593:(t,e,r)=>{var n=r(111);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},1694:(t,e,r)=>{var n={};n[r(5112)("toStringTag")]="z",t.exports="[object z]"===String(n)},9843:(t,e,r)=>{"use strict";var n=r(2109),i=r(7854),o=r(9781),s=r(3832),a=r(260),u=r(3331),c=r(5787),f=r(9114),l=r(8880),h=r(7466),p=r(7067),v=r(4590),d=r(7593),g=r(6656),y=r(648),m=r(111),x=r(30),b=r(7674),w=r(8006).f,_=r(7321),S=r(2092).forEach,E=r(6340),k=r(3070),M=r(1236),A=r(9909),P=r(9587),T=A.get,O=A.set,I=k.f,R=M.f,j=Math.round,B=i.RangeError,L=u.ArrayBuffer,Y=u.DataView,N=a.NATIVE_ARRAY_BUFFER_VIEWS,F=a.TYPED_ARRAY_TAG,X=a.TypedArray,C=a.TypedArrayPrototype,U=a.aTypedArrayConstructor,D=a.isTypedArray,z="BYTES_PER_ELEMENT",G="Wrong length",V=function(t,e){for(var r=0,n=e.length,i=new(U(t))(n);n>r;)i[r]=e[r++];return i},W=function(t,e){I(t,e,{get:function(){return T(this)[e]}})},q=function(t){var e;return t instanceof L||"ArrayBuffer"==(e=y(t))||"SharedArrayBuffer"==e},J=function(t,e){return D(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},$=function(t,e){return J(t,e=d(e,!0))?f(2,t[e]):R(t,e)},K=function(t,e,r){return!(J(t,e=d(e,!0))&&m(r)&&g(r,"value"))||g(r,"get")||g(r,"set")||r.configurable||g(r,"writable")&&!r.writable||g(r,"enumerable")&&!r.enumerable?I(t,e,r):(t[e]=r.value,t)};o?(N||(M.f=$,k.f=K,W(C,"buffer"),W(C,"byteOffset"),W(C,"byteLength"),W(C,"length")),n({target:"Object",stat:!0,forced:!N},{getOwnPropertyDescriptor:$,defineProperty:K}),t.exports=function(t,e,r){var o=t.match(/\d+$/)[0]/8,a=t+(r?"Clamped":"")+"Array",u="get"+t,f="set"+t,d=i[a],g=d,y=g&&g.prototype,k={},M=function(t,e){I(t,e,{get:function(){return function(t,e){var r=T(t);return r.view[u](e*o+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var i=T(t);r&&(n=(n=j(n))<0?0:n>255?255:255&n),i.view[f](e*o+i.byteOffset,n,!0)}(this,e,t)},enumerable:!0})};N?s&&(g=e((function(t,e,r,n){return c(t,g,a),P(m(e)?q(e)?void 0!==n?new d(e,v(r,o),n):void 0!==r?new d(e,v(r,o)):new d(e):D(e)?V(g,e):_.call(g,e):new d(p(e)),t,g)})),b&&b(g,X),S(w(d),(function(t){t in g||l(g,t,d[t])})),g.prototype=y):(g=e((function(t,e,r,n){c(t,g,a);var i,s,u,f=0,l=0;if(m(e)){if(!q(e))return D(e)?V(g,e):_.call(g,e);i=e,l=v(r,o);var d=e.byteLength;if(void 0===n){if(d%o)throw B(G);if((s=d-l)<0)throw B(G)}else if((s=h(n)*o)+l>d)throw B(G);u=s/o}else u=p(e),i=new L(s=u*o);for(O(t,{buffer:i,byteOffset:l,byteLength:s,length:u,view:new Y(i)});f<u;)M(t,f++)})),b&&b(g,X),y=g.prototype=x(C)),y.constructor!==g&&l(y,"constructor",g),F&&l(y,F,a),k[a]=g,n({global:!0,forced:g!=d,sham:!N},k),z in g||l(g,z,o),z in y||l(y,z,o),E(a)}):t.exports=function(){}},3832:(t,e,r)=>{var n=r(7854),i=r(7293),o=r(7072),s=r(260).NATIVE_ARRAY_BUFFER_VIEWS,a=n.ArrayBuffer,u=n.Int8Array;t.exports=!s||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!o((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||i((function(){return 1!==new u(new a(2),1,void 0).length}))},3074:(t,e,r)=>{var n=r(260).aTypedArrayConstructor,i=r(6707);t.exports=function(t,e){for(var r=i(t,t.constructor),o=0,s=e.length,a=new(n(r))(s);s>o;)a[o]=e[o++];return a}},7321:(t,e,r)=>{var n=r(7908),i=r(7466),o=r(1246),s=r(7659),a=r(9974),u=r(260).aTypedArrayConstructor;t.exports=function(t){var e,r,c,f,l,h,p=n(t),v=arguments.length,d=v>1?arguments[1]:void 0,g=void 0!==d,y=o(p);if(null!=y&&!s(y))for(h=(l=y.call(p)).next,p=[];!(f=h.call(l)).done;)p.push(f.value);for(g&&v>2&&(d=a(d,arguments[2],2)),r=i(p.length),c=new(u(this))(r),e=0;r>e;e++)c[e]=g?d(p[e],e):p[e];return c}},9711:t=>{var e=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+r).toString(36)}},3307:(t,e,r)=>{var n=r(133);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:(t,e,r)=>{var n=r(5112);e.f=n},5112:(t,e,r)=>{var n=r(7854),i=r(2309),o=r(6656),s=r(9711),a=r(133),u=r(3307),c=i("wks"),f=n.Symbol,l=u?f:f&&f.withoutSetter||s;t.exports=function(t){return o(c,t)&&(a||"string"==typeof c[t])||(a&&o(f,t)?c[t]=f[t]:c[t]=l("Symbol."+t)),c[t]}},8264:(t,e,r)=>{"use strict";var n=r(2109),i=r(7854),o=r(3331),s=r(6340),a=o.ArrayBuffer;n({global:!0,forced:i.ArrayBuffer!==a},{ArrayBuffer:a}),s("ArrayBuffer")},2222:(t,e,r)=>{"use strict";var n=r(2109),i=r(7293),o=r(3157),s=r(111),a=r(7908),u=r(7466),c=r(6135),f=r(5417),l=r(1194),h=r(5112),p=r(7392),v=h("isConcatSpreadable"),d=9007199254740991,g="Maximum allowed index exceeded",y=p>=51||!i((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),m=l("concat"),x=function(t){if(!s(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)};n({target:"Array",proto:!0,forced:!y||!m},{concat:function(t){var e,r,n,i,o,s=a(this),l=f(s,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(x(o=-1===e?s:arguments[e])){if(h+(i=u(o.length))>d)throw TypeError(g);for(r=0;r<i;r++,h++)r in o&&c(l,h,o[r])}else{if(h>=d)throw TypeError(g);c(l,h++,o)}return l.length=h,l}})},7327:(t,e,r)=>{"use strict";var n=r(2109),i=r(2092).filter;n({target:"Array",proto:!0,forced:!r(1194)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},1038:(t,e,r)=>{var n=r(2109),i=r(8457);n({target:"Array",stat:!0,forced:!r(7072)((function(t){Array.from(t)}))},{from:i})},6992:(t,e,r)=>{"use strict";var n=r(5656),i=r(1223),o=r(7497),s=r(9909),a=r(654),u="Array Iterator",c=s.set,f=s.getterFor(u);t.exports=a(Array,"Array",(function(t,e){c(this,{type:u,target:n(t),index:0,kind:e})}),(function(){var t=f(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},9600:(t,e,r)=>{"use strict";var n=r(2109),i=r(8361),o=r(5656),s=r(9341),a=[].join,u=i!=Object,c=s("join",",");n({target:"Array",proto:!0,forced:u||!c},{join:function(t){return a.call(o(this),void 0===t?",":t)}})},1249:(t,e,r)=>{"use strict";var n=r(2109),i=r(2092).map;n({target:"Array",proto:!0,forced:!r(1194)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},7042:(t,e,r)=>{"use strict";var n=r(2109),i=r(111),o=r(3157),s=r(1400),a=r(7466),u=r(5656),c=r(6135),f=r(5112),l=r(1194)("slice"),h=f("species"),p=[].slice,v=Math.max;n({target:"Array",proto:!0,forced:!l},{slice:function(t,e){var r,n,f,l=u(this),d=a(l.length),g=s(t,d),y=s(void 0===e?d:e,d);if(o(l)&&("function"!=typeof(r=l.constructor)||r!==Array&&!o(r.prototype)?i(r)&&null===(r=r[h])&&(r=void 0):r=void 0,r===Array||void 0===r))return p.call(l,g,y);for(n=new(void 0===r?Array:r)(v(y-g,0)),f=0;g<y;g++,f++)g in l&&c(n,f,l[g]);return n.length=f,n}})},2707:(t,e,r)=>{"use strict";var n=r(2109),i=r(3099),o=r(7908),s=r(7466),a=r(7293),u=r(4362),c=r(9341),f=r(8886),l=r(256),h=r(7392),p=r(8008),v=[],d=v.sort,g=a((function(){v.sort(void 0)})),y=a((function(){v.sort(null)})),m=c("sort"),x=!a((function(){if(h)return h<70;if(!(f&&f>3)){if(l)return!0;if(p)return p<603;var t,e,r,n,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)v.push({k:e+n,v:r})}for(v.sort((function(t,e){return e.v-t.v})),n=0;n<v.length;n++)e=v[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:g||!y||!m||!x},{sort:function(t){void 0!==t&&i(t);var e=o(this);if(x)return void 0===t?d.call(e):d.call(e,t);var r,n,a=[],c=s(e.length);for(n=0;n<c;n++)n in e&&a.push(e[n]);for(r=(a=u(a,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:String(e)>String(r)?1:-1}}(t))).length,n=0;n<r;)e[n]=a[n++];for(;n<c;)delete e[n++];return e}})},9601:(t,e,r)=>{var n=r(2109),i=r(1574);n({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},7941:(t,e,r)=>{var n=r(2109),i=r(7908),o=r(1956);n({target:"Object",stat:!0,forced:r(7293)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},1539:(t,e,r)=>{var n=r(1694),i=r(1320),o=r(288);n||i(Object.prototype,"toString",o,{unsafe:!0})},8674:(t,e,r)=>{"use strict";var n,i,o,s,a=r(2109),u=r(1913),c=r(7854),f=r(5005),l=r(3366),h=r(1320),p=r(2248),v=r(7674),d=r(8003),g=r(6340),y=r(111),m=r(3099),x=r(5787),b=r(2788),w=r(408),_=r(7072),S=r(6707),E=r(261).set,k=r(5948),M=r(9478),A=r(842),P=r(8523),T=r(2534),O=r(9909),I=r(4705),R=r(5112),j=r(7871),B=r(5268),L=r(7392),Y=R("species"),N="Promise",F=O.get,X=O.set,C=O.getterFor(N),U=l&&l.prototype,D=l,z=U,G=c.TypeError,V=c.document,W=c.process,q=P.f,J=q,$=!!(V&&V.createEvent&&c.dispatchEvent),K="function"==typeof PromiseRejectionEvent,H="unhandledrejection",Z=!1,Q=I(N,(function(){var t=b(D)!==String(D);if(!t&&66===L)return!0;if(u&&!z.finally)return!0;if(L>=51&&/native code/.test(D))return!1;var e=new D((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(e.constructor={})[Y]=r,!(Z=e.then((function(){}))instanceof r)||!t&&j&&!K})),tt=Q||!_((function(t){D.all(t).catch((function(){}))})),et=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},rt=function(t,e){if(!t.notified){t.notified=!0;var r=t.reactions;k((function(){for(var n=t.value,i=1==t.state,o=0;r.length>o;){var s,a,u,c=r[o++],f=i?c.ok:c.fail,l=c.resolve,h=c.reject,p=c.domain;try{f?(i||(2===t.rejection&&st(t),t.rejection=1),!0===f?s=n:(p&&p.enter(),s=f(n),p&&(p.exit(),u=!0)),s===c.promise?h(G("Promise-chain cycle")):(a=et(s))?a.call(s,l,h):l(s)):h(n)}catch(t){p&&!u&&p.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&it(t)}))}},nt=function(t,e,r){var n,i;$?((n=V.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},!K&&(i=c["on"+t])?i(n):t===H&&A("Unhandled promise rejection",r)},it=function(t){E.call(c,(function(){var e,r=t.facade,n=t.value;if(ot(t)&&(e=T((function(){B?W.emit("unhandledRejection",n,r):nt(H,r,n)})),t.rejection=B||ot(t)?2:1,e.error))throw e.value}))},ot=function(t){return 1!==t.rejection&&!t.parent},st=function(t){E.call(c,(function(){var e=t.facade;B?W.emit("rejectionHandled",e):nt("rejectionhandled",e,t.value)}))},at=function(t,e,r){return function(n){t(e,n,r)}},ut=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,rt(t,!0))},ct=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw G("Promise can't be resolved itself");var n=et(e);n?k((function(){var r={done:!1};try{n.call(e,at(ct,r,t),at(ut,r,t))}catch(e){ut(r,e,t)}})):(t.value=e,t.state=1,rt(t,!1))}catch(e){ut({done:!1},e,t)}}};if(Q&&(z=(D=function(t){x(this,D,N),m(t),n.call(this);var e=F(this);try{t(at(ct,e),at(ut,e))}catch(t){ut(e,t)}}).prototype,(n=function(t){X(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(z,{then:function(t,e){var r=C(this),n=q(S(this,D));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=B?W.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&rt(r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new n,e=F(t);this.promise=t,this.resolve=at(ct,e),this.reject=at(ut,e)},P.f=q=function(t){return t===D||t===o?new i(t):J(t)},!u&&"function"==typeof l&&U!==Object.prototype)){s=U.then,Z||(h(U,"then",(function(t,e){var r=this;return new D((function(t,e){s.call(r,t,e)})).then(t,e)}),{unsafe:!0}),h(U,"catch",z.catch,{unsafe:!0}));try{delete U.constructor}catch(t){}v&&v(U,z)}a({global:!0,wrap:!0,forced:Q},{Promise:D}),d(D,N,!1,!0),g(N),o=f(N),a({target:N,stat:!0,forced:Q},{reject:function(t){var e=q(this);return e.reject.call(void 0,t),e.promise}}),a({target:N,stat:!0,forced:u||Q},{resolve:function(t){return M(u&&this===o?D:this,t)}}),a({target:N,stat:!0,forced:tt},{all:function(t){var e=this,r=q(e),n=r.resolve,i=r.reject,o=T((function(){var r=m(e.resolve),o=[],s=0,a=1;w(t,(function(t){var u=s++,c=!1;o.push(void 0),a++,r.call(e,t).then((function(t){c||(c=!0,o[u]=t,--a||n(o))}),i)})),--a||n(o)}));return o.error&&i(o.value),r.promise},race:function(t){var e=this,r=q(e),n=r.reject,i=T((function(){var i=m(e.resolve);w(t,(function(t){i.call(e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},4916:(t,e,r)=>{"use strict";var n=r(2109),i=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},9714:(t,e,r)=>{"use strict";var n=r(1320),i=r(9670),o=r(7293),s=r(7066),a="toString",u=RegExp.prototype,c=u.toString,f=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),l=c.name!=a;(f||l)&&n(RegExp.prototype,a,(function(){var t=i(this),e=String(t.source),r=t.flags;return"/"+e+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in u)?s.call(t):r)}),{unsafe:!0})},8783:(t,e,r)=>{"use strict";var n=r(8710).charAt,i=r(9909),o=r(654),s="String Iterator",a=i.set,u=i.getterFor(s);o(String,"String",(function(t){a(this,{type:s,string:String(t),index:0})}),(function(){var t,e=u(this),r=e.string,i=e.index;return i>=r.length?{value:void 0,done:!0}:(t=n(r,i),e.index+=t.length,{value:t,done:!1})}))},4723:(t,e,r)=>{"use strict";var n=r(7007),i=r(9670),o=r(7466),s=r(4488),a=r(1530),u=r(7651);n("match",(function(t,e,r){return[function(e){var r=s(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,this,t);if(n.done)return n.value;var s=i(this),c=String(t);if(!s.global)return u(s,c);var f=s.unicode;s.lastIndex=0;for(var l,h=[],p=0;null!==(l=u(s,c));){var v=String(l[0]);h[p]=v,""===v&&(s.lastIndex=a(c,o(s.lastIndex),f)),p++}return 0===p?null:h}]}))},5306:(t,e,r)=>{"use strict";var n=r(7007),i=r(7293),o=r(9670),s=r(7466),a=r(9958),u=r(4488),c=r(1530),f=r(647),l=r(7651),h=r(5112)("replace"),p=Math.max,v=Math.min,d="$0"==="a".replace(/./,"$0"),g=!!/./[h]&&""===/./[h]("a","$0");n("replace",(function(t,e,r){var n=g?"$":"$0";return[function(t,r){var n=u(this),i=null==t?void 0:t[h];return void 0!==i?i.call(t,n,r):e.call(String(n),t,r)},function(t,i){if("string"==typeof i&&-1===i.indexOf(n)&&-1===i.indexOf("$<")){var u=r(e,this,t,i);if(u.done)return u.value}var h=o(this),d=String(t),g="function"==typeof i;g||(i=String(i));var y=h.global;if(y){var m=h.unicode;h.lastIndex=0}for(var x=[];;){var b=l(h,d);if(null===b)break;if(x.push(b),!y)break;""===String(b[0])&&(h.lastIndex=c(d,s(h.lastIndex),m))}for(var w,_="",S=0,E=0;E<x.length;E++){b=x[E];for(var k=String(b[0]),M=p(v(a(b.index),d.length),0),A=[],P=1;P<b.length;P++)A.push(void 0===(w=b[P])?w:String(w));var T=b.groups;if(g){var O=[k].concat(A,M,d);void 0!==T&&O.push(T);var I=String(i.apply(void 0,O))}else I=f(k,d,M,A,T,i);M>=S&&(_+=d.slice(S,M)+I,S=M+k.length)}return _+d.slice(S)}]}),!!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!d||g)},3123:(t,e,r)=>{"use strict";var n=r(7007),i=r(7850),o=r(9670),s=r(4488),a=r(6707),u=r(1530),c=r(7466),f=r(7651),l=r(2261),h=r(2999),p=r(7293),v=h.UNSUPPORTED_Y,d=[].push,g=Math.min,y=4294967295;n("split",(function(t,e,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var n=String(s(this)),o=void 0===r?y:r>>>0;if(0===o)return[];if(void 0===t)return[n];if(!i(t))return e.call(n,t,o);for(var a,u,c,f=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,v=new RegExp(t.source,h+"g");(a=l.call(v,n))&&!((u=v.lastIndex)>p&&(f.push(n.slice(p,a.index)),a.length>1&&a.index<n.length&&d.apply(f,a.slice(1)),c=a[0].length,p=u,f.length>=o));)v.lastIndex===a.index&&v.lastIndex++;return p===n.length?!c&&v.test("")||f.push(""):f.push(n.slice(p)),f.length>o?f.slice(0,o):f}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var i=s(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,r):n.call(String(i),e,r)},function(t,i){var s=r(n,this,t,i,n!==e);if(s.done)return s.value;var l=o(this),h=String(t),p=a(l,RegExp),d=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"g":"y"),x=new p(v?"^(?:"+l.source+")":l,m),b=void 0===i?y:i>>>0;if(0===b)return[];if(0===h.length)return null===f(x,h)?[h]:[];for(var w=0,_=0,S=[];_<h.length;){x.lastIndex=v?0:_;var E,k=f(x,v?h.slice(_):h);if(null===k||(E=g(c(x.lastIndex+(v?_:0)),h.length))===w)_=u(h,_,d);else{if(S.push(h.slice(w,_)),S.length===b)return S;for(var M=1;M<=k.length-1;M++)if(S.push(k[M]),S.length===b)return S;_=w=E}}return S.push(h.slice(w)),S}]}),!!p((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),v)},1817:(t,e,r)=>{"use strict";var n=r(2109),i=r(9781),o=r(7854),s=r(6656),a=r(111),u=r(3070).f,c=r(9920),f=o.Symbol;if(i&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var l={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new f(t):void 0===t?f():f(t);return""===t&&(l[e]=!0),e};c(h,f);var p=h.prototype=f.prototype;p.constructor=h;var v=p.toString,d="Symbol(test)"==String(f("test")),g=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=v.call(t);if(s(l,t))return"";var r=d?e.slice(7,-1):e.replace(g,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:h})}},2165:(t,e,r)=>{r(7235)("iterator")},2526:(t,e,r)=>{"use strict";var n=r(2109),i=r(7854),o=r(5005),s=r(1913),a=r(9781),u=r(133),c=r(3307),f=r(7293),l=r(6656),h=r(3157),p=r(111),v=r(9670),d=r(7908),g=r(5656),y=r(7593),m=r(9114),x=r(30),b=r(1956),w=r(8006),_=r(1156),S=r(5181),E=r(1236),k=r(3070),M=r(5296),A=r(8880),P=r(1320),T=r(2309),O=r(6200),I=r(3501),R=r(9711),j=r(5112),B=r(6061),L=r(7235),Y=r(8003),N=r(9909),F=r(2092).forEach,X=O("hidden"),C="Symbol",U=j("toPrimitive"),D=N.set,z=N.getterFor(C),G=Object.prototype,V=i.Symbol,W=o("JSON","stringify"),q=E.f,J=k.f,$=_.f,K=M.f,H=T("symbols"),Z=T("op-symbols"),Q=T("string-to-symbol-registry"),tt=T("symbol-to-string-registry"),et=T("wks"),rt=i.QObject,nt=!rt||!rt.prototype||!rt.prototype.findChild,it=a&&f((function(){return 7!=x(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=q(G,e);n&&delete G[e],J(t,e,r),n&&t!==G&&J(G,e,n)}:J,ot=function(t,e){var r=H[t]=x(V.prototype);return D(r,{type:C,tag:t,description:e}),a||(r.description=e),r},st=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof V},at=function(t,e,r){t===G&&at(Z,e,r),v(t);var n=y(e,!0);return v(r),l(H,n)?(r.enumerable?(l(t,X)&&t[X][n]&&(t[X][n]=!1),r=x(r,{enumerable:m(0,!1)})):(l(t,X)||J(t,X,m(1,{})),t[X][n]=!0),it(t,n,r)):J(t,n,r)},ut=function(t,e){v(t);var r=g(e),n=b(r).concat(ht(r));return F(n,(function(e){a&&!ct.call(r,e)||at(t,e,r[e])})),t},ct=function(t){var e=y(t,!0),r=K.call(this,e);return!(this===G&&l(H,e)&&!l(Z,e))&&(!(r||!l(this,e)||!l(H,e)||l(this,X)&&this[X][e])||r)},ft=function(t,e){var r=g(t),n=y(e,!0);if(r!==G||!l(H,n)||l(Z,n)){var i=q(r,n);return!i||!l(H,n)||l(r,X)&&r[X][n]||(i.enumerable=!0),i}},lt=function(t){var e=$(g(t)),r=[];return F(e,(function(t){l(H,t)||l(I,t)||r.push(t)})),r},ht=function(t){var e=t===G,r=$(e?Z:g(t)),n=[];return F(r,(function(t){!l(H,t)||e&&!l(G,t)||n.push(H[t])})),n};u||(P((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=R(t),r=function(t){this===G&&r.call(Z,t),l(this,X)&&l(this[X],e)&&(this[X][e]=!1),it(this,e,m(1,t))};return a&&nt&&it(G,e,{configurable:!0,set:r}),ot(e,t)}).prototype,"toString",(function(){return z(this).tag})),P(V,"withoutSetter",(function(t){return ot(R(t),t)})),M.f=ct,k.f=at,E.f=ft,w.f=_.f=lt,S.f=ht,B.f=function(t){return ot(j(t),t)},a&&(J(V.prototype,"description",{configurable:!0,get:function(){return z(this).description}}),s||P(G,"propertyIsEnumerable",ct,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:V}),F(b(et),(function(t){L(t)})),n({target:C,stat:!0,forced:!u},{for:function(t){var e=String(t);if(l(Q,e))return Q[e];var r=V(e);return Q[e]=r,tt[r]=e,r},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(l(tt,t))return tt[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!a},{create:function(t,e){return void 0===e?x(t):ut(x(t),e)},defineProperty:at,defineProperties:ut,getOwnPropertyDescriptor:ft}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:lt,getOwnPropertySymbols:ht}),n({target:"Object",stat:!0,forced:f((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(d(t))}}),W&&n({target:"JSON",stat:!0,forced:!u||f((function(){var t=V();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}))},{stringify:function(t,e,r){for(var n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e,(p(e)||void 0!==t)&&!st(t))return h(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!st(e))return e}),i[1]=e,W.apply(null,i)}}),V.prototype[U]||A(V.prototype,U,V.prototype.valueOf),Y(V,C),I[X]=!0},2990:(t,e,r)=>{"use strict";var n=r(260),i=r(1048),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",(function(t,e){return i.call(o(this),t,e,arguments.length>2?arguments[2]:void 0)}))},8927:(t,e,r)=>{"use strict";var n=r(260),i=r(2092).every,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},3105:(t,e,r)=>{"use strict";var n=r(260),i=r(1285),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",(function(t){return i.apply(o(this),arguments)}))},5035:(t,e,r)=>{"use strict";var n=r(260),i=r(2092).filter,o=r(3074),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",(function(t){var e=i(s(this),t,arguments.length>1?arguments[1]:void 0);return o(this,e)}))},7174:(t,e,r)=>{"use strict";var n=r(260),i=r(2092).findIndex,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},4345:(t,e,r)=>{"use strict";var n=r(260),i=r(2092).find,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},6495:(t,e,r)=>{r(9843)("Float64",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},2846:(t,e,r)=>{"use strict";var n=r(260),i=r(2092).forEach,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},4731:(t,e,r)=>{"use strict";var n=r(260),i=r(1318).includes,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},7209:(t,e,r)=>{"use strict";var n=r(260),i=r(1318).indexOf,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},6319:(t,e,r)=>{"use strict";var n=r(7854),i=r(260),o=r(6992),s=r(5112)("iterator"),a=n.Uint8Array,u=o.values,c=o.keys,f=o.entries,l=i.aTypedArray,h=i.exportTypedArrayMethod,p=a&&a.prototype[s],v=!!p&&("values"==p.name||null==p.name),d=function(){return u.call(l(this))};h("entries",(function(){return f.call(l(this))})),h("keys",(function(){return c.call(l(this))})),h("values",d,!v),h(s,d,!v)},8867:(t,e,r)=>{"use strict";var n=r(260),i=n.aTypedArray,o=n.exportTypedArrayMethod,s=[].join;o("join",(function(t){return s.apply(i(this),arguments)}))},7789:(t,e,r)=>{"use strict";var n=r(260),i=r(6583),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(t){return i.apply(o(this),arguments)}))},3739:(t,e,r)=>{"use strict";var n=r(260),i=r(2092).map,o=r(6707),s=n.aTypedArray,a=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",(function(t){return i(s(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(a(o(t,t.constructor)))(e)}))}))},4483:(t,e,r)=>{"use strict";var n=r(260),i=r(3671).right,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},9368:(t,e,r)=>{"use strict";var n=r(260),i=r(3671).left,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2056:(t,e,r)=>{"use strict";var n=r(260),i=n.aTypedArray,o=n.exportTypedArrayMethod,s=Math.floor;o("reverse",(function(){for(var t,e=this,r=i(e).length,n=s(r/2),o=0;o<n;)t=e[o],e[o++]=e[--r],e[r]=t;return e}))},3462:(t,e,r)=>{"use strict";var n=r(260),i=r(7466),o=r(4590),s=r(7908),a=r(7293),u=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",(function(t){u(this);var e=o(arguments.length>1?arguments[1]:void 0,1),r=this.length,n=s(t),a=i(n.length),c=0;if(a+e>r)throw RangeError("Wrong length");for(;c<a;)this[e+c]=n[c++]}),a((function(){new Int8Array(1).set({})})))},678:(t,e,r)=>{"use strict";var n=r(260),i=r(6707),o=r(7293),s=n.aTypedArray,a=n.aTypedArrayConstructor,u=n.exportTypedArrayMethod,c=[].slice;u("slice",(function(t,e){for(var r=c.call(s(this),t,e),n=i(this,this.constructor),o=0,u=r.length,f=new(a(n))(u);u>o;)f[o]=r[o++];return f}),o((function(){new Int8Array(1).slice()})))},7462:(t,e,r)=>{"use strict";var n=r(260),i=r(2092).some,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)}))},3824:(t,e,r)=>{"use strict";var n=r(260),i=r(7854),o=r(7293),s=r(3099),a=r(7466),u=r(4362),c=r(8886),f=r(256),l=r(7392),h=r(8008),p=n.aTypedArray,v=n.exportTypedArrayMethod,d=i.Uint16Array,g=d&&d.prototype.sort,y=!!g&&!o((function(){var t=new d(2);t.sort(null),t.sort({})})),m=!!g&&!o((function(){if(l)return l<74;if(c)return c<67;if(f)return!0;if(h)return h<602;var t,e,r=new d(516),n=Array(516);for(t=0;t<516;t++)e=t%4,r[t]=515-t,n[t]=t-2*e+3;for(r.sort((function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(r[t]!==n[t])return!0}));v("sort",(function(t){var e=this;if(void 0!==t&&s(t),m)return g.call(e,t);p(e);var r,n=a(e.length),i=Array(n);for(r=0;r<n;r++)i[r]=e[r];for(i=u(e,function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r}}(t)),r=0;r<n;r++)e[r]=i[r];return e}),!m||y)},5021:(t,e,r)=>{"use strict";var n=r(260),i=r(7466),o=r(1400),s=r(6707),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",(function(t,e){var r=a(this),n=r.length,u=o(t,n);return new(s(r,r.constructor))(r.buffer,r.byteOffset+u*r.BYTES_PER_ELEMENT,i((void 0===e?n:o(e,n))-u))}))},2974:(t,e,r)=>{"use strict";var n=r(7854),i=r(260),o=r(7293),s=n.Int8Array,a=i.aTypedArray,u=i.exportTypedArrayMethod,c=[].toLocaleString,f=[].slice,l=!!s&&o((function(){c.call(new s(1))}));u("toLocaleString",(function(){return c.apply(l?f.call(a(this)):a(this),arguments)}),o((function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()}))||!o((function(){s.prototype.toLocaleString.call([1,2])})))},5016:(t,e,r)=>{"use strict";var n=r(260).exportTypedArrayMethod,i=r(7293),o=r(7854).Uint8Array,s=o&&o.prototype||{},a=[].toString,u=[].join;i((function(){a.call({})}))&&(a=function(){return u.call(this)});var c=s.toString!=a;n("toString",a,c)},9135:(t,e,r)=>{r(9843)("Uint32",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},3948:(t,e,r)=>{var n=r(7854),i=r(8324),o=r(6992),s=r(8880),a=r(5112),u=a("iterator"),c=a("toStringTag"),f=o.values;for(var l in i){var h=n[l],p=h&&h.prototype;if(p){if(p[u]!==f)try{s(p,u,f)}catch(t){p[u]=f}if(p[c]||s(p,c,l),i[l])for(var v in o)if(p[v]!==o[v])try{s(p,v,o[v])}catch(t){p[v]=o[v]}}}},1787:(t,e,r)=>{var n=r(5510),i=r(4102),o=r(1540),s=r(9705).Z,a=o.featureEach,u=(o.coordEach,i.polygon,i.featureCollection);function c(t){var e=n(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:s(t),n.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:s(t),e.push(t)})):a(t,(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:s(t),e.push(t)})),n.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:s(t),n.prototype.remove.call(this,t,e)},e.clear=function(){return n.prototype.clear.call(this)},e.search=function(t){var e=n.prototype.search.call(this,this.toBBox(t));return u(e)},e.collides=function(t){return n.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=n.prototype.all.call(this);return u(t)},e.toJSON=function(){return n.prototype.toJSON.call(this)},e.fromJSON=function(t){return n.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=s(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=s(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}t.exports=c,t.exports.default=c},1895:t=>{t.exports=function(t,e,r,n){var i=t[0],o=t[1],s=!1;void 0===r&&(r=0),void 0===n&&(n=e.length);for(var a=(n-r)/2,u=0,c=a-1;u<a;c=u++){var f=e[r+2*u+0],l=e[r+2*u+1],h=e[r+2*c+0],p=e[r+2*c+1];l>o!=p>o&&i<(h-f)*(o-l)/(p-l)+f&&(s=!s)}return s}},6960:(t,e,r)=>{var n=r(1895),i=r(8139);t.exports=function(t,e,r,o){return e.length>0&&Array.isArray(e[0])?i(t,e,r,o):n(t,e,r,o)},t.exports.nested=i,t.exports.flat=n},8139:t=>{t.exports=function(t,e,r,n){var i=t[0],o=t[1],s=!1;void 0===r&&(r=0),void 0===n&&(n=e.length);for(var a=n-r,u=0,c=a-1;u<a;c=u++){var f=e[u+r][0],l=e[u+r][1],h=e[c+r][0],p=e[c+r][1];l>o!=p>o&&i<(h-f)*(o-l)/(p-l)+f&&(s=!s)}return s}},2676:function(t){t.exports=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}var n=function(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null};function i(t,e){return t>e?1:t<e?-1:0}function o(t,e,r){for(var i=new n(null,null),o=i,s=i;;){var a=r(t,e.key);if(a<0){if(null===e.left)break;if(r(t,e.left.key)<0){var u=e.left;if(e.left=u.right,u.right=e,null===(e=u).left)break}s.left=e,s=e,e=e.left}else{if(!(a>0))break;if(null===e.right)break;if(r(t,e.right.key)>0&&(u=e.right,e.right=u.left,u.left=e,null===(e=u).right))break;o.right=e,o=e,e=e.right}}return o.right=e.left,s.left=e.right,e.left=i.right,e.right=i.left,e}function s(t,e,r,i){var s=new n(t,e);if(null===r)return s.left=s.right=null,s;var a=i(t,(r=o(t,r,i)).key);return a<0?(s.left=r.left,s.right=r,r.left=null):a>=0&&(s.right=r.right,s.left=r,r.right=null),s}function a(t,e,r){var n=null,i=null;if(e){var s=r((e=o(t,e,r)).key,t);0===s?(n=e.left,i=e.right):s<0?(i=e.right,e.right=null,n=e):(n=e.left,e.left=null,i=e)}return{left:n,right:i}}function u(t,e,r,n,i){if(t){n(e+(r?"└── ":"├── ")+i(t)+"\n");var o=e+(r?"    ":"│   ");t.left&&u(t.left,o,!1,n,i),t.right&&u(t.right,o,!0,n,i)}}var c=function(){function t(t){void 0===t&&(t=i),this._root=null,this._size=0,this._comparator=t}return t.prototype.insert=function(t,e){return this._size++,this._root=s(t,e,this._root,this._comparator)},t.prototype.add=function(t,e){var r=new n(t,e);null===this._root&&(r.left=r.right=null,this._size++,this._root=r);var i=this._comparator,s=o(t,this._root,i),a=i(t,s.key);return 0===a?this._root=s:(a<0?(r.left=s.left,r.right=s,s.left=null):a>0&&(r.right=s.right,r.left=s,s.right=null),this._size++,this._root=r),this._root},t.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},t.prototype._remove=function(t,e,r){var n;return null===e?null:0===r(t,(e=o(t,e,r)).key)?(null===e.left?n=e.right:(n=o(t,e.left,r)).right=e.right,this._size--,n):e},t.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=o(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},t.prototype.findStatic=function(t){for(var e=this._root,r=this._comparator;e;){var n=r(t,e.key);if(0===n)return e;e=n<0?e.left:e.right}return null},t.prototype.find=function(t){return this._root&&(this._root=o(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},t.prototype.contains=function(t){for(var e=this._root,r=this._comparator;e;){var n=r(t,e.key);if(0===n)return!0;e=n<0?e.left:e.right}return!1},t.prototype.forEach=function(t,e){for(var r=this._root,n=[],i=!1;!i;)null!==r?(n.push(r),r=r.left):0!==n.length?(r=n.pop(),t.call(e,r),r=r.right):i=!0;return this},t.prototype.range=function(t,e,r,n){for(var i=[],o=this._comparator,s=this._root;0!==i.length||s;)if(s)i.push(s),s=s.left;else{if(o((s=i.pop()).key,e)>0)break;if(o(s.key,t)>=0&&r.call(n,s))return this;s=s.right}return this},t.prototype.keys=function(){var t=[];return this.forEach((function(e){var r=e.key;return t.push(r)})),t},t.prototype.values=function(){var t=[];return this.forEach((function(e){var r=e.data;return t.push(r)})),t},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},t.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},t.prototype.at=function(t){for(var e=this._root,r=!1,n=0,i=[];!r;)if(e)i.push(e),e=e.left;else if(i.length>0){if(e=i.pop(),n===t)return e;n++,e=e.right}else r=!0;return null},t.prototype.next=function(t){var e=this._root,r=null;if(t.right){for(r=t.right;r.left;)r=r.left;return r}for(var n=this._comparator;e;){var i=n(t.key,e.key);if(0===i)break;i<0?(r=e,e=e.left):e=e.right}return r},t.prototype.prev=function(t){var e=this._root,r=null;if(null!==t.left){for(r=t.left;r.right;)r=r.right;return r}for(var n=this._comparator;e;){var i=n(t.key,e.key);if(0===i)break;i<0?e=e.left:(r=e,e=e.right)}return r},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return function(t){for(var e=t,r=[],i=!1,o=new n(null,null),s=o;!i;)e?(r.push(e),e=e.left):r.length>0?e=(e=s=s.next=r.pop()).right:i=!0;return s.next=null,o.next}(this._root)},t.prototype.load=function(t,e,r){void 0===e&&(e=[]),void 0===r&&(r=!1);var i=t.length,o=this._comparator;if(r&&h(t,e,0,i-1,o),null===this._root)this._root=f(t,e,0,i),this._size=i;else{var s=function(t,e,r){for(var i=new n(null,null),o=i,s=t,a=e;null!==s&&null!==a;)r(s.key,a.key)<0?(o.next=s,s=s.next):(o.next=a,a=a.next),o=o.next;return null!==s?o.next=s:null!==a&&(o.next=a),i.next}(this.toList(),function(t,e){for(var r=new n(null,null),i=r,o=0;o<t.length;o++)i=i.next=new n(t[o],e[o]);return i.next=null,r.next}(t,e),o);i=this._size+i,this._root=l({head:s},0,i)}return this},t.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var e=[];return u(this._root,"",!0,(function(t){return e.push(t)}),t),e.join("")},t.prototype.update=function(t,e,r){var n=this._comparator,i=a(t,this._root,n),u=i.left,c=i.right;n(t,e)<0?c=s(e,r,c,n):u=s(e,r,u,n),this._root=function(t,e,r){return null===e?t:(null===t||((e=o(t.key,e,r)).left=t),e)}(u,c,n)},t.prototype.split=function(t){return a(t,this._root,this._comparator)},t}();function f(t,e,r,i){var o=i-r;if(o>0){var s=r+Math.floor(o/2),a=t[s],u=e[s],c=new n(a,u);return c.left=f(t,e,r,s),c.right=f(t,e,s+1,i),c}return null}function l(t,e,r){var n=r-e;if(n>0){var i=e+Math.floor(n/2),o=l(t,e,i),s=t.head;return s.left=o,t.head=t.head.next,s.right=l(t,i+1,r),s}return null}function h(t,e,r,n,i){if(!(r>=n)){for(var o=t[r+n>>1],s=r-1,a=n+1;;){do{s++}while(i(t[s],o)<0);do{a--}while(i(t[a],o)>0);if(s>=a)break;var u=t[s];t[s]=t[a],t[a]=u,u=e[s],e[s]=e[a],e[a]=u}h(t,e,r,a,i),h(t,e,a+1,n,i)}}var p=function(t,e){return t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y},v=function(t,e){if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;var r=t.ll.x<e.ll.x?e.ll.x:t.ll.x,n=t.ur.x<e.ur.x?t.ur.x:e.ur.x;return{ll:{x:r,y:t.ll.y<e.ll.y?e.ll.y:t.ll.y},ur:{x:n,y:t.ur.y<e.ur.y?t.ur.y:e.ur.y}}},d=Number.EPSILON;void 0===d&&(d=Math.pow(2,-52));var g=d*d,y=function(t,e){if(-d<t&&t<d&&-d<e&&e<d)return 0;var r=t-e;return r*r<g*t*e?0:t<e?-1:1},m=function(){function e(){t(this,e),this.reset()}return r(e,[{key:"reset",value:function(){this.xRounder=new x,this.yRounder=new x}},{key:"round",value:function(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}]),e}(),x=function(){function e(){t(this,e),this.tree=new c,this.round(0)}return r(e,[{key:"round",value:function(t){var e=this.tree.add(t),r=this.tree.prev(e);if(null!==r&&0===y(e.key,r.key))return this.tree.remove(t),r.key;var n=this.tree.next(e);return null!==n&&0===y(e.key,n.key)?(this.tree.remove(t),n.key):t}}]),e}(),b=new m,w=function(t,e){return t.x*e.y-t.y*e.x},_=function(t,e){return t.x*e.x+t.y*e.y},S=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},i={x:r.x-t.x,y:r.y-t.y},o=w(n,i);return y(o,0)},E=function(t){return Math.sqrt(_(t,t))},k=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},i={x:r.x-t.x,y:r.y-t.y};return _(i,n)/E(i)/E(n)},M=function(t,e,r){return 0===e.y?null:{x:t.x+e.x/e.y*(r-t.y),y:r}},A=function(t,e,r){return 0===e.x?null:{x:r,y:t.y+e.y/e.x*(r-t.x)}},P=function(){function e(r,n){t(this,e),void 0===r.events?r.events=[this]:r.events.push(this),this.point=r,this.isLeft=n}return r(e,null,[{key:"compare",value:function(t,r){var n=e.comparePoints(t.point,r.point);return 0!==n?n:(t.point!==r.point&&t.link(r),t.isLeft!==r.isLeft?t.isLeft?1:-1:O.compare(t.segment,r.segment))}},{key:"comparePoints",value:function(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}}]),r(e,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var e=t.point.events,r=0,n=e.length;r<n;r++){var i=e[r];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,e=0;e<t;e++){var r=this.point.events[e];if(void 0===r.segment.consumedBy)for(var n=e+1;n<t;n++){var i=this.point.events[n];void 0===i.consumedBy&&r.otherSE.point.events===i.otherSE.point.events&&r.segment.consume(i.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],e=0,r=this.point.events.length;e<r;e++){var n=this.point.events[e];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&t.push(n)}return t}},{key:"getLeftmostComparator",value:function(t){var e=this,r=new Map,n=function(n){var i,o,s,a,u,c=n.otherSE;r.set(n,{sine:(i=e.point,o=t.point,s=c.point,a={x:o.x-i.x,y:o.y-i.y},u={x:s.x-i.x,y:s.y-i.y},w(u,a)/E(u)/E(a)),cosine:k(e.point,t.point,c.point)})};return function(t,e){r.has(t)||n(t),r.has(e)||n(e);var i=r.get(t),o=i.sine,s=i.cosine,a=r.get(e),u=a.sine,c=a.cosine;return o>=0&&u>=0?s<c?1:s>c?-1:0:o<0&&u<0?s<c?-1:s>c?1:0:u<o?-1:u>o?1:0}}}]),e}(),T=0,O=function(){function e(r,n,i,o){t(this,e),this.id=++T,this.leftSE=r,r.segment=this,r.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=r,this.rings=i,this.windings=o}return r(e,null,[{key:"compare",value:function(t,e){var r=t.leftSE.point.x,n=e.leftSE.point.x,i=t.rightSE.point.x,o=e.rightSE.point.x;if(o<r)return 1;if(i<n)return-1;var s=t.leftSE.point.y,a=e.leftSE.point.y,u=t.rightSE.point.y,c=e.rightSE.point.y;if(r<n){if(a<s&&a<u)return 1;if(a>s&&a>u)return-1;var f=t.comparePoint(e.leftSE.point);if(f<0)return 1;if(f>0)return-1;var l=e.comparePoint(t.rightSE.point);return 0!==l?l:-1}if(r>n){if(s<a&&s<c)return-1;if(s>a&&s>c)return 1;var h=e.comparePoint(t.leftSE.point);if(0!==h)return h;var p=t.comparePoint(e.rightSE.point);return p<0?1:p>0?-1:1}if(s<a)return-1;if(s>a)return 1;if(i<o){var v=e.comparePoint(t.rightSE.point);if(0!==v)return v}if(i>o){var d=t.comparePoint(e.rightSE.point);if(d<0)return 1;if(d>0)return-1}if(i!==o){var g=u-s,y=i-r,m=c-a,x=o-n;if(g>y&&m<x)return 1;if(g<y&&m>x)return-1}return i>o?1:i<o||u<c?-1:u>c?1:t.id<e.id?-1:t.id>e.id?1:0}}]),r(e,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var e=this.leftSE.point,r=this.rightSE.point,n=this.vector();if(e.x===r.x)return t.x===e.x?0:t.x<e.x?1:-1;var i=(t.y-e.y)/n.y,o=e.x+i*n.x;if(t.x===o)return 0;var s=(t.x-e.x)/n.x,a=e.y+s*n.y;return t.y===a?0:t.y<a?-1:1}},{key:"getIntersection",value:function(t){var e=this.bbox(),r=t.bbox(),n=v(e,r);if(null===n)return null;var i=this.leftSE.point,o=this.rightSE.point,s=t.leftSE.point,a=t.rightSE.point,u=p(e,s)&&0===this.comparePoint(s),c=p(r,i)&&0===t.comparePoint(i),f=p(e,a)&&0===this.comparePoint(a),l=p(r,o)&&0===t.comparePoint(o);if(c&&u)return l&&!f?o:!l&&f?a:null;if(c)return f&&i.x===a.x&&i.y===a.y?null:i;if(u)return l&&o.x===s.x&&o.y===s.y?null:s;if(l&&f)return null;if(l)return o;if(f)return a;var h=function(t,e,r,n){if(0===e.x)return A(r,n,t.x);if(0===n.x)return A(t,e,r.x);if(0===e.y)return M(r,n,t.y);if(0===n.y)return M(t,e,r.y);var i=w(e,n);if(0==i)return null;var o={x:r.x-t.x,y:r.y-t.y},s=w(o,e)/i,a=w(o,n)/i;return{x:(t.x+a*e.x+(r.x+s*n.x))/2,y:(t.y+a*e.y+(r.y+s*n.y))/2}}(i,this.vector(),s,t.vector());return null===h?null:p(n,h)?b.round(h.x,h.y):null}},{key:"split",value:function(t){var r=[],n=void 0!==t.events,i=new P(t,!0),o=new P(t,!1),s=this.rightSE;this.replaceRightSE(o),r.push(o),r.push(i);var a=new e(i,s,this.rings.slice(),this.windings.slice());return P.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),P.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(i.checkForConsuming(),o.checkForConsuming()),r}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var e=0,r=this.windings.length;e<r;e++)this.windings[e]*=-1}},{key:"consume",value:function(t){for(var r=this,n=t;r.consumedBy;)r=r.consumedBy;for(;n.consumedBy;)n=n.consumedBy;var i=e.compare(r,n);if(0!==i){if(i>0){var o=r;r=n,n=o}if(r.prev===n){var s=r;r=n,n=s}for(var a=0,u=n.rings.length;a<u;a++){var c=n.rings[a],f=n.windings[a],l=r.rings.indexOf(c);-1===l?(r.rings.push(c),r.windings.push(f)):r.windings[l]+=f}n.rings=null,n.windings=null,n.consumedBy=r,n.leftSE.consumedBy=r.leftSE,n.rightSE.consumedBy=r.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var e=this._afterState.rings,r=this._afterState.windings,n=this._afterState.multiPolys,i=0,o=this.rings.length;i<o;i++){var s=this.rings[i],a=this.windings[i],u=e.indexOf(s);-1===u?(e.push(s),r.push(a)):r[u]+=a}for(var c=[],f=[],l=0,h=e.length;l<h;l++)if(0!==r[l]){var p=e[l],v=p.poly;if(-1===f.indexOf(v))if(p.isExterior)c.push(v);else{-1===f.indexOf(v)&&f.push(v);var d=c.indexOf(p.poly);-1!==d&&c.splice(d,1)}}for(var g=0,y=c.length;g<y;g++){var m=c[g].multiPoly;-1===n.indexOf(m)&&n.push(m)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(C.type){case"union":var r=0===t.length,n=0===e.length;this._isInResult=r!==n;break;case"intersection":var i,o;t.length<e.length?(i=t.length,o=e.length):(i=e.length,o=t.length),this._isInResult=o===C.numMultiPolys&&i<o;break;case"xor":var s=Math.abs(t.length-e.length);this._isInResult=s%2==1;break;case"difference":var a=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=a(t)!==a(e);break;default:throw new Error("Unrecognized operation type found ".concat(C.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,r,n){var i,o,s,a=P.comparePoints(t,r);if(a<0)i=t,o=r,s=1;else{if(!(a>0))throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));i=r,o=t,s=-1}return new e(new P(i,!0),new P(o,!1),[n],[s])}}]),e}(),I=function(){function e(r,n,i){if(t(this,e),!Array.isArray(r)||0===r.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=i,this.segments=[],"number"!=typeof r[0][0]||"number"!=typeof r[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var o=b.round(r[0][0],r[0][1]);this.bbox={ll:{x:o.x,y:o.y},ur:{x:o.x,y:o.y}};for(var s=o,a=1,u=r.length;a<u;a++){if("number"!=typeof r[a][0]||"number"!=typeof r[a][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var c=b.round(r[a][0],r[a][1]);c.x===s.x&&c.y===s.y||(this.segments.push(O.fromRing(s,c,this)),c.x<this.bbox.ll.x&&(this.bbox.ll.x=c.x),c.y<this.bbox.ll.y&&(this.bbox.ll.y=c.y),c.x>this.bbox.ur.x&&(this.bbox.ur.x=c.x),c.y>this.bbox.ur.y&&(this.bbox.ur.y=c.y),s=c)}o.x===s.x&&o.y===s.y||this.segments.push(O.fromRing(s,o,this))}return r(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,r=this.segments.length;e<r;e++){var n=this.segments[e];t.push(n.leftSE),t.push(n.rightSE)}return t}}]),e}(),R=function(){function e(r,n){if(t(this,e),!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new I(r[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var i=1,o=r.length;i<o;i++){var s=new I(r[i],this,!1);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.interiorRings.push(s)}this.multiPoly=n}return r(e,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),e=0,r=this.interiorRings.length;e<r;e++)for(var n=this.interiorRings[e].getSweepEvents(),i=0,o=n.length;i<o;i++)t.push(n[i]);return t}}]),e}(),j=function(){function e(r,n){if(t(this,e),!Array.isArray(r))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof r[0][0][0]&&(r=[r])}catch(t){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var i=0,o=r.length;i<o;i++){var s=new R(r[i],this);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.polys.push(s)}this.isSubject=n}return r(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,r=this.polys.length;e<r;e++)for(var n=this.polys[e].getSweepEvents(),i=0,o=n.length;i<o;i++)t.push(n[i]);return t}}]),e}(),B=function(){function e(r){t(this,e),this.events=r;for(var n=0,i=r.length;n<i;n++)r[n].segment.ringOut=this;this.poly=null}return r(e,null,[{key:"factory",value:function(t){for(var r=[],n=0,i=t.length;n<i;n++){var o=t[n];if(o.isInResult()&&!o.ringOut){for(var s=null,a=o.leftSE,u=o.rightSE,c=[a],f=a.point,l=[];s=a,a=u,c.push(a),a.point!==f;)for(;;){var h=a.getAvailableLinkedEvents();if(0===h.length){var p=c[0].point,v=c[c.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(p.x,",")+" ".concat(p.y,"]. Last matching segment found ends at")+" [".concat(v.x,", ").concat(v.y,"]."))}if(1===h.length){u=h[0].otherSE;break}for(var d=null,g=0,y=l.length;g<y;g++)if(l[g].point===a.point){d=g;break}if(null===d){l.push({index:c.length,point:a.point});var m=a.getLeftmostComparator(s);u=h.sort(m)[0].otherSE;break}var x=l.splice(d)[0],b=c.splice(x.index);b.unshift(b[0].otherSE),r.push(new e(b.reverse()))}r.push(new e(c))}}return r}}]),r(e,[{key:"getGeom",value:function(){for(var t=this.events[0].point,e=[t],r=1,n=this.events.length-1;r<n;r++){var i=this.events[r].point,o=this.events[r+1].point;0!==S(i,t,o)&&(e.push(i),t=i)}if(1===e.length)return null;var s=e[0],a=e[1];0===S(s,t,a)&&e.shift(),e.push(e[0]);for(var u=this.isExteriorRing()?1:-1,c=this.isExteriorRing()?0:e.length-1,f=this.isExteriorRing()?e.length:-1,l=[],h=c;h!=f;h+=u)l.push([e[h].x,e[h].y]);return l}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],e=1,r=this.events.length;e<r;e++){var n=this.events[e];P.compare(t,n)>0&&(t=n)}for(var i=t.segment.prevInResult(),o=i?i.prevInResult():null;;){if(!i)return null;if(!o)return i.ringOut;if(o.ringOut!==i.ringOut)return o.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=o.prevInResult(),o=i?i.prevInResult():null}}}]),e}(),L=function(){function e(r){t(this,e),this.exteriorRing=r,r.poly=this,this.interiorRings=[]}return r(e,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var e=0,r=this.interiorRings.length;e<r;e++){var n=this.interiorRings[e].getGeom();null!==n&&t.push(n)}return t}}]),e}(),Y=function(){function e(r){t(this,e),this.rings=r,this.polys=this._composePolys(r)}return r(e,[{key:"getGeom",value:function(){for(var t=[],e=0,r=this.polys.length;e<r;e++){var n=this.polys[e].getGeom();null!==n&&t.push(n)}return t}},{key:"_composePolys",value:function(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(!i.poly)if(i.isExteriorRing())e.push(new L(i));else{var o=i.enclosingRing();o.poly||e.push(new L(o)),o.poly.addInterior(i)}}return e}}]),e}(),N=function(){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.compare;t(this,e),this.queue=r,this.tree=new c(n),this.segments=[]}return r(e,[{key:"process",value:function(t){var e=t.segment,r=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),r;var n=t.isLeft?this.tree.insert(e):this.tree.find(e);if(!n)throw new Error("Unable to find segment #".concat(e.id," ")+"[".concat(e.leftSE.point.x,", ").concat(e.leftSE.point.y,"] -> ")+"[".concat(e.rightSE.point.x,", ").concat(e.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var i=n,o=n,s=void 0,a=void 0;void 0===s;)null===(i=this.tree.prev(i))?s=null:void 0===i.key.consumedBy&&(s=i.key);for(;void 0===a;)null===(o=this.tree.next(o))?a=null:void 0===o.key.consumedBy&&(a=o.key);if(t.isLeft){var u=null;if(s){var c=s.getIntersection(e);if(null!==c&&(e.isAnEndpoint(c)||(u=c),!s.isAnEndpoint(c)))for(var f=this._splitSafely(s,c),l=0,h=f.length;l<h;l++)r.push(f[l])}var p=null;if(a){var v=a.getIntersection(e);if(null!==v&&(e.isAnEndpoint(v)||(p=v),!a.isAnEndpoint(v)))for(var d=this._splitSafely(a,v),g=0,y=d.length;g<y;g++)r.push(d[g])}if(null!==u||null!==p){var m;m=null===u?p:null===p||P.comparePoints(u,p)<=0?u:p,this.queue.remove(e.rightSE),r.push(e.rightSE);for(var x=e.split(m),b=0,w=x.length;b<w;b++)r.push(x[b])}r.length>0?(this.tree.remove(e),r.push(t)):(this.segments.push(e),e.prev=s)}else{if(s&&a){var _=s.getIntersection(a);if(null!==_){if(!s.isAnEndpoint(_))for(var S=this._splitSafely(s,_),E=0,k=S.length;E<k;E++)r.push(S[E]);if(!a.isAnEndpoint(_))for(var M=this._splitSafely(a,_),A=0,T=M.length;A<T;A++)r.push(M[A])}}this.tree.remove(e)}return r}},{key:"_splitSafely",value:function(t,e){this.tree.remove(t);var r=t.rightSE;this.queue.remove(r);var n=t.split(e);return n.push(r),void 0===t.consumedBy&&this.tree.insert(t),n}}]),e}(),F="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,X="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,C=new(function(){function e(){t(this,e)}return r(e,[{key:"run",value:function(t,e,r){C.type=t,b.reset();for(var n=[new j(e,!0)],i=0,o=r.length;i<o;i++)n.push(new j(r[i],!1));if(C.numMultiPolys=n.length,"difference"===C.type)for(var s=n[0],a=1;a<n.length;)null!==v(n[a].bbox,s.bbox)?a++:n.splice(a,1);if("intersection"===C.type)for(var u=0,f=n.length;u<f;u++)for(var l=n[u],h=u+1,p=n.length;h<p;h++)if(null===v(l.bbox,n[h].bbox))return[];for(var d=new c(P.compare),g=0,y=n.length;g<y;g++)for(var m=n[g].getSweepEvents(),x=0,w=m.length;x<w;x++)if(d.insert(m[x]),d.size>F)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var _=new N(d),S=d.size,E=d.pop();E;){var k=E.key;if(d.size===S){var M=k.segment;throw new Error("Unable to pop() ".concat(k.isLeft?"left":"right"," SweepEvent ")+"[".concat(k.point.x,", ").concat(k.point.y,"] from segment #").concat(M.id," ")+"[".concat(M.leftSE.point.x,", ").concat(M.leftSE.point.y,"] -> ")+"[".concat(M.rightSE.point.x,", ").concat(M.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(d.size>F)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(_.segments.length>X)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var A=_.process(k),T=0,O=A.length;T<O;T++){var I=A[T];void 0===I.consumedBy&&d.insert(I)}S=d.size,E=d.pop()}b.reset();var R=B.factory(_.segments);return new Y(R).getGeom()}}]),e}());return{union:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return C.run("union",t,r)},intersection:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return C.run("intersection",t,r)},xor:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return C.run("xor",t,r)},difference:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return C.run("difference",t,r)}}}()},8166:function(t){t.exports=function(){"use strict";function t(r,n,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,u=n-i+1,c=Math.log(a),f=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*f*(a-f)/a)*(u-a/2<0?-1:1);t(r,n,Math.max(i,Math.floor(n-u*f/a+l)),Math.min(o,Math.floor(n+(a-u)*f/a+l)),s)}var h=r[n],p=i,v=o;for(e(r,i,n),s(r[o],h)>0&&e(r,i,o);p<v;){for(e(r,p,v),p++,v--;s(r[p],h)<0;)p++;for(;s(r[v],h)>0;)v--}0===s(r[i],h)?e(r,i,v):e(r,++v,o),v<=n&&(i=v+1),n<=v&&(o=v-1)}}function e(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function r(t,e){return t<e?-1:t>e?1:0}return function(e,n,i,o,s){t(e,n,i||0,o||e.length-1,s||r)}}()},5510:(t,e,r)=>{"use strict";t.exports=i,t.exports.default=i;var n=r(8166);function i(t,e){if(!(this instanceof i))return new i(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,r){if(!r)return e.indexOf(t);for(var n=0;n<e.length;n++)if(r(t,e[n]))return n;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,r,n,i){i||(i=d(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<r;s++)o=t.children[s],u(i,t.leaf?n(o):o);return i}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function f(t,e){return t.minY-e.minY}function l(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function v(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,e,r,i,o){for(var s,a=[e,r];a.length;)(r=a.pop())-(e=a.pop())<=i||(s=e+Math.ceil((r-e)/i/2)*i,n(t,s,e,r,o),a.push(e,s,s,r))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,r=[],n=this.toBBox;if(!v(t,e))return r;for(var i,o,s,a,u=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],v(t,a=e.leaf?n(s):s)&&(e.leaf?r.push(s):p(t,a)?this._all(s,r):u.push(s));e=u.pop()}return r},collides:function(t){var e=this.data,r=this.toBBox;if(!v(t,e))return!1;for(var n,i,o,s,a=[];e;){for(n=0,i=e.children.length;n<i;n++)if(o=e.children[n],v(t,s=e.leaf?r(o):o)){if(e.leaf||p(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,r=t.length;e<r;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=d([]),this},remove:function(t,e){if(!t)return this;for(var r,n,i,s,a=this.data,u=this.toBBox(t),c=[],f=[];a||c.length;){if(a||(a=c.pop(),n=c[c.length-1],r=f.pop(),s=!0),a.leaf&&-1!==(i=o(t,a.children,e)))return a.children.splice(i,1),c.push(a),this._condense(c),this;s||a.leaf||!p(a,u)?n?(r++,a=n.children[r],s=!1):a=null:(c.push(a),f.push(r),r=0,n=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:c,compareMinY:f,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},_build:function(t,e,r,n){var i,o=r-e+1,a=this._maxEntries;if(o<=a)return s(i=d(t.slice(e,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,n-1))),(i=d([])).leaf=!1,i.height=n;var u,c,f,l,h=Math.ceil(o/a),p=h*Math.ceil(Math.sqrt(a));for(g(t,e,r,p,this.compareMinX),u=e;u<=r;u+=p)for(g(t,u,f=Math.min(u+p-1,r),h,this.compareMinY),c=u;c<=f;c+=h)l=Math.min(c+h-1,f),i.children.push(this._build(t,c,l,n-1));return s(i,this.toBBox),i},_chooseSubtree:function(t,e,r,n){for(var i,o,s,a,u,c,f,h,p,v;n.push(e),!e.leaf&&n.length-1!==r;){for(f=h=1/0,i=0,o=e.children.length;i<o;i++)u=l(s=e.children[i]),p=t,v=s,(c=(Math.max(v.maxX,p.maxX)-Math.min(v.minX,p.minX))*(Math.max(v.maxY,p.maxY)-Math.min(v.minY,p.minY))-u)<h?(h=c,f=u<f?u:f,a=s):c===h&&u<f&&(f=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,r){var n=this.toBBox,i=r?t:n(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),u(s,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var r=t[e],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var o=this._chooseSplitIndex(r,i,n),a=d(r.children.splice(o,r.children.length-o));a.height=r.height,a.leaf=r.leaf,s(r,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(r,a)},_splitRoot:function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,r){var n,i,o,s,u,c,f,h,p,v,d,g,y,m;for(c=f=1/0,n=e;n<=r-e;n++)p=i=a(t,0,n,this.toBBox),v=o=a(t,n,r,this.toBBox),void 0,void 0,void 0,void 0,d=Math.max(p.minX,v.minX),g=Math.max(p.minY,v.minY),y=Math.min(p.maxX,v.maxX),m=Math.min(p.maxY,v.maxY),s=Math.max(0,y-d)*Math.max(0,m-g),u=l(i)+l(o),s<c?(c=s,h=n,f=u<f?u:f):s===c&&u<f&&(f=u,h=n);return h},_chooseSplitAxis:function(t,e,r){var n=t.leaf?this.compareMinX:c,i=t.leaf?this.compareMinY:f;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,i)&&t.children.sort(n)},_allDistMargin:function(t,e,r,n){t.children.sort(n);var i,o,s=this.toBBox,c=a(t,0,e,s),f=a(t,r-e,r,s),l=h(c)+h(f);for(i=e;i<r-e;i++)o=t.children[i],u(c,t.leaf?s(o):o),l+=h(c);for(i=r-e-1;i>=e;i--)o=t.children[i],u(f,t.leaf?s(o):o),l+=h(f);return l},_adjustParentBBoxes:function(t,e,r){for(var n=r;n>=0;n--)u(e[n],t)},_condense:function(t){for(var e,r=t.length-1;r>=0;r--)0===t[r].children.length?r>0?(e=t[r-1].children).splice(e.indexOf(t[r]),1):this.clear():s(t[r],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},8639:function(t,e){!function(t){"use strict";const e=134217729;function r(t,e,r,n,i){let o,s,a,u,c=e[0],f=n[0],l=0,h=0;f>c==f>-c?(o=c,c=e[++l]):(o=f,f=n[++h]);let p=0;if(l<t&&h<r)for(f>c==f>-c?(a=o-((s=c+o)-c),c=e[++l]):(a=o-((s=f+o)-f),f=n[++h]),o=s,0!==a&&(i[p++]=a);l<t&&h<r;)f>c==f>-c?(a=o-((s=o+c)-(u=s-o))+(c-u),c=e[++l]):(a=o-((s=o+f)-(u=s-o))+(f-u),f=n[++h]),o=s,0!==a&&(i[p++]=a);for(;l<t;)a=o-((s=o+c)-(u=s-o))+(c-u),c=e[++l],o=s,0!==a&&(i[p++]=a);for(;h<r;)a=o-((s=o+f)-(u=s-o))+(f-u),f=n[++h],o=s,0!==a&&(i[p++]=a);return 0===o&&0!==p||(i[p++]=o),p}function n(t){return new Float64Array(t)}const i=n(4),o=n(8),s=n(12),a=n(16),u=n(4);t.orient2d=function(t,n,c,f,l,h){const p=(n-h)*(c-l),v=(t-l)*(f-h),d=p-v;if(0===p||0===v||p>0!=v>0)return d;const g=Math.abs(p+v);return Math.abs(d)>=33306690738754716e-32*g?d:-function(t,n,c,f,l,h,p){let v,d,g,y,m,x,b,w,_,S,E,k,M,A,P,T,O,I;const R=t-l,j=c-l,B=n-h,L=f-h;m=(P=(w=R-(b=(x=e*R)-(x-R)))*(S=L-(_=(x=e*L)-(x-L)))-((A=R*L)-b*_-w*_-b*S))-(E=P-(O=(w=B-(b=(x=e*B)-(x-B)))*(S=j-(_=(x=e*j)-(x-j)))-((T=B*j)-b*_-w*_-b*S))),i[0]=P-(E+m)+(m-O),m=(M=A-((k=A+E)-(m=k-A))+(E-m))-(E=M-T),i[1]=M-(E+m)+(m-T),m=(I=k+E)-k,i[2]=k-(I-m)+(E-m),i[3]=I;let Y=function(t,e){let r=e[0];for(let t=1;t<4;t++)r+=e[t];return r}(0,i),N=22204460492503146e-32*p;if(Y>=N||-Y>=N)return Y;if(v=t-(R+(m=t-R))+(m-l),g=c-(j+(m=c-j))+(m-l),d=n-(B+(m=n-B))+(m-h),y=f-(L+(m=f-L))+(m-h),0===v&&0===d&&0===g&&0===y)return Y;if(N=11093356479670487e-47*p+33306690738754706e-32*Math.abs(Y),(Y+=R*y+L*v-(B*g+j*d))>=N||-Y>=N)return Y;m=(P=(w=v-(b=(x=e*v)-(x-v)))*(S=L-(_=(x=e*L)-(x-L)))-((A=v*L)-b*_-w*_-b*S))-(E=P-(O=(w=d-(b=(x=e*d)-(x-d)))*(S=j-(_=(x=e*j)-(x-j)))-((T=d*j)-b*_-w*_-b*S))),u[0]=P-(E+m)+(m-O),m=(M=A-((k=A+E)-(m=k-A))+(E-m))-(E=M-T),u[1]=M-(E+m)+(m-T),m=(I=k+E)-k,u[2]=k-(I-m)+(E-m),u[3]=I;const F=r(4,i,4,u,o);m=(P=(w=R-(b=(x=e*R)-(x-R)))*(S=y-(_=(x=e*y)-(x-y)))-((A=R*y)-b*_-w*_-b*S))-(E=P-(O=(w=B-(b=(x=e*B)-(x-B)))*(S=g-(_=(x=e*g)-(x-g)))-((T=B*g)-b*_-w*_-b*S))),u[0]=P-(E+m)+(m-O),m=(M=A-((k=A+E)-(m=k-A))+(E-m))-(E=M-T),u[1]=M-(E+m)+(m-T),m=(I=k+E)-k,u[2]=k-(I-m)+(E-m),u[3]=I;const X=r(F,o,4,u,s);m=(P=(w=v-(b=(x=e*v)-(x-v)))*(S=y-(_=(x=e*y)-(x-y)))-((A=v*y)-b*_-w*_-b*S))-(E=P-(O=(w=d-(b=(x=e*d)-(x-d)))*(S=g-(_=(x=e*g)-(x-g)))-((T=d*g)-b*_-w*_-b*S))),u[0]=P-(E+m)+(m-O),m=(M=A-((k=A+E)-(m=k-A))+(E-m))-(E=M-T),u[1]=M-(E+m)+(m-T),m=(I=k+E)-k,u[2]=k-(I-m)+(E-m),u[3]=I;const C=r(X,s,4,u,a);return a[C-1]}(t,n,c,f,l,h,g)},t.orient2dfast=function(t,e,r,n,i,o){return(e-o)*(r-i)-(t-i)*(n-o)},Object.defineProperty(t,"__esModule",{value:!0})}(e)},3842:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});class n{constructor(t=[],e=i){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let t=(this.length>>1)-1;t>=0;t--)this._down(t)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:r}=this,n=e[t];for(;t>0;){const i=t-1>>1,o=e[i];if(r(n,o)>=0)break;e[t]=o,t=i}e[t]=n}_down(t){const{data:e,compare:r}=this,n=this.length>>1,i=e[t];for(;t<n;){let n=1+(t<<1),o=e[n];const s=n+1;if(s<this.length&&r(e[s],o)<0&&(n=s,o=e[s]),r(o,i)>=0)break;e[t]=o,t=n}e[t]=i}}function i(t,e){return t<e?-1:t>e?1:0}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";function t(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function e(e,r,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!u(e[0])||!u(e[1]))throw new Error("coordinates must contain numbers");return t({type:"Point",coordinates:e},r,n)}function i(e,r,n){void 0===n&&(n={});for(var i=0,o=e;i<o.length;i++){var s=o[i];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return t({type:"Polygon",coordinates:e},r,n)}function o(e,r,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return t({type:"LineString",coordinates:e},r,n)}function s(t,e){void 0===e&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function a(e,r,n){return void 0===n&&(n={}),t({type:"MultiPolygon",coordinates:e},r,n)}function u(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function c(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function f(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function l(t){return"Feature"===t.type?t.geometry:t}function h(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var n=c(t),i=l(e),o=i.type,s=e.bbox,a=i.coordinates;if(s&&!p(n,s))return!1;"Polygon"===o&&(a=[a]);for(var u=!1,f=0;f<a.length&&!u;f++){var h=v(n,a[f]);(0===h&&!r.ignoreBoundary||h)&&(u=!0)}return u}function p(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}function v(t,e){for(var r=0,n=0,i=0,o=0,s=0,a=0,u=0,c=0,f=null,l=null,h=t[0],p=t[1],v=e.length;r<v;r++){n=0;var d=e[r].length-1,g=e[r];for(s=(f=g[0])[0]-h,a=f[1]-p;n<d;n++)if(c=(l=g[n+1])[1]-p,a<0&&c<0||a>0&&c>0)a=c,s=(f=l)[0]-h;else{if(u=l[0]-t[0],c>0&&a<=0){if((o=s*c-u*a)>0)i+=1;else if(0===o)return 0}else if(a>0&&c<=0){if((o=s*c-u*a)<0)i+=1;else if(0===o)return 0}else if(0===c&&a<0){if(0==(o=s*c-u*a))return 0}else if(0===a&&c<0){if(0==(o=s*c-u*a))return 0}else if(0===a&&0===c){if(u<=0&&s>=0)return 0;if(s<=0&&u>=0)return 0}f=l,a=c,s=u}}return i%2!=0}function d(t,e,r){if(null!==t)for(var n,i,o,s,a,u,c,f,l=0,h=0,p=t.type,v="FeatureCollection"===p,g="Feature"===p,y=v?t.features.length:1,m=0;m<y;m++){a=(f=!!(c=v?t.features[m].geometry:g?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var x=0;x<a;x++){var b=0,w=0;if(null!==(s=f?c.geometries[x]:c)){u=s.coordinates;var _=s.type;switch(l=!r||"Polygon"!==_&&"MultiPolygon"!==_?0:1,_){case null:break;case"Point":if(!1===e(u,h,m,b,w))return!1;h++,b++;break;case"LineString":case"MultiPoint":for(n=0;n<u.length;n++){if(!1===e(u[n],h,m,b,w))return!1;h++,"MultiPoint"===_&&b++}"LineString"===_&&b++;break;case"Polygon":case"MultiLineString":for(n=0;n<u.length;n++){for(i=0;i<u[n].length-l;i++){if(!1===e(u[n][i],h,m,b,w))return!1;h++}"MultiLineString"===_&&b++,"Polygon"===_&&w++}"Polygon"===_&&b++;break;case"MultiPolygon":for(n=0;n<u.length;n++){for(w=0,i=0;i<u[n].length;i++){for(o=0;o<u[n][i].length-l;o++){if(!1===e(u[n][i][o],h,m,b,w))return!1;h++}w++}b++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===d(s.geometries[n],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function g(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var r=0;r<t.features.length&&!1!==e(t.features[r],r);r++);}function y(e,r){!function(t,e){var r,n,i,o,s,a,u,c,f,l,h=0,p="FeatureCollection"===t.type,v="Feature"===t.type,d=p?t.features.length:1;for(r=0;r<d;r++){for(a=p?t.features[r].geometry:v?t.geometry:t,c=p?t.features[r].properties:v?t.properties:{},f=p?t.features[r].bbox:v?t.bbox:void 0,l=p?t.features[r].id:v?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,h,c,f,l))return!1;break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(!1===e(o.geometries[n],h,c,f,l))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,h,c,f,l))return!1;h++}}(e,(function(e,n,i,o,s){var a,u=null===e?null:e.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==r(t(e,i,{bbox:o,id:s}),n,0)&&void 0}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var c=0;c<e.coordinates.length;c++){var f=e.coordinates[c];if(!1===r(t({type:a,coordinates:f},i),n,c))return!1}}))}r.r(n),r.d(n,{default:()=>ve}),r(1249),r(7941),r(4916),r(5306),r(1038),r(8783),r(6992),r(1539),r(8674),r(3948),r(3123),r(4723),r(2707),r(7327),r(9601),r(2222),r(9600);var m=r(2273);function x(t,e){void 0===e&&(e={}),e.concavity=e.concavity||1/0;var r=[];if(d(t,(function(t){r.push([t[0],t[1]])})),!r.length)return null;var n=m(r,e.concavity);return n.length>3?i([n]):null}var b=r(2676);const w=function(t){if(!t)throw new Error("geojson is required");var e=[];return y(t,(function(t){!function(t,e){var r=[],n=t.geometry;if(null!==n){switch(n.type){case"Polygon":r=f(n);break;case"LineString":r=[f(n)]}r.forEach((function(r){(function(t,e){var r=[];return t.reduce((function(t,n){var i,s,a,u,c,f,l=o([t,n],e);return l.bbox=(s=n,a=(i=t)[0],u=i[1],[a<(c=s[0])?a:c,u<(f=s[1])?u:f,a>c?a:c,u>f?u:f]),r.push(l),n})),r})(r,t.properties).forEach((function(t){t.id=e.length,e.push(t)}))}))}}(t,e)})),s(e)};var _=r(1787);function S(t,r){var n=f(t),i=f(r);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],s=n[0][1],a=n[1][0],u=n[1][1],c=i[0][0],l=i[0][1],h=i[1][0],p=i[1][1],v=(p-l)*(a-o)-(h-c)*(u-s);if(0===v)return null;var d=((h-c)*(s-l)-(p-l)*(o-c))/v,g=((a-o)*(s-l)-(u-s)*(o-c))/v;return d>=0&&d<=1&&g>=0&&g<=1?e([o+d*(a-o),s+d*(u-s)]):null}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function M(t,e,r){return e&&k(t.prototype,e),r&&k(t,r),t}function A(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(6495),r(2990),r(8927),r(3105),r(5035),r(4345),r(7174),r(2846),r(4731),r(7209),r(6319),r(8867),r(7789),r(3739),r(9368),r(4483),r(2056),r(3462),r(678),r(7462),r(3824),r(5021),r(2974),r(5016),r(9135),r(8264),r(9714),r(7042);var P=function(){function t(e){E(this,t),A(this,"_xx",void 0),A(this,"_yy",void 0),A(this,"_ii",void 0),A(this,"_nn",void 0),A(this,"_zz",void 0),A(this,"_zlimit",0),A(this,"_bb",void 0),A(this,"_allBounds",void 0),A(this,"_arcIter",void 0),A(this,"_filteredArcIter",void 0),A(this,"buf",void 0),this.initArcs(e)}return M(t,[{key:"initArcs",value:function(t){var e=[],r=[],n=t.map((function(t){for(var n=t?t.length:0,i=0;i<n;i++)e.push(t[i][0]),r.push(t[i][1]);return n}));this.initXYData(n,e,r)}},{key:"initXYData",value:function(t,e,r){var n=t.length;this._xx=new Float64Array(e),this._yy=new Float64Array(r),this._nn=new Uint32Array(t),this._zz=null,this._zlimit=0,this._filteredArcIter=null,this._ii=new Uint32Array(n);for(var i=0,o=0;o<n;o++)this._ii[o]=i,i+=t[o];i==this._xx.length&&this._xx.length==this._yy.length||T("ArcCollection#initXYData() Counting error"),this.initBounds(),this._arcIter=new V(this._xx,this._yy)}},{key:"initBounds",value:function(){var t=this.calcArcBounds_(this._xx,this._yy,this._nn);this._bb=t.bb,this._allBounds=t.bounds}},{key:"calcArcBounds_",value:function(t,e,r){for(var n,i,o,s=r.length,a=new Float64Array(4*s),u=new q,c=0,f=0;f<s;f++)(n=r[f])>0&&(i=4*f,o=W(t,e,c,n),a[i++]=o[0],a[i++]=o[1],a[i++]=o[2],a[i]=o[3],c+=n,u.mergeBounds(o));return{bb:a,bounds:u}}},{key:"getBounds",value:function(){return this._allBounds.clone()}},{key:"forEachSegment",value:function(t){for(var e=0,r=0,n=this.size();r<n;r++)e+=this.forEachArcSegment(r,t);return e}},{key:"size",value:function(){return this._ii&&this._ii.length||0}},{key:"forEachArcSegment",value:function(t,e){for(var r=t>=0,n=r?t:~t,i=this.getRetainedInterval(),o=this._nn[n],s=r?1:-1,a=r?this._ii[n]:this._ii[n]+o-1,u=a,c=0,f=1;f<o;f++)u+=s,(0===i||this._zz[u]>=i)&&(e(a,u,this._xx,this._yy),a=u,c++);return c}},{key:"getRetainedInterval",value:function(){return this._zlimit}},{key:"getVertexData",value:function(){return{xx:this._xx,yy:this._yy,zz:this._zz,bb:this._bb,nn:this._nn,ii:this._ii}}},{key:"getUint32Array",value:function(t){var e=4*t;return(!this.buf||this.buf.byteLength<e)&&(this.buf=new ArrayBuffer(e)),new Uint32Array(this.buf,0,t)}},{key:"getAvgSegment2",value:function(){var t=0,e=0,r=this.forEachSegment((function(r,n,i,o){t+=Math.abs(i[r]-i[n]),e+=Math.abs(o[r]-o[n])}));return[t/r||0,e/r||0]}},{key:"calcSegmentIntersectionStripeCount",value:function(){var t=this.getBounds().height(),e=this.getAvgSegment2()[1],r=1;return e>0&&t>0&&(r=Math.ceil(t/e/20)),r||1}},{key:"findSegmentIntersections",value:function(){var t,e,r=this.getBounds(),n=r.ymin,i=r.ymax-n,o=this.calcSegmentIntersectionStripeCount(),s=new Uint32Array(o),a=o>1?function(t){return Math.floor((o-1)*(t-n)/i)}:function(){return 0};this.forEachSegment((function(t,e,r,n){for(var i=a(n[t]),o=a(n[e]);s[i]=s[i]+2,i!=o;)i+=o>i?1:-1}));var u=this.getUint32Array(function(t,e){O(t)||T("utils.sum() expects an array, received:",t);for(var r,n=0,i=0,o=t.length;i<o;i++)(r=t[i])?n+=r:isNaN(r)&&0;return n}(s)),c=0,f=[];!function(t,e,r){if(!O(t))throw new Error("#forEach() takes an array-like argument. ".concat(t));for(var n=0,i=t.length;n<i;n++)e.call(undefined,t[n],n)}(s,(function(t){var e=c;c+=t,f.push(u.subarray(e,c))})),function(t,e){for(var r=0,n=t.length;r<n;r++)t[r]=0}(s),this.forEachSegment((function(t,e,r,n){for(var i,o,u=a(n[t]),c=a(n[e]);i=s[u],s[u]=i+2,(o=f[u])[i]=t,o[i+1]=e,u!=c;)u+=c>u?1:-1}));var l,h=this.getVertexData(),p=[];for(t=0;t<o;t++)for(l=I(f[t],h.xx,h.yy),e=0;e<l.length;e++)p.push(l[e]);return G(p)}}]),t}();function T(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=e.join(" ");throw new Error(n)}function O(t){return!!t&&(!!function(t){return Array.isArray(t)}(t)||!function(t){return null!=t&&t.toString===String.prototype.toString}(t)&&(0===t.length||t.length>0))}function I(t,e,r){var n,i,o,s,a,u,c,f,l,h,p,v,d,g,y,m,x,b,w,_,S,E,k,M,A,P,T=t.length-2,O=[];for(function(t,e){(function(t,e){for(var r=0,n=e.length;r<n;r+=2)t[e[r]]>t[e[r+1]]&&X(e,r,r+1)})(t,e),C(t,e,0,e.length-2)}(e,t),m=0;m<T;){for(n=t[m],i=t[m+1],a=e[n],u=e[i],l=r[n],h=r[i],x=m;x<T&&!(u<(c=e[o=t[x+=2]]));){if(p=r[o],f=e[s=t[x+1]],v=r[s],l>=p){if(l>v&&h>p&&h>v)continue}else if(l<v&&h<p&&h<v)continue;n!=o&&n!=s&&i!=o&&i!=s&&(P=void 0,P=null,function(t,e,r,n,i,o,s,a){return R(t,e,r,n,i,o)*R(t,e,r,n,s,a)<=0&&R(i,o,s,a,t,e)*R(i,o,s,a,r,n)<=0}(b=a,w=l,_=u,S=h,E=c,k=p,M=f,A=v)&&((P=function(t,e,r,n,i,o,s,a){var u,c=B(t,e,r,n,i,o,s,a);return c&&(1==(u=function(t,e){for(var r,n=-1,i=1/0,o=0,s=0,a=arguments.length<=2?0:arguments.length-2;s<a;o++,s+=2)(r=Y(t,e,s+2<2||arguments.length<=s+2?void 0:arguments[s+2],s+1+2<2||arguments.length<=s+1+2?void 0:arguments[s+1+2]))<i&&(i=r,n=o);return n}(c[0],c[1],t,e,r,n,i,o,s,a))?c=B(r,n,t,e,i,o,s,a):2==u?c=B(i,o,s,a,t,e,r,n):3==u&&(c=B(s,a,i,o,t,e,r,n))),c&&function(t,e,r,n,i,o,s,a,u){var c=t[0],f=t[1];c=N(c,e,n),c=N(c,o,a),f=N(f,r,i),f=N(f,s,u),t[0]=c,t[1]=f}(c,t,e,r,n,i,o,s,a),c}(b,w,_,S,E,k,M,A))?function(t,e,r,n,i,o,s,a){return t==i&&e==o||t==s&&e==a||r==i&&n==o||r==s&&n==a}(b,w,_,S,E,k,M,A)&&(P=null):P=function(t,e,r,n,i,o,s,a){var u=Math.min(t,r,i,s),c=Math.max(t,r,i,s),f=Math.min(e,n,o,a),l=Math.max(e,n,o,a),h=l-f>c-u,p=[];return(h?F(e,f,l):F(t,u,c))&&p.push(t,e),(h?F(n,f,l):F(r,u,c))&&p.push(r,n),(h?F(o,f,l):F(i,u,c))&&p.push(i,o),(h?F(a,f,l):F(s,u,c))&&p.push(s,a),(2!=p.length&&4!=p.length||4==p.length&&p[0]==p[2]&&p[1]==p[3])&&(p=null),p}(b,w,_,S,E,k,M,A)),d=P)&&(g=[n,i],y=[o,s],O.push(D(d,g,y,e,r)),4==d.length&&O.push(D(d.slice(2),g,y,e,r)))}m+=2}return O}function R(t,e,r,n,i,o){return j(t-i,e-o,r-i,n-o)}function j(t,e,r,n){return t*n-e*r}function B(t,e,r,n,i,o,s,a){var u=j(r-t,n-e,s-i,a-o);if(0===u)return null;var c=R(i,o,s,a,t,e)/u;return u<=1e-18&&u>=-1e-18?function(t,e,r,n,i,o,s,a){var u=null;return L(t,i,s)||L(e,o,a)?L(r,i,s)||L(n,o,a)?L(i,t,r)||L(o,e,n)?L(s,t,r)||L(a,e,n)||(u=[s,a]):u=[i,o]:u=[r,n]:u=[t,e],u}(t,e,r,n,i,o,s,a):[t+c*(r-t),e+c*(n-e)]}function L(t,e,r){return e<r?t<e||t>r:e>r?t>e||t<r:t!=e}function Y(t,e,r,n){var i=t-r,o=e-n;return i*i+o*o}function N(t,e,r){var n;return L(t,e,r)&&(n=Math.abs(t-e)<Math.abs(t-r)?e:r,Math.abs(t-n),t=n),t}function F(t,e,r){return t>e&&t<r}function X(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function C(t,e,r,n){for(var i,o,s=r,a=n;s<n;){for(i=t[e[r+n>>2<<1]];s<=a;){for(;t[e[s]]<i;)s+=2;for(;t[e[a]]>i;)a-=2;s<=a&&(o=e[s],e[s]=e[a],e[a]=o,o=e[s+1],e[s+1]=e[a+1],e[a+1]=o,s+=2,a-=2)}if(a-r<40?U(t,e,r,a):C(t,e,r,a),n-s<40)return void U(t,e,s,n);r=s,a=n}}function U(t,e,r,n){for(var i,o,s=r+2;s<=n;s+=2){i=e[s],o=e[s+1];var a=void 0;for(a=s-2;a>=r&&t[i]<t[e[a]];a-=2)e[a+2]=e[a],e[a+3]=e[a+1];e[a+2]=i,e[a+3]=o}}function D(t,e,r,n,i){var o=t[0],s=t[1];e=z(o,s,e[0],e[1],n,i),r=z(o,s,r[0],r[1],n,i);var a=e[0]<r[0]?e:r;return{x:o,y:s,a,b:a==e?r:e}}function z(t,e,r,n,i,o){var s=r<n?r:n,a=s===r?n:r;return i[s]==t&&o[s]==e?a=s:i[a]==t&&o[a]==e&&(s=a),[s,a]}function G(t){var e={};return t.filter((function(t){var r=function(t){return"".concat(t.a.join(","),";").concat(t.b.join(","))}(t);return!(r in e)&&(e[r]=!0,!0)}))}var V=function t(e,r){E(this,t),A(this,"_i",0),A(this,"_n",0),A(this,"_inc",1),A(this,"_xx",void 0),A(this,"_yy",void 0),A(this,"i",0),A(this,"x",0),A(this,"y",0),this._xx=e,this._yy=r};function W(t,e,r,n){var i,o,s,a,u,c,f=0|r,l=isNaN(n)?t.length-f:n+f;if(!(l>0))return[void 0,void 0,void 0,void 0];for(s=u=t[f],a=c=e[f],f++;f<l;f++)(i=t[f])<s&&(s=i),i>u&&(u=i),(o=e[f])<a&&(a=o),o>c&&(c=o);return[s,a,u,c]}var q=function(){function t(){E(this,t),A(this,"xmin",void 0),A(this,"ymin",void 0),A(this,"xmax",void 0),A(this,"ymax",void 0);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.length>0&&this.setBounds(r)}return M(t,[{key:"cloneBounds",value:function(){return this.clone()}},{key:"clone",value:function(){return new t(this.xmin,this.ymin,this.xmax,this.ymax)}},{key:"width",value:function(){return this.xmax-this.xmin||0}},{key:"height",value:function(){return this.ymax-this.ymin||0}},{key:"setBounds",value:function(t,e,r,n){return 1==arguments.length&&(O(t)?(e=t[1],r=t[2],n=t[3],t=t[0]):(e=t.ymin,r=t.xmax,n=t.ymax,t=t.xmin)),this.xmin=t,this.ymin=e,this.xmax=r,this.ymax=n,(t>r||e>n)&&this.update(),this}},{key:"update",value:function(){var t;this.xmin>this.xmax&&(t=this.xmin,this.xmin=this.xmax,this.xmax=t),this.ymin>this.ymax&&(t=this.ymin,this.ymin=this.ymax,this.ymax=t)}},{key:"mergeBounds",value:function(e){var r,n,i,o;return e instanceof t?(r=e.xmin,n=e.ymin,i=e.xmax,o=e.ymax):3==(arguments.length<=1?0:arguments.length-1)?(r=e,n=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2],o=arguments.length<=3?void 0:arguments[3]):4==e.length?(r=e[0],n=e[1],i=e[2],o=e[3]):T("Bounds#mergeBounds() invalid argument:",e),void 0===this.xmin?this.setBounds(r,n,i,o):(r<this.xmin&&(this.xmin=r),n<this.ymin&&(this.ymin=n),i>this.xmax&&(this.xmax=i),o>this.ymax&&(this.ymax=o)),this}}]),t}();r(2526),r(1817),r(2165);const J=134217729;function $(t,e,r,n,i){let o,s,a,u,c=e[0],f=n[0],l=0,h=0;f>c==f>-c?(o=c,c=e[++l]):(o=f,f=n[++h]);let p=0;if(l<t&&h<r)for(f>c==f>-c?(s=c+o,a=o-(s-c),c=e[++l]):(s=f+o,a=o-(s-f),f=n[++h]),o=s,0!==a&&(i[p++]=a);l<t&&h<r;)f>c==f>-c?(s=o+c,u=s-o,a=o-(s-u)+(c-u),c=e[++l]):(s=o+f,u=s-o,a=o-(s-u)+(f-u),f=n[++h]),o=s,0!==a&&(i[p++]=a);for(;l<t;)s=o+c,u=s-o,a=o-(s-u)+(c-u),c=e[++l],o=s,0!==a&&(i[p++]=a);for(;h<r;)s=o+f,u=s-o,a=o-(s-u)+(f-u),f=n[++h],o=s,0!==a&&(i[p++]=a);return 0===o&&0!==p||(i[p++]=o),p}function K(t){return new Float64Array(t)}const H=K(4),Z=K(8),Q=K(12),tt=K(16),et=K(4);function rt(t,e,r,n,i,o){const s=(e-o)*(r-i),a=(t-i)*(n-o),u=s-a;if(0===s||0===a||s>0!=a>0)return u;const c=Math.abs(s+a);return Math.abs(u)>=33306690738754716e-32*c?u:-function(t,e,r,n,i,o,s){let a,u,c,f,l,h,p,v,d,g,y,m,x,b,w,_,S,E;const k=t-i,M=r-i,A=e-o,P=n-o;b=k*P,h=J*k,p=h-(h-k),v=k-p,h=J*P,d=h-(h-P),g=P-d,w=v*g-(b-p*d-v*d-p*g),_=A*M,h=J*A,p=h-(h-A),v=A-p,h=J*M,d=h-(h-M),g=M-d,S=v*g-(_-p*d-v*d-p*g),y=w-S,l=w-y,H[0]=w-(y+l)+(l-S),m=b+y,l=m-b,x=b-(m-l)+(y-l),y=x-_,l=x-y,H[1]=x-(y+l)+(l-_),E=m+y,l=E-m,H[2]=m-(E-l)+(y-l),H[3]=E;let T=function(t,e){let r=e[0];for(let t=1;t<4;t++)r+=e[t];return r}(0,H),O=22204460492503146e-32*s;if(T>=O||-T>=O)return T;if(l=t-k,a=t-(k+l)+(l-i),l=r-M,c=r-(M+l)+(l-i),l=e-A,u=e-(A+l)+(l-o),l=n-P,f=n-(P+l)+(l-o),0===a&&0===u&&0===c&&0===f)return T;if(O=11093356479670487e-47*s+33306690738754706e-32*Math.abs(T),T+=k*f+P*a-(A*c+M*u),T>=O||-T>=O)return T;b=a*P,h=J*a,p=h-(h-a),v=a-p,h=J*P,d=h-(h-P),g=P-d,w=v*g-(b-p*d-v*d-p*g),_=u*M,h=J*u,p=h-(h-u),v=u-p,h=J*M,d=h-(h-M),g=M-d,S=v*g-(_-p*d-v*d-p*g),y=w-S,l=w-y,et[0]=w-(y+l)+(l-S),m=b+y,l=m-b,x=b-(m-l)+(y-l),y=x-_,l=x-y,et[1]=x-(y+l)+(l-_),E=m+y,l=E-m,et[2]=m-(E-l)+(y-l),et[3]=E;const I=$(4,H,4,et,Z);b=k*f,h=J*k,p=h-(h-k),v=k-p,h=J*f,d=h-(h-f),g=f-d,w=v*g-(b-p*d-v*d-p*g),_=A*c,h=J*A,p=h-(h-A),v=A-p,h=J*c,d=h-(h-c),g=c-d,S=v*g-(_-p*d-v*d-p*g),y=w-S,l=w-y,et[0]=w-(y+l)+(l-S),m=b+y,l=m-b,x=b-(m-l)+(y-l),y=x-_,l=x-y,et[1]=x-(y+l)+(l-_),E=m+y,l=E-m,et[2]=m-(E-l)+(y-l),et[3]=E;const R=$(I,Z,4,et,Q);b=a*f,h=J*a,p=h-(h-a),v=a-p,h=J*f,d=h-(h-f),g=f-d,w=v*g-(b-p*d-v*d-p*g),_=u*c,h=J*u,p=h-(h-u),v=u-p,h=J*c,d=h-(h-c),g=c-d,S=v*g-(_-p*d-v*d-p*g),y=w-S,l=w-y,et[0]=w-(y+l)+(l-S),m=b+y,l=m-b,x=b-(m-l)+(y-l),y=x-_,l=x-y,et[1]=x-(y+l)+(l-_),E=m+y,l=E-m,et[2]=m-(E-l)+(y-l),et[3]=E;const j=$(R,Q,4,et,tt);return tt[j-1]}(t,e,r,n,i,o,c)}K(4),K(4),K(4),K(4),K(4),K(4),K(4),K(4),K(4),K(8),K(8),K(8),K(4),K(8),K(8),K(8),K(12),K(192),K(192),K(4),K(4),K(4),K(4),K(4),K(4),K(4),K(4),K(8),K(8),K(8),K(8),K(8),K(8),K(8),K(8),K(8),K(4),K(4),K(4),K(8),K(16),K(16),K(16),K(32),K(32),K(48),K(64),K(1152),K(1152),K(4),K(4),K(4),K(4),K(4),K(4),K(4),K(4),K(4),K(4),K(24),K(24),K(24),K(24),K(24),K(24),K(24),K(24),K(24),K(24),K(1152),K(1152),K(1152),K(1152),K(1152),K(2304),K(2304),K(3456),K(5760),K(8),K(8),K(8),K(16),K(24),K(48),K(48),K(96),K(192),K(384),K(384),K(384),K(768),K(96),K(96),K(96),K(1152);const nt=Math.pow(2,-52),it=new Uint32Array(512);class ot{static from(t,e=lt,r=ht){const n=t.length,i=new Float64Array(2*n);for(let o=0;o<n;o++){const n=t[o];i[2*o]=e(n),i[2*o+1]=r(n)}return new ot(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:r,_hullTri:n,_hullHash:i}=this,o=t.length>>1;let s=1/0,a=1/0,u=-1/0,c=-1/0;for(let e=0;e<o;e++){const r=t[2*e],n=t[2*e+1];r<s&&(s=r),n<a&&(a=n),r>u&&(u=r),n>c&&(c=n),this._ids[e]=e}const f=(s+u)/2,l=(a+c)/2;let h,p,v,d=1/0;for(let e=0;e<o;e++){const r=st(f,l,t[2*e],t[2*e+1]);r<d&&(h=e,d=r)}const g=t[2*h],y=t[2*h+1];d=1/0;for(let e=0;e<o;e++){if(e===h)continue;const r=st(g,y,t[2*e],t[2*e+1]);r<d&&r>0&&(p=e,d=r)}let m=t[2*p],x=t[2*p+1],b=1/0;for(let e=0;e<o;e++){if(e===h||e===p)continue;const r=ut(g,y,m,x,t[2*e],t[2*e+1]);r<b&&(v=e,b=r)}let w=t[2*v],_=t[2*v+1];if(b===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];ct(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let r=0;for(let t=0,n=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>n&&(e[r++]=i,n=this._dists[i])}return this.hull=e.subarray(0,r),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(rt(g,y,m,x,w,_)<0){const t=p,e=m,r=x;p=v,m=w,x=_,v=t,w=e,_=r}const S=function(t,e,r,n,i,o){const s=r-t,a=n-e,u=i-t,c=o-e,f=s*s+a*a,l=u*u+c*c,h=.5/(s*c-a*u);return{x:t+(c*f-a*l)*h,y:e+(s*l-u*f)*h}}(g,y,m,x,w,_);this._cx=S.x,this._cy=S.y;for(let e=0;e<o;e++)this._dists[e]=st(t[2*e],t[2*e+1],S.x,S.y);ct(this._ids,this._dists,0,o-1),this._hullStart=h;let E=3;r[h]=e[v]=p,r[p]=e[h]=v,r[v]=e[p]=h,n[h]=0,n[p]=1,n[v]=2,i.fill(-1),i[this._hashKey(g,y)]=h,i[this._hashKey(m,x)]=p,i[this._hashKey(w,_)]=v,this.trianglesLen=0,this._addTriangle(h,p,v,-1,-1,-1);for(let o,s,a=0;a<this._ids.length;a++){const u=this._ids[a],c=t[2*u],f=t[2*u+1];if(a>0&&Math.abs(c-o)<=nt&&Math.abs(f-s)<=nt)continue;if(o=c,s=f,u===h||u===p||u===v)continue;let l=0;for(let t=0,e=this._hashKey(c,f);t<this._hashSize&&(l=i[(e+t)%this._hashSize],-1===l||l===r[l]);t++);l=e[l];let d,g=l;for(;d=r[g],rt(c,f,t[2*g],t[2*g+1],t[2*d],t[2*d+1])>=0;)if(g=d,g===l){g=-1;break}if(-1===g)continue;let y=this._addTriangle(g,u,r[g],-1,-1,n[g]);n[u]=this._legalize(y+2),n[g]=y,E++;let m=r[g];for(;d=r[m],rt(c,f,t[2*m],t[2*m+1],t[2*d],t[2*d+1])<0;)y=this._addTriangle(m,u,d,n[u],-1,n[m]),n[u]=this._legalize(y+2),r[m]=m,E--,m=d;if(g===l)for(;d=e[g],rt(c,f,t[2*d],t[2*d+1],t[2*g],t[2*g+1])<0;)y=this._addTriangle(d,u,g,-1,n[g],n[d]),this._legalize(y+2),n[d]=y,r[g]=g,E--,g=d;this._hullStart=e[u]=g,r[g]=e[m]=u,r[u]=m,i[this._hashKey(c,f)]=u,i[this._hashKey(t[2*g],t[2*g+1])]=g}this.hull=new Uint32Array(E);for(let t=0,e=this._hullStart;t<E;t++)this.hull[t]=e,e=r[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const r=t/(Math.abs(t)+Math.abs(e));return(e>0?3-r:1+r)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:r,coords:n}=this;let i=0,o=0;for(;;){const s=r[t],a=t-t%3;if(o=a+(t+2)%3,-1===s){if(0===i)break;t=it[--i];continue}const u=s-s%3,c=a+(t+1)%3,f=u+(s+2)%3,l=e[o],h=e[t],p=e[c],v=e[f];if(at(n[2*l],n[2*l+1],n[2*h],n[2*h+1],n[2*p],n[2*p+1],n[2*v],n[2*v+1])){e[t]=v,e[s]=l;const n=r[f];if(-1===n){let e=this._hullStart;do{if(this._hullTri[e]===f){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,n),this._link(s,r[o]),this._link(o,f);const a=u+(s+1)%3;i<it.length&&(it[i++]=a)}else{if(0===i)break;t=it[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,r,n,i,o){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=e,this._triangles[s+2]=r,this._link(s,n),this._link(s+1,i),this._link(s+2,o),this.trianglesLen+=3,s}}function st(t,e,r,n){const i=t-r,o=e-n;return i*i+o*o}function at(t,e,r,n,i,o,s,a){const u=t-s,c=e-a,f=r-s,l=n-a,h=i-s,p=o-a,v=f*f+l*l,d=h*h+p*p;return u*(l*d-v*p)-c*(f*d-v*h)+(u*u+c*c)*(f*p-l*h)<0}function ut(t,e,r,n,i,o){const s=r-t,a=n-e,u=i-t,c=o-e,f=s*s+a*a,l=u*u+c*c,h=.5/(s*c-a*u),p=(c*f-a*l)*h,v=(s*l-u*f)*h;return p*p+v*v}function ct(t,e,r,n){if(n-r<=20)for(let i=r+1;i<=n;i++){const n=t[i],o=e[n];let s=i-1;for(;s>=r&&e[t[s]]>o;)t[s+1]=t[s--];t[s+1]=n}else{let i=r+1,o=n;ft(t,r+n>>1,i),e[t[r]]>e[t[n]]&&ft(t,r,n),e[t[i]]>e[t[n]]&&ft(t,i,n),e[t[r]]>e[t[i]]&&ft(t,r,i);const s=t[i],a=e[s];for(;;){do{i++}while(e[t[i]]<a);do{o--}while(e[t[o]]>a);if(o<i)break;ft(t,i,o)}t[r+1]=t[o],t[o]=s,n-i+1>=o-r?(ct(t,e,i,n),ct(t,e,r,o-1)):(ct(t,e,r,o-1),ct(t,e,i,n))}}function ft(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function lt(t){return t[0]}function ht(t){return t[1]}const pt=134217729,vt=33306690738754706e-32;function dt(t,e,r,n,i){let o,s,a,u,c=e[0],f=n[0],l=0,h=0;f>c==f>-c?(o=c,c=e[++l]):(o=f,f=n[++h]);let p=0;if(l<t&&h<r)for(f>c==f>-c?(s=c+o,a=o-(s-c),c=e[++l]):(s=f+o,a=o-(s-f),f=n[++h]),o=s,0!==a&&(i[p++]=a);l<t&&h<r;)f>c==f>-c?(s=o+c,u=s-o,a=o-(s-u)+(c-u),c=e[++l]):(s=o+f,u=s-o,a=o-(s-u)+(f-u),f=n[++h]),o=s,0!==a&&(i[p++]=a);for(;l<t;)s=o+c,u=s-o,a=o-(s-u)+(c-u),c=e[++l],o=s,0!==a&&(i[p++]=a);for(;h<r;)s=o+f,u=s-o,a=o-(s-u)+(f-u),f=n[++h],o=s,0!==a&&(i[p++]=a);return 0===o&&0!==p||(i[p++]=o),p}function gt(t,e,r,n,i,o,s,a){return dt(dt(t,e,r,n,s),s,i,o,a)}function yt(t,e,r,n){let i,o,s,a,u,c,f,l,h,p,v;f=pt*r,p=f-(f-r),v=r-p;let d=e[0];i=d*r,f=pt*d,l=f-(f-d),h=d-l,s=h*v-(i-l*p-h*p-l*v);let g=0;0!==s&&(n[g++]=s);for(let y=1;y<t;y++)d=e[y],a=d*r,f=pt*d,l=f-(f-d),h=d-l,u=h*v-(a-l*p-h*p-l*v),o=i+u,c=o-i,s=i-(o-c)+(u-c),0!==s&&(n[g++]=s),i=a+o,s=o-(i-a),0!==s&&(n[g++]=s);return 0===i&&0!==g||(n[g++]=i),g}function mt(t,e){let r=e[0];for(let n=1;n<t;n++)r+=e[n];return r}function xt(t){return new Float64Array(t)}const bt=xt(4),wt=xt(8),_t=xt(12),St=xt(16),Et=xt(4);function kt(t,e,r,n,i,o){const s=(e-o)*(r-i),a=(t-i)*(n-o),u=s-a;if(0===s||0===a||s>0!=a>0)return u;const c=Math.abs(s+a);return Math.abs(u)>=33306690738754716e-32*c?u:-function(t,e,r,n,i,o,s){let a,u,c,f,l,h,p,v,d,g,y,m,x,b,w,_,S,E;const k=t-i,M=r-i,A=e-o,P=n-o;b=k*P,h=pt*k,p=h-(h-k),v=k-p,h=pt*P,d=h-(h-P),g=P-d,w=v*g-(b-p*d-v*d-p*g),_=A*M,h=pt*A,p=h-(h-A),v=A-p,h=pt*M,d=h-(h-M),g=M-d,S=v*g-(_-p*d-v*d-p*g),y=w-S,l=w-y,bt[0]=w-(y+l)+(l-S),m=b+y,l=m-b,x=b-(m-l)+(y-l),y=x-_,l=x-y,bt[1]=x-(y+l)+(l-_),E=m+y,l=E-m,bt[2]=m-(E-l)+(y-l),bt[3]=E;let T=mt(4,bt),O=22204460492503146e-32*s;if(T>=O||-T>=O)return T;if(l=t-k,a=t-(k+l)+(l-i),l=r-M,c=r-(M+l)+(l-i),l=e-A,u=e-(A+l)+(l-o),l=n-P,f=n-(P+l)+(l-o),0===a&&0===u&&0===c&&0===f)return T;if(O=11093356479670487e-47*s+vt*Math.abs(T),T+=k*f+P*a-(A*c+M*u),T>=O||-T>=O)return T;b=a*P,h=pt*a,p=h-(h-a),v=a-p,h=pt*P,d=h-(h-P),g=P-d,w=v*g-(b-p*d-v*d-p*g),_=u*M,h=pt*u,p=h-(h-u),v=u-p,h=pt*M,d=h-(h-M),g=M-d,S=v*g-(_-p*d-v*d-p*g),y=w-S,l=w-y,Et[0]=w-(y+l)+(l-S),m=b+y,l=m-b,x=b-(m-l)+(y-l),y=x-_,l=x-y,Et[1]=x-(y+l)+(l-_),E=m+y,l=E-m,Et[2]=m-(E-l)+(y-l),Et[3]=E;const I=dt(4,bt,4,Et,wt);b=k*f,h=pt*k,p=h-(h-k),v=k-p,h=pt*f,d=h-(h-f),g=f-d,w=v*g-(b-p*d-v*d-p*g),_=A*c,h=pt*A,p=h-(h-A),v=A-p,h=pt*c,d=h-(h-c),g=c-d,S=v*g-(_-p*d-v*d-p*g),y=w-S,l=w-y,Et[0]=w-(y+l)+(l-S),m=b+y,l=m-b,x=b-(m-l)+(y-l),y=x-_,l=x-y,Et[1]=x-(y+l)+(l-_),E=m+y,l=E-m,Et[2]=m-(E-l)+(y-l),Et[3]=E;const R=dt(I,wt,4,Et,_t);b=a*f,h=pt*a,p=h-(h-a),v=a-p,h=pt*f,d=h-(h-f),g=f-d,w=v*g-(b-p*d-v*d-p*g),_=u*c,h=pt*u,p=h-(h-u),v=u-p,h=pt*c,d=h-(h-c),g=c-d,S=v*g-(_-p*d-v*d-p*g),y=w-S,l=w-y,Et[0]=w-(y+l)+(l-S),m=b+y,l=m-b,x=b-(m-l)+(y-l),y=x-_,l=x-y,Et[1]=x-(y+l)+(l-_),E=m+y,l=E-m,Et[2]=m-(E-l)+(y-l),Et[3]=E;const j=dt(R,_t,4,Et,St);return St[j-1]}(t,e,r,n,i,o,c)}xt(4),xt(4),xt(4),xt(4),xt(4),xt(4),xt(4),xt(4),xt(4),xt(8),xt(8),xt(8),xt(4),xt(8),xt(8),xt(8),xt(12),xt(192),xt(192);const Mt=xt(4),At=xt(4),Pt=xt(4),Tt=xt(4),Ot=xt(4),It=xt(4),Rt=xt(4),jt=xt(4),Bt=xt(8),Lt=xt(8),Yt=xt(8),Nt=xt(8),Ft=xt(8),Xt=xt(8),Ct=xt(8),Ut=xt(8),Dt=xt(8),zt=xt(4),Gt=xt(4),Vt=xt(4),Wt=xt(8),qt=xt(16),Jt=xt(16),$t=xt(16),Kt=xt(32),Ht=xt(32),Zt=xt(48),Qt=xt(64);let te=xt(1152),ee=xt(1152);function re(t,e,r){t=dt(t,te,e,r,ee);const n=te;return te=ee,ee=n,t}xt(4),xt(4),xt(4),xt(4),xt(4),xt(4),xt(4),xt(4),xt(4),xt(4),xt(24),xt(24),xt(24),xt(24),xt(24),xt(24),xt(24),xt(24),xt(24),xt(24),xt(1152),xt(1152),xt(1152),xt(1152),xt(1152),xt(2304),xt(2304),xt(3456),xt(5760),xt(8),xt(8),xt(8),xt(16),xt(24),xt(48),xt(48),xt(96),xt(192),xt(384),xt(384),xt(384),xt(768),xt(96),xt(96),xt(96),xt(1152);class ne extends class{constructor(t,e){this.W=t,this.bs=e}add(t){const e=this.W,r=t/e|0,n=t%e;return this.bs[r]|=1<<n,this}delete(t){const e=this.W,r=t/e|0,n=t%e;return this.bs[r]&=~(1<<n),this}set(t,e){const r=this.W,n=t/r|0,i=1<<t%r;return this.bs[n]^=(-e^this.bs[n])&i,e}has(t){const e=this.W,r=t/e|0,n=t%e;return!!(this.bs[r]&1<<n)}forEach(t){const e=this.W,r=this.bs,n=r.length;for(let i=0;i<n;i++){let n=0;for(;r[i]&&n<e;)r[i]&1<<n&&t(i*e+n),n++}return this}}{constructor(t){super(8,new Uint8Array(Math.ceil(t/8)).fill(0))}}function ie(t){return t%3==2?t-2:t+1}function oe(t){return t%3==0?t+2:t-1}class se{constructor(t,e){if(!(t&&"object"==typeof t&&t.triangles&&t.halfedges&&t.coords))throw new Error("Expected an object with Delaunator output");if(t.triangles.length%3||t.halfedges.length!==t.triangles.length||t.coords.length%2)throw new Error("Delaunator output appears inconsistent");if(t.triangles.length<3)throw new Error("No edges in triangulation");this.del=t;const r=2**32-1,n=t.coords.length>>1,i=t.triangles.length;this.vertMap=new Uint32Array(n).fill(r),this.flips=new ne(i),this.consd=new ne(i);for(let e=0;e<i;e++){const n=t.triangles[e];this.vertMap[n]===r&&this.updateVert(e)}e&&this.constrainAll(e)}constrainOne(t,e){const{triangles:r,halfedges:n}=this.del,i=this.vertMap,o=this.consd,s=i[t];let a=s;do{const i=r[a],o=ie(a);if(i===e)return this.protect(a);const s=oe(a),u=r[s];if(u===e)return this.protect(o),o;if(this.intersectSegments(t,e,u,i)){a=s;break}a=n[o]}while(-1!==a&&a!==s);let u=a,c=-1;for(;-1!==a;){const i=n[a],s=oe(a),f=oe(i),l=ie(i);if(-1===i)throw new Error("Constraining edge exited the hull");if(o.has(a))throw new Error("Edge intersects already constrained edge");if(this.isCollinear(t,e,r[a])||this.isCollinear(t,e,r[i]))throw new Error("Constraining edge intersects point");if(this.intersectSegments(r[a],r[i],r[s],r[f])){if(this.flipDiagonal(a),this.intersectSegments(t,e,r[s],r[f])&&(-1===c&&(c=s),c===s))throw new Error("Infinite loop: flipped diagonal still intersects");r[f]===e?(u=f,a=c,c=-1):this.intersectSegments(t,e,r[l],r[f])&&(a=l)}else{if(-1===c&&(c=a),r[f]===e){if(a===c)throw new Error("Infinite loop: non-convex quadrilateral");a=c,c=-1;continue}if(this.intersectSegments(t,e,r[f],r[i]))a=f;else if(this.intersectSegments(t,e,r[l],r[f]))a=l;else if(c===a)throw new Error("Infinite loop: no further intersect after non-convex")}}const f=this.flips;this.protect(u);do{var l=0;f.forEach((t=>{f.delete(t);const e=n[t];-1!==e&&(f.delete(e),this.isDelaunay(t)||(this.flipDiagonal(t),l++))}))}while(l>0);return this.findEdge(t,e)}delaunify(t=!1){const e=this.del.halfedges,r=this.flips,n=this.consd,i=e.length;do{var o=0;for(let t=0;t<i;t++){if(n.has(t))continue;r.delete(t);const i=e[t];-1!==i&&(r.delete(i),this.isDelaunay(t)||(this.flipDiagonal(t),o++))}}while(t&&o>0);return this}constrainAll(t){const e=t.length;for(let r=0;r<e;r++){const e=t[r];this.constrainOne(e[0],e[1])}return this}isConstrained(t){return this.consd.has(t)}findEdge(t,e){const r=this.vertMap[e],{triangles:n,halfedges:i}=this.del;let o=r,s=-1;do{if(n[o]===t)return o;s=ie(o),o=i[s]}while(-1!==o&&o!==r);return n[ie(s)]===t?-s:1/0}protect(t){const e=this.del.halfedges[t],r=this.flips,n=this.consd;return r.delete(t),n.add(t),-1!==e?(r.delete(e),n.add(e),e):-t}markFlip(t){const e=this.del.halfedges,r=this.flips;if(this.consd.has(t))return!1;const n=e[t];return-1!==n&&(r.add(t),r.add(n)),!0}flipDiagonal(t){const{triangles:e,halfedges:r}=this.del,n=this.flips,i=this.consd,o=r[t],s=oe(t),a=ie(t),u=oe(o),c=ie(o),f=r[s],l=r[u];if(i.has(t))throw new Error("Trying to flip a constrained edge");return e[t]=e[u],r[t]=l,n.set(t,n.has(u))||i.set(t,i.has(u)),-1!==l&&(r[l]=t),r[s]=u,e[o]=e[s],r[o]=f,n.set(o,n.has(s))||i.set(o,i.has(s)),-1!==f&&(r[f]=o),r[u]=s,this.markFlip(t),this.markFlip(a),this.markFlip(o),this.markFlip(c),n.add(s),i.delete(s),n.add(u),i.delete(u),this.updateVert(t),this.updateVert(a),this.updateVert(o),this.updateVert(c),s}isDelaunay(t){const{triangles:e,halfedges:r}=this.del,n=r[t];if(-1===n)return!0;const i=e[oe(t)],o=e[t],s=e[ie(t)],a=e[oe(n)];return!this.inCircle(i,o,s,a)}updateVert(t){const{triangles:e,halfedges:r}=this.del,n=this.vertMap,i=e[t];let o=oe(t),s=r[o];for(;-1!==s&&s!==t;)o=oe(s),s=r[o];return n[i]=o,o}intersectSegments(t,e,r,n){const i=this.del.coords;return t!==r&&t!==n&&e!==r&&e!==n&&ae(i[2*t],i[2*t+1],i[2*e],i[2*e+1],i[2*r],i[2*r+1],i[2*n],i[2*n+1])}inCircle(t,e,r,n){const i=this.del.coords;return function(t,e,r,n,i,o,s,a){const u=t-s,c=r-s,f=i-s,l=e-a,h=n-a,p=o-a,v=c*p,d=f*h,g=u*u+l*l,y=f*l,m=u*p,x=c*c+h*h,b=u*h,w=c*l,_=f*f+p*p,S=g*(v-d)+x*(y-m)+_*(b-w),E=(Math.abs(v)+Math.abs(d))*g+(Math.abs(y)+Math.abs(m))*x+(Math.abs(b)+Math.abs(w))*_,k=11102230246251577e-31*E;return S>k||-S>k?S:function(t,e,r,n,i,o,s,a,u){let c,f,l,h,p,v,d,g,y,m,x,b,w,_,S,E,k,M,A,P,T,O,I,R,j,B,L,Y,N,F,X,C,U,D,z;const G=t-s,V=r-s,W=i-s,q=e-a,J=n-a,$=o-a;X=V*$,I=pt*V,R=I-(I-V),j=V-R,I=pt*$,B=I-(I-$),L=$-B,C=j*L-(X-R*B-j*B-R*L),U=W*J,I=pt*W,R=I-(I-W),j=W-R,I=pt*J,B=I-(I-J),L=J-B,D=j*L-(U-R*B-j*B-R*L),Y=C-D,O=C-Y,Mt[0]=C-(Y+O)+(O-D),N=X+Y,O=N-X,F=X-(N-O)+(Y-O),Y=F-U,O=F-Y,Mt[1]=F-(Y+O)+(O-U),z=N+Y,O=z-N,Mt[2]=N-(z-O)+(Y-O),Mt[3]=z,X=W*q,I=pt*W,R=I-(I-W),j=W-R,I=pt*q,B=I-(I-q),L=q-B,C=j*L-(X-R*B-j*B-R*L),U=G*$,I=pt*G,R=I-(I-G),j=G-R,I=pt*$,B=I-(I-$),L=$-B,D=j*L-(U-R*B-j*B-R*L),Y=C-D,O=C-Y,At[0]=C-(Y+O)+(O-D),N=X+Y,O=N-X,F=X-(N-O)+(Y-O),Y=F-U,O=F-Y,At[1]=F-(Y+O)+(O-U),z=N+Y,O=z-N,At[2]=N-(z-O)+(Y-O),At[3]=z,X=G*J,I=pt*G,R=I-(I-G),j=G-R,I=pt*J,B=I-(I-J),L=J-B,C=j*L-(X-R*B-j*B-R*L),U=V*q,I=pt*V,R=I-(I-V),j=V-R,I=pt*q,B=I-(I-q),L=q-B,D=j*L-(U-R*B-j*B-R*L),Y=C-D,O=C-Y,Pt[0]=C-(Y+O)+(O-D),N=X+Y,O=N-X,F=X-(N-O)+(Y-O),Y=F-U,O=F-Y,Pt[1]=F-(Y+O)+(O-U),z=N+Y,O=z-N,Pt[2]=N-(z-O)+(Y-O),Pt[3]=z,c=dt(dt(dt(yt(yt(4,Mt,G,Wt),Wt,G,qt),qt,yt(yt(4,Mt,q,Wt),Wt,q,Jt),Jt,Kt),Kt,dt(yt(yt(4,At,V,Wt),Wt,V,qt),qt,yt(yt(4,At,J,Wt),Wt,J,Jt),Jt,Ht),Ht,Qt),Qt,dt(yt(yt(4,Pt,W,Wt),Wt,W,qt),qt,yt(yt(4,Pt,$,Wt),Wt,$,Jt),Jt,Kt),Kt,te);let K=mt(c,te),H=4440892098500632e-31*u;if(K>=H||-K>=H)return K;if(O=t-G,f=t-(G+O)+(O-s),O=e-q,p=e-(q+O)+(O-a),O=r-V,l=r-(V+O)+(O-s),O=n-J,v=n-(J+O)+(O-a),O=i-W,h=i-(W+O)+(O-s),O=o-$,d=o-($+O)+(O-a),0===f&&0===l&&0===h&&0===p&&0===v&&0===d)return K;if(H=5423418723394464e-46*u+vt*Math.abs(K),K+=(G*G+q*q)*(V*d+$*l-(J*h+W*v))+2*(G*f+q*p)*(V*$-J*W)+((V*V+J*J)*(W*p+q*h-($*f+G*d))+2*(V*l+J*v)*(W*q-$*G))+((W*W+$*$)*(G*v+J*f-(q*l+V*p))+2*(W*h+$*d)*(G*J-q*V)),K>=H||-K>=H)return K;if(0===l&&0===v&&0===h&&0===d||(X=G*G,I=pt*G,R=I-(I-G),j=G-R,C=j*j-(X-R*R-(R+R)*j),U=q*q,I=pt*q,R=I-(I-q),j=q-R,D=j*j-(U-R*R-(R+R)*j),Y=C+D,O=Y-C,Tt[0]=C-(Y-O)+(D-O),N=X+Y,O=N-X,F=X-(N-O)+(Y-O),Y=F+U,O=Y-F,Tt[1]=F-(Y-O)+(U-O),z=N+Y,O=z-N,Tt[2]=N-(z-O)+(Y-O),Tt[3]=z),0===h&&0===d&&0===f&&0===p||(X=V*V,I=pt*V,R=I-(I-V),j=V-R,C=j*j-(X-R*R-(R+R)*j),U=J*J,I=pt*J,R=I-(I-J),j=J-R,D=j*j-(U-R*R-(R+R)*j),Y=C+D,O=Y-C,Ot[0]=C-(Y-O)+(D-O),N=X+Y,O=N-X,F=X-(N-O)+(Y-O),Y=F+U,O=Y-F,Ot[1]=F-(Y-O)+(U-O),z=N+Y,O=z-N,Ot[2]=N-(z-O)+(Y-O),Ot[3]=z),0===f&&0===p&&0===l&&0===v||(X=W*W,I=pt*W,R=I-(I-W),j=W-R,C=j*j-(X-R*R-(R+R)*j),U=$*$,I=pt*$,R=I-(I-$),j=$-R,D=j*j-(U-R*R-(R+R)*j),Y=C+D,O=Y-C,It[0]=C-(Y-O)+(D-O),N=X+Y,O=N-X,F=X-(N-O)+(Y-O),Y=F+U,O=Y-F,It[1]=F-(Y-O)+(U-O),z=N+Y,O=z-N,It[2]=N-(z-O)+(Y-O),It[3]=z),0!==f&&(g=yt(4,Mt,f,Bt),c=re(c,gt(yt(g,Bt,2*G,qt),qt,yt(yt(4,It,f,Wt),Wt,J,Jt),Jt,yt(yt(4,Ot,f,Wt),Wt,-$,$t),$t,Kt,Zt),Zt)),0!==p&&(y=yt(4,Mt,p,Lt),c=re(c,gt(yt(y,Lt,2*q,qt),qt,yt(yt(4,Ot,p,Wt),Wt,W,Jt),Jt,yt(yt(4,It,p,Wt),Wt,-V,$t),$t,Kt,Zt),Zt)),0!==l&&(m=yt(4,At,l,Yt),c=re(c,gt(yt(m,Yt,2*V,qt),qt,yt(yt(4,Tt,l,Wt),Wt,$,Jt),Jt,yt(yt(4,It,l,Wt),Wt,-q,$t),$t,Kt,Zt),Zt)),0!==v&&(x=yt(4,At,v,Nt),c=re(c,gt(yt(x,Nt,2*J,qt),qt,yt(yt(4,It,v,Wt),Wt,G,Jt),Jt,yt(yt(4,Tt,v,Wt),Wt,-W,$t),$t,Kt,Zt),Zt)),0!==h&&(b=yt(4,Pt,h,Ft),c=re(c,gt(yt(b,Ft,2*W,qt),qt,yt(yt(4,Ot,h,Wt),Wt,q,Jt),Jt,yt(yt(4,Tt,h,Wt),Wt,-J,$t),$t,Kt,Zt),Zt)),0!==d&&(w=yt(4,Pt,d,Xt),c=re(c,gt(yt(w,Xt,2*$,qt),qt,yt(yt(4,Tt,d,Wt),Wt,V,Jt),Jt,yt(yt(4,Ot,d,Wt),Wt,-G,$t),$t,Kt,Zt),Zt)),0!==f||0!==p){if(0!==l||0!==v||0!==h||0!==d?(X=l*$,I=pt*l,R=I-(I-l),j=l-R,I=pt*$,B=I-(I-$),L=$-B,C=j*L-(X-R*B-j*B-R*L),U=V*d,I=pt*V,R=I-(I-V),j=V-R,I=pt*d,B=I-(I-d),L=d-B,D=j*L-(U-R*B-j*B-R*L),Y=C+D,O=Y-C,Rt[0]=C-(Y-O)+(D-O),N=X+Y,O=N-X,F=X-(N-O)+(Y-O),Y=F+U,O=Y-F,Rt[1]=F-(Y-O)+(U-O),z=N+Y,O=z-N,Rt[2]=N-(z-O)+(Y-O),Rt[3]=z,X=h*-J,I=pt*h,R=I-(I-h),j=h-R,I=pt*-J,B=I-(I- -J),L=-J-B,C=j*L-(X-R*B-j*B-R*L),U=W*-v,I=pt*W,R=I-(I-W),j=W-R,I=pt*-v,B=I-(I- -v),L=-v-B,D=j*L-(U-R*B-j*B-R*L),Y=C+D,O=Y-C,jt[0]=C-(Y-O)+(D-O),N=X+Y,O=N-X,F=X-(N-O)+(Y-O),Y=F+U,O=Y-F,jt[1]=F-(Y-O)+(U-O),z=N+Y,O=z-N,jt[2]=N-(z-O)+(Y-O),jt[3]=z,S=dt(4,Rt,4,jt,Ut),X=l*d,I=pt*l,R=I-(I-l),j=l-R,I=pt*d,B=I-(I-d),L=d-B,C=j*L-(X-R*B-j*B-R*L),U=h*v,I=pt*h,R=I-(I-h),j=h-R,I=pt*v,B=I-(I-v),L=v-B,D=j*L-(U-R*B-j*B-R*L),Y=C-D,O=C-Y,Gt[0]=C-(Y+O)+(O-D),N=X+Y,O=N-X,F=X-(N-O)+(Y-O),Y=F-U,O=F-Y,Gt[1]=F-(Y+O)+(O-U),z=N+Y,O=z-N,Gt[2]=N-(z-O)+(Y-O),Gt[3]=z,M=4):(Ut[0]=0,S=1,Gt[0]=0,M=1),0!==f){const t=yt(S,Ut,f,$t);c=re(c,dt(yt(g,Bt,f,qt),qt,yt(t,$t,2*G,Kt),Kt,Zt),Zt);const e=yt(M,Gt,f,Wt);c=re(c,gt(yt(e,Wt,2*G,qt),qt,yt(e,Wt,f,Jt),Jt,yt(t,$t,f,Kt),Kt,Ht,Qt),Qt),0!==v&&(c=re(c,yt(yt(4,It,f,Wt),Wt,v,qt),qt)),0!==d&&(c=re(c,yt(yt(4,Ot,-f,Wt),Wt,d,qt),qt))}if(0!==p){const t=yt(S,Ut,p,$t);c=re(c,dt(yt(y,Lt,p,qt),qt,yt(t,$t,2*q,Kt),Kt,Zt),Zt);const e=yt(M,Gt,p,Wt);c=re(c,gt(yt(e,Wt,2*q,qt),qt,yt(e,Wt,p,Jt),Jt,yt(t,$t,p,Kt),Kt,Ht,Qt),Qt)}}if(0!==l||0!==v){if(0!==h||0!==d||0!==f||0!==p?(X=h*q,I=pt*h,R=I-(I-h),j=h-R,I=pt*q,B=I-(I-q),L=q-B,C=j*L-(X-R*B-j*B-R*L),U=W*p,I=pt*W,R=I-(I-W),j=W-R,I=pt*p,B=I-(I-p),L=p-B,D=j*L-(U-R*B-j*B-R*L),Y=C+D,O=Y-C,Rt[0]=C-(Y-O)+(D-O),N=X+Y,O=N-X,F=X-(N-O)+(Y-O),Y=F+U,O=Y-F,Rt[1]=F-(Y-O)+(U-O),z=N+Y,O=z-N,Rt[2]=N-(z-O)+(Y-O),Rt[3]=z,P=-$,T=-d,X=f*P,I=pt*f,R=I-(I-f),j=f-R,I=pt*P,B=I-(I-P),L=P-B,C=j*L-(X-R*B-j*B-R*L),U=G*T,I=pt*G,R=I-(I-G),j=G-R,I=pt*T,B=I-(I-T),L=T-B,D=j*L-(U-R*B-j*B-R*L),Y=C+D,O=Y-C,jt[0]=C-(Y-O)+(D-O),N=X+Y,O=N-X,F=X-(N-O)+(Y-O),Y=F+U,O=Y-F,jt[1]=F-(Y-O)+(U-O),z=N+Y,O=z-N,jt[2]=N-(z-O)+(Y-O),jt[3]=z,E=dt(4,Rt,4,jt,Dt),X=h*p,I=pt*h,R=I-(I-h),j=h-R,I=pt*p,B=I-(I-p),L=p-B,C=j*L-(X-R*B-j*B-R*L),U=f*d,I=pt*f,R=I-(I-f),j=f-R,I=pt*d,B=I-(I-d),L=d-B,D=j*L-(U-R*B-j*B-R*L),Y=C-D,O=C-Y,Vt[0]=C-(Y+O)+(O-D),N=X+Y,O=N-X,F=X-(N-O)+(Y-O),Y=F-U,O=F-Y,Vt[1]=F-(Y+O)+(O-U),z=N+Y,O=z-N,Vt[2]=N-(z-O)+(Y-O),Vt[3]=z,A=4):(Dt[0]=0,E=1,Vt[0]=0,A=1),0!==l){const t=yt(E,Dt,l,$t);c=re(c,dt(yt(m,Yt,l,qt),qt,yt(t,$t,2*V,Kt),Kt,Zt),Zt);const e=yt(A,Vt,l,Wt);c=re(c,gt(yt(e,Wt,2*V,qt),qt,yt(e,Wt,l,Jt),Jt,yt(t,$t,l,Kt),Kt,Ht,Qt),Qt),0!==d&&(c=re(c,yt(yt(4,Tt,l,Wt),Wt,d,qt),qt)),0!==p&&(c=re(c,yt(yt(4,It,-l,Wt),Wt,p,qt),qt))}if(0!==v){const t=yt(E,Dt,v,$t);c=re(c,dt(yt(x,Nt,v,qt),qt,yt(t,$t,2*J,Kt),Kt,Zt),Zt);const e=yt(A,Vt,v,Wt);c=re(c,gt(yt(e,Wt,2*J,qt),qt,yt(e,Wt,v,Jt),Jt,yt(t,$t,v,Kt),Kt,Ht,Qt),Qt)}}if(0!==h||0!==d){if(0!==f||0!==p||0!==l||0!==v?(X=f*J,I=pt*f,R=I-(I-f),j=f-R,I=pt*J,B=I-(I-J),L=J-B,C=j*L-(X-R*B-j*B-R*L),U=G*v,I=pt*G,R=I-(I-G),j=G-R,I=pt*v,B=I-(I-v),L=v-B,D=j*L-(U-R*B-j*B-R*L),Y=C+D,O=Y-C,Rt[0]=C-(Y-O)+(D-O),N=X+Y,O=N-X,F=X-(N-O)+(Y-O),Y=F+U,O=Y-F,Rt[1]=F-(Y-O)+(U-O),z=N+Y,O=z-N,Rt[2]=N-(z-O)+(Y-O),Rt[3]=z,P=-q,T=-p,X=l*P,I=pt*l,R=I-(I-l),j=l-R,I=pt*P,B=I-(I-P),L=P-B,C=j*L-(X-R*B-j*B-R*L),U=V*T,I=pt*V,R=I-(I-V),j=V-R,I=pt*T,B=I-(I-T),L=T-B,D=j*L-(U-R*B-j*B-R*L),Y=C+D,O=Y-C,jt[0]=C-(Y-O)+(D-O),N=X+Y,O=N-X,F=X-(N-O)+(Y-O),Y=F+U,O=Y-F,jt[1]=F-(Y-O)+(U-O),z=N+Y,O=z-N,jt[2]=N-(z-O)+(Y-O),jt[3]=z,_=dt(4,Rt,4,jt,Ct),X=f*v,I=pt*f,R=I-(I-f),j=f-R,I=pt*v,B=I-(I-v),L=v-B,C=j*L-(X-R*B-j*B-R*L),U=l*p,I=pt*l,R=I-(I-l),j=l-R,I=pt*p,B=I-(I-p),L=p-B,D=j*L-(U-R*B-j*B-R*L),Y=C-D,O=C-Y,zt[0]=C-(Y+O)+(O-D),N=X+Y,O=N-X,F=X-(N-O)+(Y-O),Y=F-U,O=F-Y,zt[1]=F-(Y+O)+(O-U),z=N+Y,O=z-N,zt[2]=N-(z-O)+(Y-O),zt[3]=z,k=4):(Ct[0]=0,_=1,zt[0]=0,k=1),0!==h){const t=yt(_,Ct,h,$t);c=re(c,dt(yt(b,Ft,h,qt),qt,yt(t,$t,2*W,Kt),Kt,Zt),Zt);const e=yt(k,zt,h,Wt);c=re(c,gt(yt(e,Wt,2*W,qt),qt,yt(e,Wt,h,Jt),Jt,yt(t,$t,h,Kt),Kt,Ht,Qt),Qt),0!==p&&(c=re(c,yt(yt(4,Ot,h,Wt),Wt,p,qt),qt)),0!==v&&(c=re(c,yt(yt(4,Tt,-h,Wt),Wt,v,qt),qt))}if(0!==d){const t=yt(_,Ct,d,$t);c=re(c,dt(yt(w,Xt,d,qt),qt,yt(t,$t,2*$,Kt),Kt,Zt),Zt);const e=yt(k,zt,d,Wt);c=re(c,gt(yt(e,Wt,2*$,qt),qt,yt(e,Wt,d,Jt),Jt,yt(t,$t,d,Kt),Kt,Ht,Qt),Qt)}}return te[c-1]}(t,e,r,n,i,o,s,a,E)}(i[2*t],i[2*t+1],i[2*e],i[2*e+1],i[2*r],i[2*r+1],i[2*n],i[2*n+1])<0}isCollinear(t,e,r){const n=this.del.coords;return 0===kt(n[2*t],n[2*t+1],n[2*e],n[2*e+1],n[2*r],n[2*r+1])}}function ae(t,e,r,n,i,o,s,a){const u=kt(t,e,i,o,s,a),c=kt(r,n,i,o,s,a);if(u>0&&c>0||u<0&&c<0)return!1;const f=kt(i,o,t,e,r,n),l=kt(s,a,t,e,r,n);return!(f>0&&l>0||f<0&&l<0||0===u&&0===c&&0===f&&0===l&&(Math.max(i,s)<Math.min(t,r)||Math.max(t,r)<Math.min(i,s)||Math.max(o,a)<Math.min(e,n)||Math.max(e,n)<Math.min(o,a)))}function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ce(t,e,r){if(e||(e=[]),"object"!==ue(t)||"FeatureCollection"!==t.type)throw"Argument points must be FeatureCollection";if(!Array.isArray(e))throw"Argument points must be Array of Array";var n=t.features.map((function(t){return t.geometry.coordinates})),o=ot.from(n),a=[];0!==o.triangles.length&&0!==e.length&&new se(o);for(var u=0;u<o.triangles.length;u+=3)a.push([o.triangles[u],o.triangles[u+1],o.triangles[u+2]]);var c=["a","b","c"];return s(a.map((function(e){var n={},o=e.map((function(e,i){var o=t.features[e],s=o.geometry.coordinates,a=[s[0],s[1]];return 3===s.length?a[2]=s[2]:n[c[i]]=o.properties[r],a}));return o[3]=o[0],i([o],n)})))}function fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function he(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}se.intersectSegments=ae;var pe=2.00703,ve=function(){function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fe(this,r),he(this,"bounds",void 0),he(this,"boundsPolygon",void 0),he(this,"centroid",void 0),he(this,"edgeNodes",void 0),he(this,"edges",void 0),he(this,"importance",void 0),he(this,"indexedTins",void 0),he(this,"kinks",void 0),he(this,"points",[]),he(this,"pointsWeightBuffer",void 0),he(this,"priority",void 0),he(this,"stateBackward",void 0),he(this,"stateFull",void 0),he(this,"stateTriangle",void 0),he(this,"strictMode",void 0),he(this,"strict_status",void 0),he(this,"tins",void 0),he(this,"vertexMode",void 0),he(this,"vertices_params",void 0),he(this,"wh",void 0),he(this,"xy",void 0),he(this,"yaxisMode",void 0),he(this,"pointsSet",void 0),t.bounds?this.setBounds(t.bounds):(this.setWh(t.wh),this.vertexMode=t.vertexMode||r.VERTEX_PLAIN),this.strictMode=t.strictMode||r.MODE_AUTO,this.yaxisMode=t.yaxisMode||r.YAXIS_INVERT,this.importance=t.importance||0,this.priority=t.priority||0,this.stateFull=t.stateFull||!1,t.points&&this.setPoints(t.points),t.edges&&this.setEdges(t.edges)}var n,u;return n=r,(u=[{key:"getFormatVersion",value:function(){return pe}},{key:"setPoints",value:function(t){this.yaxisMode==r.YAXIS_FOLLOW&&(t=t.map((function(t){return[t[0],[t[1][0],-1*t[1][1]]]}))),this.points=t,this.tins=void 0,this.indexedTins=void 0}},{key:"setEdges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.edges=Pe(t),this.edgeNodes=void 0,this.tins=void 0,this.indexedTins=void 0}},{key:"setBounds",value:function(t){this.bounds=t;for(var e=t[0][0],n=e,o=t[0][1],s=o,a=[t[0]],u=1;u<t.length;u++){var c=t[u];c[0]<e&&(e=c[0]),c[0]>n&&(n=c[0]),c[1]<o&&(o=c[1]),c[1]>s&&(s=c[1]),a.push(c)}a.push(t[0]),this.boundsPolygon=i([a]),this.xy=[e,o],this.wh=[n-e,s-o],this.vertexMode=r.VERTEX_PLAIN,this.tins=void 0,this.indexedTins=void 0}},{key:"setCompiled",value:function(t){var n=this;if(t.version||!t.tins&&t.points&&t.tins_points){this.points=t.points,this.pointsWeightBuffer=!t.version||t.version<2.00703?["forw","bakw"].reduce((function(e,r){var n=t.weight_buffer[r];return n&&(e[r]=Object.keys(n).reduce((function(t,e){return t[Ae(e)]=n[e],t}),{})),e}),{}):t.weight_buffer,t.strict_status?this.strict_status=t.strict_status:t.kinks_points?this.strict_status=r.STATUS_ERROR:2==t.tins_points.length?this.strict_status=r.STATUS_LOOSE:this.strict_status=r.STATUS_STRICT,this.vertices_params={forw:[t.vertices_params[0]],bakw:[t.vertices_params[1]]},this.vertices_params.forw[1]=[0,1,2,3].map((function(e){var r=(e+1)%4;return s([Me(["c","b".concat(e),"b".concat(r)],t.points,t.edgeNodes||[],t.centroid_point,t.vertices_points,!1,pe)])})),this.vertices_params.bakw[1]=[0,1,2,3].map((function(e){var r=(e+1)%4;return s([Me(["c","b".concat(e),"b".concat(r)],t.points,t.edgeNodes||[],t.centroid_point,t.vertices_points,!0,pe)])})),this.centroid={forw:e(t.centroid_point[0],{target:{geom:t.centroid_point[1],index:"c"}}),bakw:e(t.centroid_point[1],{target:{geom:t.centroid_point[0],index:"c"}})},this.edges=Pe(t.edges||[]),this.edgeNodes=t.edgeNodes||[];var i=1==t.tins_points.length?0:1;this.tins={forw:s(t.tins_points[0].map((function(e){return Me(e,t.points,t.edgeNodes||[],t.centroid_point,t.vertices_points,!1,t.version)}))),bakw:s(t.tins_points[i].map((function(e){return Me(e,t.points,t.edgeNodes||[],t.centroid_point,t.vertices_points,!0,t.version)})))},this.addIndexedTin(),t.kinks_points&&(this.kinks={bakw:s(t.kinks_points.map((function(t){return e(t)})))}),t.yaxisMode?this.yaxisMode=t.yaxisMode:this.yaxisMode=r.YAXIS_INVERT,t.vertexMode&&(this.vertexMode=t.vertexMode),t.strictMode&&(this.strictMode=t.strictMode),t.bounds?(this.bounds=t.bounds,this.boundsPolygon=t.boundsPolygon,this.xy=t.xy,this.wh=t.wh):(this.xy=[0,0],t.wh&&(this.wh=t.wh),this.bounds=void 0,this.boundsPolygon=void 0)}else!function(){t=JSON.parse(JSON.stringify(t).replace('"cent"','"c"').replace(/"bbox(\d+)"/g,'"b$1"')),n.tins=t.tins,n.addIndexedTin(),n.strict_status=t.strict_status,n.pointsWeightBuffer=t.weight_buffer,n.vertices_params=t.vertices_params,n.centroid=t.centroid,n.kinks=t.kinks;for(var e=[],r=function(t){var r=n.tins.forw.features[t];["a","b","c"].map((function(t,n){var i=r.geometry.coordinates[0][n],o=r.properties[t].geom,s=r.properties[t].index;e[s]=[i,o]}))},i=0;i<n.tins.forw.features.length;i++)r(i);n.points=e}();return{tins:this.tins,strict_status:this.strict_status,weight_buffer:this.pointsWeightBuffer,vertices_params:this.vertices_params,centroid:this.centroid,kinks:this.kinks}}},{key:"getCompiled",value:function(){var t={};t.version=pe,t.points=this.points,t.weight_buffer=this.pointsWeightBuffer,t.centroid_point=[this.centroid.forw.geometry.coordinates,this.centroid.forw.properties.target.geom],t.vertices_params=[this.vertices_params.forw[0],this.vertices_params.bakw[0]],t.vertices_points=[];var e=this.vertices_params.forw[1];return[0,1,2,3].map((function(r){var n=e[r].features[0],i=n.geometry.coordinates[0][1],o=n.properties.b.geom;t.vertices_points[r]=[i,o]})),t.strict_status=this.strict_status,t.tins_points=[[]],this.tins.forw.features.map((function(e){t.tins_points[0].push(["a","b","c"].map((function(t){return e.properties[t].index})))})),this.strict_status==r.STATUS_LOOSE?(t.tins_points[1]=[],this.tins.bakw.features.map((function(e){t.tins_points[1].push(["a","b","c"].map((function(t){return e.properties[t].index})))}))):this.strict_status==r.STATUS_ERROR&&(t.kinks_points=this.kinks.bakw.features.map((function(t){return t.geometry.coordinates}))),t.yaxisMode=this.yaxisMode,t.vertexMode=this.vertexMode,t.strictMode=this.strictMode,this.bounds?(t.bounds=this.bounds,t.boundsPolygon=this.boundsPolygon,t.xy=this.xy,t.wh=this.wh):t.wh=this.wh,t.edges=this.edges,t.edgeNodes=this.edgeNodes,t}},{key:"addIndexedTin",value:function(){var t=this.tins,e=t.forw,r=t.bakw,n=Math.ceil(Math.sqrt(e.features.length));if(n<3)this.indexedTins=void 0;else{var i=[],o=[],s=e.features.map((function(t){var e=[];return f(t)[0].map((function(t){0===i.length?i=[Array.from(t),Array.from(t)]:(t[0]<i[0][0]&&(i[0][0]=t[0]),t[0]>i[1][0]&&(i[1][0]=t[0]),t[1]<i[0][1]&&(i[0][1]=t[1]),t[1]>i[1][1]&&(i[1][1]=t[1])),0===e.length?e=[Array.from(t),Array.from(t)]:(t[0]<e[0][0]&&(e[0][0]=t[0]),t[0]>e[1][0]&&(e[1][0]=t[0]),t[1]<e[0][1]&&(e[0][1]=t[1]),t[1]>e[1][1]&&(e[1][1]=t[1]))})),e})),a=(i[1][0]-i[0][0])/n,u=(i[1][1]-i[0][1])/n,c=s.reduce((function(t,e,r){for(var o=_e(e[0][0],i[0][0],a,n),s=_e(e[1][0],i[0][0],a,n),c=_e(e[0][1],i[0][1],u,n),f=_e(e[1][1],i[0][1],u,n),l=o;l<=s;l++){t[l]||(t[l]=[]);for(var h=c;h<=f;h++)t[l][h]||(t[l][h]=[]),t[l][h].push(r)}return t}),[]),l=r.features.map((function(t){var e=[];return f(t)[0].map((function(t){0===o.length?o=[Array.from(t),Array.from(t)]:(t[0]<o[0][0]&&(o[0][0]=t[0]),t[0]>o[1][0]&&(o[1][0]=t[0]),t[1]<o[0][1]&&(o[0][1]=t[1]),t[1]>o[1][1]&&(o[1][1]=t[1])),0===e.length?e=[Array.from(t),Array.from(t)]:(t[0]<e[0][0]&&(e[0][0]=t[0]),t[0]>e[1][0]&&(e[1][0]=t[0]),t[1]<e[0][1]&&(e[0][1]=t[1]),t[1]>e[1][1]&&(e[1][1]=t[1]))})),e})),h=(o[1][0]-o[0][0])/n,p=(o[1][1]-o[0][1])/n,v=l.reduce((function(t,e,r){for(var i=_e(e[0][0],o[0][0],h,n),s=_e(e[1][0],o[0][0],h,n),a=_e(e[0][1],o[0][1],p,n),u=_e(e[1][1],o[0][1],p,n),c=i;c<=s;c++){t[c]||(t[c]=[]);for(var f=a;f<=u;f++)t[c][f]||(t[c][f]=[]),t[c][f].push(r)}return t}),[]);this.indexedTins={forw:{gridNum:n,xOrigin:i[0][0],yOrigin:i[0][1],xUnit:a,yUnit:u,gridCache:c},bakw:{gridNum:n,xOrigin:o[0][0],yOrigin:o[0][1],xUnit:h,yUnit:p,gridCache:v}}}}},{key:"setWh",value:function(t){this.wh=t,this.xy=[0,0],this.bounds=void 0,this.boundsPolygon=void 0,this.tins=void 0,this.indexedTins=void 0}},{key:"setVertexMode",value:function(t){this.vertexMode=t,this.tins=void 0,this.indexedTins=void 0}},{key:"setStrictMode",value:function(t){this.strictMode=t,this.tins=void 0,this.indexedTins=void 0}},{key:"calcurateStrictTinAsync",value:function(){var t=this,n=this.pointsSet.edges;return Promise.all(this.tins.forw.features.map((function(t){return Promise.resolve(Ee(t))}))).then((function(e){t.tins.bakw=s(e)})).then((function(){var e={};return Promise.all(t.tins.forw.features.map((function(r,n){var i=t.tins.bakw.features[n];return Promise.resolve(Oe(e,{forw:r,bakw:i}))}))).then((function(){return Promise.all([Te(e),Promise.resolve(e)])})).catch((function(t){throw t}))})).then((function(o){var u=o[0],c=o[1];return u.bakw&&Object.keys(u.bakw).map((function(e){if("Not include case"!=u.bakw[e]){var r=c[e],o=function(t,e,r){void 0===r&&(r={});var n=l(t),o=l(e),s=b.union(n.coordinates,o.coordinates);return 0===s.length?null:1===s.length?i(s[0],r.properties):a(s,r.properties)}(r[0].forw,r[1].forw),f=x(s([r[0].forw,r[1].forw]));if(m=o,w=l(y=f),_=l(m),S=y.properties||{},0===(E=b.difference(w.coordinates,_.coordinates)).length||!(1===E.length?i(E[0],S):a(E,S))){var h=e.split("-");if(h[0].match(/^[0-9]+$/)&&h[1].match(/^[0-9]+$/))for(var p=h.map((function(t){return parseInt(t)})).sort((function(t,e){return t<e?-1:1})),v=0;v<n.length-1;v++)if(p[0]==n[v][0]&&p[1]==n[v][1])return;var d=h.map((function(t){return["a","b","c"].map((function(t,e){var n=r[0].bakw.properties[t];return{geom:r[0].bakw.geometry.coordinates[0][e],prop:n}})).filter((function(e){return e.prop.index==t}))[0]})),g=r.map((function(t){return["a","b","c"].map((function(e,r){var n=t.bakw.properties[e];return{geom:t.bakw.geometry.coordinates[0][r],prop:n}})).filter((function(t){return t.prop.index!=d[0].prop.index&&t.prop.index!=d[1].prop.index}))[0]}));Ie(c,r[0],t.tins),Ie(c,r[1],t.tins),d.map((function(e){var r=i([[e.geom,g[0].geom,g[1].geom,e.geom]],{a:e.prop,b:g[0].prop,c:g[1].prop}),n=Ee(r);Oe(c,{forw:n,bakw:r},t.tins)}))}}var y,m,w,_,S,E})),Promise.all(["forw","bakw"].map((function(r){return new Promise((function(n){var i;n((i=t.tins[r].features.map((function(t){return t.geometry.coordinates[0]})),G(new P(i).findSegmentIntersections()).reduce((function(t,r,n,i){return t||(t={}),t["".concat(r.x,":").concat(r.y)]=r,n!=i.length-1?t:Object.keys(t).map((function(r){return e([t[r].x,t[r].y])}))}),[])))})).catch((function(t){throw t}))}))).then((function(e){0==e[0].length&&0==e[1].length?(t.strict_status=r.STATUS_STRICT,delete t.kinks):(t.strict_status=r.STATUS_ERROR,t.kinks={},e[0].length>0&&(t.kinks.forw=s(e[0])),e[1].length>0&&(t.kinks.bakw=s(e[1])))})).catch((function(t){throw t}))})).catch((function(t){throw t}))}},{key:"generatePointsSet",value:function(){for(var t=this,e={forw:[],bakw:[]},r=0;r<this.points.length;r++){var n=me(this.points[r][0],this.points[r][1],r);e.forw.push(n),e.bakw.push(xe(n))}var i=[],o=0;this.edgeNodes=[],this.edges||(this.edges=[]);for(var a=function(r){var n=t.edges[r][2],s=Object.assign([],t.edges[r][0]),a=Object.assign([],t.edges[r][1]);if(0===s.length&&0===a.length)return i.push(n),"continue";s.unshift(t.points[n[0]][0]),s.push(t.points[n[1]][0]),a.unshift(t.points[n[0]][1]),a.push(t.points[n[1]][1]);var u=[s,a].map((function(t){var e=t.map((function(t,e,r){if(0===e)return 0;var n=r[e-1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))})),r=e.reduce((function(t,e,r){return 0===r?[0]:(t.push(t[r-1]+e),t)}),[]);return r.map((function(n,i,o){var s=n/o[o.length-1];return[t[i],e[i],r[i],s]}))}));u.map((function(t,e){var r=u[e?0:1];return t.filter((function(e,r){return!(0===r||r===t.length-1||"handled"===e[4])})).map((function(t){var n=t[0],i=t[3],o=r.reduce((function(t,e,r,n){if(t)return t;var o=n[r+1];return e[3]===i?(e[4]="handled",[e]):e[3]<i&&o[3]>i?[e,o]:void 0}),void 0);if(1===o.length)return 0===e?[n,o[0][0],i]:[o[0][0],n,i];var s=o[0],a=o[1],u=(i-s[3])/(a[3]-s[3]),c=[(a[0][0]-s[0][0])*u+s[0][0],(a[0][1]-s[0][1])*u+s[0][1]];return 0===e?[n,c,i]:[c,n,i]}))})).reduce((function(t,e){return t.concat(e)}),[]).sort((function(t,e){return t[2]<e[2]?-1:1})).map((function(r,s,a){t.edgeNodes[o]=[r[0],r[1]];var u=me(r[0],r[1],"e".concat(o));o++,e.forw.push(u),e.bakw.push(xe(u)),0===s?i.push([n[0],e.forw.length-1]):i.push([e.forw.length-2,e.forw.length-1]),s===a.length-1&&i.push([e.forw.length-1,n[1]])}))},u=0;u<this.edges.length;u++)a(u);return{forw:s(e.forw),bakw:s(e.bakw),edges:i}}},{key:"updateTinAsync",value:function(){var n=this,i=this.strictMode,a=this.xy[0]-.05*this.wh[0],u=this.xy[0]+1.05*this.wh[0],c=this.xy[1]-.05*this.wh[1],l=this.xy[1]+1.05*this.wh[1],p=this.bounds?function(t){return h(t,n.boundsPolygon)}:function(t){return t[0]>=n.xy[0]&&t[0]<=n.xy[0]+n.wh[0]&&t[1]>=n.xy[1]&&t[1]<=n.xy[1]+n.wh[1]};return this.points.reduce((function(t,e){return t&&p(e[0])}),!0)?new Promise((function(t){i!=r.MODE_STRICT&&i!=r.MODE_LOOSE&&(i=r.MODE_AUTO);var e=[];n.wh&&(e=[[a,c],[u,c],[a,l],[u,l]]),t([n.generatePointsSet(),e])})).then((function(t){var r=t[0];return Promise.all([new Promise((function(t){t(ce(r.forw,r.edges,"target"))})),new Promise((function(t){t(ce(r.bakw,r.edges,"target"))})),new Promise((function(t){t(function(t,r){void 0===r&&(r={});var n=0,i=0,o=0;return d(t,(function(t){n+=t[0],i+=t[1],o++}),!0),e([n/o,i/o],r.properties)}(r.forw))})),Promise.resolve(t)]).catch((function(t){throw t}))})).then((function(t){var r=t[0],i=t[1],o=t[2],s=t[3],a=s[0];if(0==r.features.length||0==i.features.length)throw"TOO LINEAR1";var u={forw:o.geometry.coordinates,bakw:Se(o,r)},c=me(u.forw,u.bakw,"c");n.centroid={forw:c,bakw:xe(c)};var f={};return Promise.all([new Promise((function(t){var n,i=x(a.forw).geometry.coordinates[0];try{n=i.map((function(t){return{forw:t,bakw:Se(e(t),r)}}))}catch(t){throw"TOO LINEAR2"}n.map((function(t){f["".concat(t.forw[0],":").concat(t.forw[1])]=t})),t(void 0)})),new Promise((function(t){var r,n=x(a.bakw).geometry.coordinates[0];try{r=n.map((function(t){return{bakw:t,forw:Se(e(t),i)}}))}catch(t){throw"TOO LINEAR2"}r.map((function(t){f["".concat(t.forw[0],":").concat(t.forw[1])]=t})),t(void 0)}))]).then((function(){return[u,f,s]})).catch((function(t){throw t}))})).then((function(t){var e=t[0],i=t[1],o=t[2],s=Object.keys(i).reduce((function(t,r,n,o){var s=i[r].forw,f=i[r].bakw,h={forw:[s[0]-e.forw[0],s[1]-e.forw[1]]};h.bakw=[f[0]-e.bakw[0],f[1]-e.bakw[1]];var p=0==h.forw[0]?1/0:((h.forw[0]<0?a:u)-e.forw[0])/h.forw[0],v=0==h.forw[1]?1/0:((h.forw[1]<0?c:l)-e.forw[1])/h.forw[1];if(Math.abs(p)/Math.abs(v)<1.1){var d={forw:[h.forw[0]*p+e.forw[0],h.forw[1]*p+e.forw[1]],bakw:[h.bakw[0]*p+e.bakw[0],h.bakw[1]*p+e.bakw[1]]};h.forw[0]<0?t[3].push(d):t[1].push(d)}if(Math.abs(v)/Math.abs(p)<1.1){var g={forw:[h.forw[0]*v+e.forw[0],h.forw[1]*v+e.forw[1]],bakw:[h.bakw[0]*v+e.bakw[0],h.bakw[1]*v+e.bakw[1]]};h.forw[1]<0?t[0].push(g):t[2].push(g)}return t}),[[],[],[],[]]),f=Object.keys(i).reduce((function(t,o,s,a){var u=i[o].forw,c=i[o].bakw,f={forw:[u[0]-e.forw[0],u[1]-e.forw[1]]};if(f.bakw=[c[0]-e.bakw[0],e.bakw[1]-c[1]],0==f.forw[0]||0==f.forw[1])return t;var l=0;return f.forw[0]>0&&(l+=1),f.forw[1]>0&&(l+=2),t[l].push([f.forw,f.bakw]),s==a.length-1?t.length==t.filter((function(t){return t.length>0})).length&&n.vertexMode==r.VERTEX_BIRDEYE?t:t.reduce((function(t,e){return[t[0].concat(e)]}),[[]]):t}),[[],[],[],[]]).map((function(t){return t.reduce((function(t,e,r,n){t||(t=[1/0,0,0]);var i=Math.sqrt(Math.pow(e[0][0],2)+Math.pow(e[0][1],2))/Math.sqrt(Math.pow(e[1][0],2)+Math.pow(e[1][1],2));i=i<t[0]?i:t[0];var o=Math.atan2(e[0][0],e[0][1])-Math.atan2(e[1][0],e[1][1]),s=t[1]+Math.cos(o),a=t[2]+Math.sin(o);return r==n.length-1?[i,Math.atan2(a,s)]:[i,s,a]}),null)}));return 1==f.length&&(f=[f[0],f[0],f[0],f[0]]),[f,e,s,o]})).then((function(e){var r=e[0],n=e[1],i=e[2],a=e[3][0],u=e[3][1],c=r.map((function(t,e){var r=u[e],i=[r[0]-n.forw[0],r[1]-n.forw[1]],o=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2))/t[0],s=Math.atan2(i[0],i[1])-t[1];return{forw:r,bakw:[n.bakw[0]+o*Math.sin(s),n.bakw[1]-o*Math.cos(s)]}})),l=c[2];c[2]=c[3],c[3]=l;for(var h=[1,1,1,1],p=function(e){var r=(e+1)%4,a=o([c[e].bakw,c[r].bakw]);i[e].map((function(i){var u=o([n.bakw,i.bakw]),c=function(e,r){var n={},i=[];if("LineString"===e.type&&(e=t(e)),"LineString"===r.type&&(r=t(r)),"Feature"===e.type&&"Feature"===r.type&&null!==e.geometry&&null!==r.geometry&&"LineString"===e.geometry.type&&"LineString"===r.geometry.type&&2===e.geometry.coordinates.length&&2===r.geometry.coordinates.length){var o=S(e,r);return o&&i.push(o),s(i)}var a=_();return a.load(w(r)),g(w(e),(function(t){g(a.search(t),(function(e){var r=S(t,e);if(r){var o=f(r).join(",");n[o]||(n[o]=!0,i.push(r))}}))})),s(i)}(a,u);if(c.features.length>0&&c.features[0].geometry){var l=c.features[0],p=Math.sqrt(Math.pow(i.bakw[0]-n.bakw[0],2)+Math.pow(i.bakw[1]-n.bakw[1],2))/Math.sqrt(Math.pow(l.geometry.coordinates[0]-n.bakw[0],2)+Math.pow(l.geometry.coordinates[1]-n.bakw[1],2));p>h[e]&&(h[e]=p),p>h[r]&&(h[r]=p)}}))},v=0;v<4;v++)p(v);return[c=c.map((function(t,e){var r=h[e],i=[(t.bakw[0]-n.bakw[0])*r+n.bakw[0],(t.bakw[1]-n.bakw[1])*r+n.bakw[1]];return{forw:t.forw,bakw:i}})),a]})).then((function(t){for(var e=t[0],o=t[1],s={forw:[],bakw:[]},a=0;a<e.length;a++){var u=me(e[a].forw,e[a].bakw,"b".concat(a)),c=xe(u);o.forw.features.push(u),o.bakw.features.push(c),s.forw.push(u),s.bakw.push(c)}return n.pointsSet=o,n.tins={forw:de(ce(o.forw,o.edges,"target"))},(i==r.MODE_STRICT||i==r.MODE_AUTO?n.calcurateStrictTinAsync():Promise.resolve()).then((function(){return(i==r.MODE_LOOSE||i==r.MODE_AUTO&&n.strict_status==r.STATUS_ERROR)&&(n.tins.bakw=de(ce(o.bakw,o.edges,"target")),delete n.kinks,n.strict_status=r.STATUS_LOOSE),n.vertices_params={forw:ge(s.forw,n.centroid.forw),bakw:ge(s.bakw,n.centroid.bakw)},n.addIndexedTin(),n.calculatePointsWeightAsync()})).catch((function(t){throw t}))})).catch((function(t){throw t})):new Promise((function(t,e){e("SOME POINTS OUTSIDE")}))}},{key:"transform",value:function(t,n,i){var o=this;if(n&&this.strict_status==r.STATUS_ERROR)throw'Backward transform is not allowed if strict_status == "strict_error"';this.yaxisMode==r.YAXIS_FOLLOW&&n&&(t=[t[0],-1*t[1]]);var s=e(t);if(this.bounds&&!n&&!i&&!h(s,this.boundsPolygon))return!1;var a=n?this.tins.bakw:this.tins.forw,u=n?this.indexedTins.bakw:this.indexedTins.forw,c=n?this.vertices_params.bakw:this.vertices_params.forw,f=n?this.centroid.bakw:this.centroid.forw,l=n?this.pointsWeightBuffer.bakw:this.pointsWeightBuffer.forw,p=void 0,v=void 0;this.stateFull&&(this.stateBackward==n?p=this.stateTriangle:(this.stateBackward=n,this.stateTriangle=void 0),v=function(t){o.stateTriangle=t});var d=Se(s,a,u,c,f,l,p,v);if(this.bounds&&n&&!i){if(!h(e(d),this.boundsPolygon))return!1}else this.yaxisMode!=r.YAXIS_FOLLOW||n||(d=[d[0],-1*d[1]]);return d}},{key:"calculatePointsWeightAsync",value:function(){var t=this,e=["forw"];this.strict_status==r.STATUS_LOOSE&&e.push("bakw");var n={};return Promise.all(e.map((function(e){n[e]={};var r={},i=t.tins[e];return Promise.all(i.features.map((function(t){var i=["a","b","c"];return new Promise((function(o){for(var s=0;s<3;s++){var a=(s+1)%3,u=i[s],c=i[a],f=t.properties[u].index,l=t.properties[c].index,h=[f,l].sort().join("-");if(!r[h]){var p=t.geometry.coordinates[0][s],v=t.geometry.coordinates[0][a],d=t.properties[u].geom,g=t.properties[c].geom;r[h]=1;var y=Math.sqrt(Math.pow(d[0]-g[0],2)+Math.pow(d[1]-g[1],2))/Math.sqrt(Math.pow(p[0]-v[0],2)+Math.pow(p[1]-v[1],2));n[e][f]||(n[e][f]={}),n[e][l]||(n[e][l]={}),n[e][f][h]=y,n[e][l][h]=y}}o(void 0)}))}))).catch((function(t){throw t}))}))).then((function(){var i={};e.map((function(e){i[e]={},t.strict_status==r.STATUS_STRICT&&(i.bakw={}),Object.keys(n[e]).map((function(o){i[e][o]=Object.keys(n[e][o]).reduce((function(t,r,i,s){return t+=n[e][o][r],i==s.length-1?t/s.length:t}),0),t.strict_status==r.STATUS_STRICT&&(i.bakw[o]=1/i[e][o])})),i[e].c=[0,1,2,3].reduce((function(t,r){var n="b".concat(r);return t+=i[e][n],3==r?t/4:t}),0),t.strict_status==r.STATUS_STRICT&&(i.bakw.c=1/i[e].c)})),t.pointsWeightBuffer=i})).catch((function(t){throw t}))}}])&&le(n.prototype,u),r}();function de(t){for(var e=t.features,r=0;r<e.length;r++){var n=e[r];"b"==="".concat(n.properties.a.index).substring(0,1)&&"b"==="".concat(n.properties.b.index).substring(0,1)?e[r]={geometry:{type:"Polygon",coordinates:[[n.geometry.coordinates[0][2],n.geometry.coordinates[0][0],n.geometry.coordinates[0][1],n.geometry.coordinates[0][2]]]},properties:{a:{geom:n.properties.c.geom,index:n.properties.c.index},b:{geom:n.properties.a.geom,index:n.properties.a.index},c:{geom:n.properties.b.geom,index:n.properties.b.index}},type:"Feature"}:"b"==="".concat(n.properties.c.index).substring(0,1)&&"b"==="".concat(n.properties.a.index).substring(0,1)&&(e[r]={geometry:{type:"Polygon",coordinates:[[n.geometry.coordinates[0][1],n.geometry.coordinates[0][2],n.geometry.coordinates[0][0],n.geometry.coordinates[0][1]]]},properties:{a:{geom:n.properties.b.geom,index:n.properties.b.index},b:{geom:n.properties.c.geom,index:n.properties.c.index},c:{geom:n.properties.a.geom,index:n.properties.a.index}},type:"Feature"})}return t}function ge(t,e){var r=e.geometry.coordinates;return[0,1,2,3].map((function(n){var o=(n+1)%4,a=t[n],u=t[o],c=a.geometry.coordinates;return[Math.atan2(c[0]-r[0],c[1]-r[1]),s([i([[e,a,u,e].map((function(t){return t.geometry.coordinates}))],{a:{geom:e.properties.target.geom,index:e.properties.target.index},b:{geom:a.properties.target.geom,index:a.properties.target.index},c:{geom:u.properties.target.geom,index:u.properties.target.index}})])]})).reduce((function(t,e){return t[0].push(e[0]),t[1].push(e[1]),t}),[[],[]])}function ye(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e?function(t){return!(t>=0&&t<2*Math.PI)}:function(t){return!(t>-1*Math.PI&&t<=Math.PI)};r(t);)t+=2*Math.PI*(t>0?-1:1);return t}function me(t,r,n){return e(t,{target:{geom:r,index:n}})}function xe(t){return e(t.properties.target.geom,{target:{geom:t.geometry.coordinates,index:t.properties.target.index}})}function be(t,e,r){var n=e.geometry.coordinates[0][0],i=e.geometry.coordinates[0][1],o=e.geometry.coordinates[0][2],s=t.geometry.coordinates,a=e.properties.a.geom,u=e.properties.b.geom,c=e.properties.c.geom,f=[i[0]-n[0],i[1]-n[1]],l=[o[0]-n[0],o[1]-n[1]],h=[s[0]-n[0],s[1]-n[1]],p=[u[0]-a[0],u[1]-a[1]],v=[c[0]-a[0],c[1]-a[1]],d=(l[1]*h[0]-l[0]*h[1])/(f[0]*l[1]-f[1]*l[0]),g=(f[0]*h[1]-f[1]*h[0])/(f[0]*l[1]-f[1]*l[0]);if(r){var y,m=r[e.properties.a.index],x=r[e.properties.b.index],b=r[e.properties.c.index];if(d<0||g<0||1-d-g<0){var w=d/(d+g),_=g/(d+g);y=d/x/(w/x+_/b),g=g/b/(w/x+_/b)}else y=d/x/(d/x+g/b+(1-d-g)/m),g=g/b/(d/x+g/b+(1-d-g)/m);d=y}return[d*p[0]+g*v[0]+a[0],d*p[1]+g*v[1]+a[1]]}function we(t,e){for(var r=0;r<e.features.length;r++)if(h(t,e.features[r]))return e.features[r]}function _e(t,e,r,n){var i=Math.floor((t-e)/r);return i>=n&&(i=n-1),i}function Se(t,e,r,n,i,o,a,u){var c;if(a&&(c=we(t,s([a]))),!c){if(r){var f=t.geometry.coordinates,l=r.gridNum,h=r.xOrigin,p=r.yOrigin,v=r.xUnit,d=r.yUnit,g=r.gridCache,y=_e(f[0],h,v,l),m=_e(f[1],p,d,l),x=g[y]&&g[y][m]?g[y][m]:[];e=s(x.map((function(t){return e.features[t]})))}c=we(t,e)}return u&&u(c),c?be(t,c,o):function(t,e,r,n){var i=t.geometry.coordinates,o=r.geometry.coordinates,s=function(t,e){for(var r,n=ye(t-e[0]),i=2*Math.PI,o=0;o<e.length;o++){var s=ye(t-e[(o+1)%e.length]),a=Math.min(Math.abs(n),Math.abs(s));n*s<=0&&a<i&&(i=a,r=o),n=s}return r}(Math.atan2(i[0]-o[0],i[1]-o[1]),e[0]);return be(t,e[1][s].features[0],n)}(t,n,i,o)}function Ee(t){var e=["a","b","c","a"].map((function(e){return t.properties[e].geom})),r=t.geometry.coordinates[0],n=t.properties;return i([e],{a:{geom:r[0],index:n.a.index},b:{geom:r[1],index:n.b.index},c:{geom:r[2],index:n.c.index}})}function ke(t){return i([[0,1,2,0].map((function(e){return t[e][0][0]}))],{a:{geom:t[0][0][1],index:t[0][1]},b:{geom:t[1][0][1],index:t[1][1]},c:{geom:t[2][0][1],index:t[2][1]}})}function Me(t,e,r,n,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0,a=t.map((function(t){(!s||s<2.00703)&&(t=Ae(t));var a=isFinite(t)?e[t]:"c"===t?n:"b0"===t?i[0]:"b1"===t?i[1]:"b2"===t?i[2]:"b3"===t?i[3]:function(){var e=t.match(/e(\d+)/);if(e){var n=parseInt(e[1]);return r[n]}throw"Bad index value for indexesToTri"}();return o?[[a[1],a[0]],t]:[[a[0],a[1]],t]}));return ke(a)}function Ae(t){return"number"==typeof t?t:t.replace(/^(c|e|b)(?:ent|dgeNode|box)(\d+)?$/,"$1$2")}function Pe(t,e){return e&&e>=2.00703||Array.isArray(t[0])?t:t.map((function(t){return[t.illstNodes,t.mercNodes,t.startEnd]}))}function Te(t){var e={forw:{},bakw:{}};return Promise.all(Object.keys(t).map((function(e){return new Promise((function(r){var n=t[e];if(n.length<2)return r(void 0);["forw","bakw"].map((function(t){var e=function(t,e,r){void 0===r&&(r={});var n=l(t),o=l(e),s=b.intersection(n.coordinates,o.coordinates);return 0===s.length?null:1===s.length?i(s[0],r.properties):a(s,r.properties)}(n[0][t],n[1][t]);if(!e||"Point"==e.geometry.type||"LineString"==e.geometry.type)return r(void 0);r(void 0)}))}))}))).then((function(){return 0==Object.keys(e.forw).length&&delete e.forw,0==Object.keys(e.bakw).length&&delete e.bakw,e})).catch((function(t){throw t}))}function Oe(t,e,r){var n=Re(e.forw),i=Re(e.bakw);if(JSON.stringify(n)!=JSON.stringify(i))throw"".concat(JSON.stringify(e,null,2),"\n").concat(JSON.stringify(n),"\n").concat(JSON.stringify(i));for(var o=0;o<n.length;o++){var s=n[o];t[s]||(t[s]=[]),t[s].push(e)}r&&(r.forw.features.push(e.forw),r.bakw.features.push(e.bakw))}function Ie(t,e,r){var n=Re(e.forw),i=Re(e.bakw);if(JSON.stringify(n)!=JSON.stringify(i))throw"".concat(JSON.stringify(e,null,2),"\n").concat(JSON.stringify(n),"\n").concat(JSON.stringify(i));for(var o=0;o<n.length;o++){var s=n[o],a=t[s].filter((function(t){return t.forw!=e.forw}));0==a.length?delete t[s]:t[s]=a}if(r){var u=r.forw.features.filter((function(t){return t!=e.forw}));r.forw.features=u,u=r.bakw.features.filter((function(t){return t!=e.bakw})),r.bakw.features=u}}function Re(t){var e=["a","b","c"].map((function(e){return t.properties[e].index}));return[[0,1],[0,2],[1,2],[0,1,2]].map((function(t){return t.map((function(t){return e[t]})).sort().join("-")})).sort()}he(ve,"VERTEX_PLAIN","plain"),he(ve,"VERTEX_BIRDEYE","birdeye"),he(ve,"MODE_STRICT","strict"),he(ve,"MODE_AUTO","auto"),he(ve,"MODE_LOOSE","loose"),he(ve,"STATUS_STRICT","strict"),he(ve,"STATUS_ERROR","strict_error"),he(ve,"STATUS_LOOSE","loose"),he(ve,"YAXIS_FOLLOW","follow"),he(ve,"YAXIS_INVERT","invert"),r.g.Tin=ve})(),n})()}));
//# sourceMappingURL=index.js.map