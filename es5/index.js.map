{"version":3,"sources":["webpack://@maplat/tin/webpack/universalModuleDefinition","webpack://@maplat/tin/./node_modules/@turf/bbox/dist/js/index.js","webpack://@maplat/tin/./node_modules/@turf/helpers/dist/js/index.js","webpack://@maplat/tin/./node_modules/@turf/meta/dist/js/index.js","webpack://@maplat/tin/./node_modules/concaveman/index.js","webpack://@maplat/tin/./node_modules/concaveman/node_modules/rbush/rbush.min.js","webpack://@maplat/tin/./node_modules/core-js/internals/a-function.js","webpack://@maplat/tin/./node_modules/core-js/internals/a-possible-prototype.js","webpack://@maplat/tin/./node_modules/core-js/internals/add-to-unscopables.js","webpack://@maplat/tin/./node_modules/core-js/internals/advance-string-index.js","webpack://@maplat/tin/./node_modules/core-js/internals/an-instance.js","webpack://@maplat/tin/./node_modules/core-js/internals/an-object.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-buffer-native.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-buffer-view-core.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-buffer.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-copy-within.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-fill.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-from.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-includes.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-iteration.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-last-index-of.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-method-has-species-support.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-method-is-strict.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-reduce.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-sort.js","webpack://@maplat/tin/./node_modules/core-js/internals/array-species-create.js","webpack://@maplat/tin/./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack://@maplat/tin/./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack://@maplat/tin/./node_modules/core-js/internals/classof-raw.js","webpack://@maplat/tin/./node_modules/core-js/internals/classof.js","webpack://@maplat/tin/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://@maplat/tin/./node_modules/core-js/internals/correct-prototype-getter.js","webpack://@maplat/tin/./node_modules/core-js/internals/create-iterator-constructor.js","webpack://@maplat/tin/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://@maplat/tin/./node_modules/core-js/internals/create-property-descriptor.js","webpack://@maplat/tin/./node_modules/core-js/internals/create-property.js","webpack://@maplat/tin/./node_modules/core-js/internals/define-iterator.js","webpack://@maplat/tin/./node_modules/core-js/internals/define-well-known-symbol.js","webpack://@maplat/tin/./node_modules/core-js/internals/descriptors.js","webpack://@maplat/tin/./node_modules/core-js/internals/document-create-element.js","webpack://@maplat/tin/./node_modules/core-js/internals/dom-iterables.js","webpack://@maplat/tin/./node_modules/core-js/internals/engine-ff-version.js","webpack://@maplat/tin/./node_modules/core-js/internals/engine-is-browser.js","webpack://@maplat/tin/./node_modules/core-js/internals/engine-is-ie-or-edge.js","webpack://@maplat/tin/./node_modules/core-js/internals/engine-is-ios.js","webpack://@maplat/tin/./node_modules/core-js/internals/engine-is-node.js","webpack://@maplat/tin/./node_modules/core-js/internals/engine-is-webos-webkit.js","webpack://@maplat/tin/./node_modules/core-js/internals/engine-user-agent.js","webpack://@maplat/tin/./node_modules/core-js/internals/engine-v8-version.js","webpack://@maplat/tin/./node_modules/core-js/internals/engine-webkit-version.js","webpack://@maplat/tin/./node_modules/core-js/internals/enum-bug-keys.js","webpack://@maplat/tin/./node_modules/core-js/internals/export.js","webpack://@maplat/tin/./node_modules/core-js/internals/fails.js","webpack://@maplat/tin/./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack://@maplat/tin/./node_modules/core-js/internals/function-bind-context.js","webpack://@maplat/tin/./node_modules/core-js/internals/get-built-in.js","webpack://@maplat/tin/./node_modules/core-js/internals/get-iterator-method.js","webpack://@maplat/tin/./node_modules/core-js/internals/get-substitution.js","webpack://@maplat/tin/./node_modules/core-js/internals/global.js","webpack://@maplat/tin/./node_modules/core-js/internals/has.js","webpack://@maplat/tin/./node_modules/core-js/internals/hidden-keys.js","webpack://@maplat/tin/./node_modules/core-js/internals/host-report-errors.js","webpack://@maplat/tin/./node_modules/core-js/internals/html.js","webpack://@maplat/tin/./node_modules/core-js/internals/ie8-dom-define.js","webpack://@maplat/tin/./node_modules/core-js/internals/ieee754.js","webpack://@maplat/tin/./node_modules/core-js/internals/indexed-object.js","webpack://@maplat/tin/./node_modules/core-js/internals/inherit-if-required.js","webpack://@maplat/tin/./node_modules/core-js/internals/inspect-source.js","webpack://@maplat/tin/./node_modules/core-js/internals/internal-state.js","webpack://@maplat/tin/./node_modules/core-js/internals/is-array-iterator-method.js","webpack://@maplat/tin/./node_modules/core-js/internals/is-array.js","webpack://@maplat/tin/./node_modules/core-js/internals/is-forced.js","webpack://@maplat/tin/./node_modules/core-js/internals/is-object.js","webpack://@maplat/tin/./node_modules/core-js/internals/is-pure.js","webpack://@maplat/tin/./node_modules/core-js/internals/is-regexp.js","webpack://@maplat/tin/./node_modules/core-js/internals/iterate.js","webpack://@maplat/tin/./node_modules/core-js/internals/iterator-close.js","webpack://@maplat/tin/./node_modules/core-js/internals/iterators-core.js","webpack://@maplat/tin/./node_modules/core-js/internals/iterators.js","webpack://@maplat/tin/./node_modules/core-js/internals/microtask.js","webpack://@maplat/tin/./node_modules/core-js/internals/native-promise-constructor.js","webpack://@maplat/tin/./node_modules/core-js/internals/native-symbol.js","webpack://@maplat/tin/./node_modules/core-js/internals/native-weak-map.js","webpack://@maplat/tin/./node_modules/core-js/internals/new-promise-capability.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-assign.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-create.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-define-properties.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-define-property.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-get-prototype-of.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-keys-internal.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-keys.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-set-prototype-of.js","webpack://@maplat/tin/./node_modules/core-js/internals/object-to-string.js","webpack://@maplat/tin/./node_modules/core-js/internals/own-keys.js","webpack://@maplat/tin/./node_modules/core-js/internals/path.js","webpack://@maplat/tin/./node_modules/core-js/internals/perform.js","webpack://@maplat/tin/./node_modules/core-js/internals/promise-resolve.js","webpack://@maplat/tin/./node_modules/core-js/internals/redefine-all.js","webpack://@maplat/tin/./node_modules/core-js/internals/redefine.js","webpack://@maplat/tin/./node_modules/core-js/internals/regexp-exec-abstract.js","webpack://@maplat/tin/./node_modules/core-js/internals/regexp-exec.js","webpack://@maplat/tin/./node_modules/core-js/internals/regexp-flags.js","webpack://@maplat/tin/./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack://@maplat/tin/./node_modules/core-js/internals/regexp-unsupported-dot-all.js","webpack://@maplat/tin/./node_modules/core-js/internals/regexp-unsupported-ncg.js","webpack://@maplat/tin/./node_modules/core-js/internals/require-object-coercible.js","webpack://@maplat/tin/./node_modules/core-js/internals/set-global.js","webpack://@maplat/tin/./node_modules/core-js/internals/set-species.js","webpack://@maplat/tin/./node_modules/core-js/internals/set-to-string-tag.js","webpack://@maplat/tin/./node_modules/core-js/internals/shared-key.js","webpack://@maplat/tin/./node_modules/core-js/internals/shared-store.js","webpack://@maplat/tin/./node_modules/core-js/internals/shared.js","webpack://@maplat/tin/./node_modules/core-js/internals/species-constructor.js","webpack://@maplat/tin/./node_modules/core-js/internals/string-multibyte.js","webpack://@maplat/tin/./node_modules/core-js/internals/task.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-absolute-index.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-index.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-indexed-object.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-integer.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-length.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-object.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-offset.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-positive-integer.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-primitive.js","webpack://@maplat/tin/./node_modules/core-js/internals/to-string-tag-support.js","webpack://@maplat/tin/./node_modules/core-js/internals/typed-array-constructor.js","webpack://@maplat/tin/./node_modules/core-js/internals/typed-array-constructors-require-wrappers.js","webpack://@maplat/tin/./node_modules/core-js/internals/typed-array-from-species-and-list.js","webpack://@maplat/tin/./node_modules/core-js/internals/typed-array-from.js","webpack://@maplat/tin/./node_modules/core-js/internals/uid.js","webpack://@maplat/tin/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://@maplat/tin/./node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack://@maplat/tin/./node_modules/core-js/internals/well-known-symbol.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array-buffer.constructor.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.concat.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.filter.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.from.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.iterator.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.join.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.map.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.slice.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.array.sort.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.object.assign.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.object.keys.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.object.to-string.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.promise.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.regexp.exec.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.regexp.to-string.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.string.iterator.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.string.match.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.string.replace.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.string.split.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.symbol.description.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.symbol.iterator.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.symbol.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.copy-within.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.every.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.fill.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.filter.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.find-index.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.find.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.float64-array.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.for-each.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.includes.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.index-of.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.iterator.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.join.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.last-index-of.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.map.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.reduce-right.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.reduce.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.reverse.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.set.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.slice.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.some.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.sort.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.subarray.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.to-locale-string.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.to-string.js","webpack://@maplat/tin/./node_modules/core-js/modules/es.typed-array.uint32-array.js","webpack://@maplat/tin/./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack://@maplat/tin/./node_modules/geojson-rbush/index.js","webpack://@maplat/tin/./node_modules/point-in-polygon/flat.js","webpack://@maplat/tin/./node_modules/point-in-polygon/index.js","webpack://@maplat/tin/./node_modules/point-in-polygon/nested.js","webpack://@maplat/tin/./node_modules/polygon-clipping/dist/polygon-clipping.umd.js","webpack://@maplat/tin/./node_modules/quickselect/quickselect.js","webpack://@maplat/tin/./node_modules/rbush/index.js","webpack://@maplat/tin/./node_modules/robust-predicates/umd/orient2d.min.js","webpack://@maplat/tin/./node_modules/tinyqueue/index.js","webpack://@maplat/tin/webpack/bootstrap","webpack://@maplat/tin/webpack/runtime/define property getters","webpack://@maplat/tin/webpack/runtime/global","webpack://@maplat/tin/webpack/runtime/hasOwnProperty shorthand","webpack://@maplat/tin/webpack/runtime/make namespace object","webpack://@maplat/tin/./node_modules/@turf/helpers/dist/es/index.js","webpack://@maplat/tin/./node_modules/@turf/invariant/dist/es/index.js","webpack://@maplat/tin/./src/booleanPointInPolygon.ts","webpack://@maplat/tin/./node_modules/@turf/meta/dist/es/index.js","webpack://@maplat/tin/./node_modules/@turf/convex/dist/es/index.js","webpack://@maplat/tin/./node_modules/@turf/difference/dist/es/index.js","webpack://@maplat/tin/./node_modules/@turf/line-segment/dist/es/index.js","webpack://@maplat/tin/./node_modules/@turf/line-intersect/dist/es/index.js","webpack://@maplat/tin/./src/kinks.ts","webpack://@maplat/tin/./node_modules/delaunator/node_modules/robust-predicates/esm/util.js","webpack://@maplat/tin/./node_modules/delaunator/node_modules/robust-predicates/esm/orient2d.js","webpack://@maplat/tin/./node_modules/delaunator/node_modules/robust-predicates/esm/orient3d.js","webpack://@maplat/tin/./node_modules/delaunator/node_modules/robust-predicates/esm/incircle.js","webpack://@maplat/tin/./node_modules/delaunator/node_modules/robust-predicates/esm/insphere.js","webpack://@maplat/tin/./node_modules/delaunator/index.js","webpack://@maplat/tin/./node_modules/@kninnug/constrainautor/node_modules/robust-predicates/esm/util.js","webpack://@maplat/tin/./node_modules/@kninnug/constrainautor/node_modules/robust-predicates/esm/orient2d.js","webpack://@maplat/tin/./node_modules/@kninnug/constrainautor/node_modules/robust-predicates/esm/orient3d.js","webpack://@maplat/tin/./node_modules/@kninnug/constrainautor/node_modules/robust-predicates/esm/incircle.js","webpack://@maplat/tin/./node_modules/@kninnug/constrainautor/node_modules/robust-predicates/esm/insphere.js","webpack://@maplat/tin/./node_modules/@kninnug/constrainautor/lib/Constrainautor.mjs","webpack://@maplat/tin/./src/constrained-tin.ts","webpack://@maplat/tin/./src/index.ts","webpack://@maplat/tin/./node_modules/@turf/union/dist/es/index.js","webpack://@maplat/tin/./node_modules/@turf/centroid/dist/es/index.js","webpack://@maplat/tin/./node_modules/@turf/intersect/dist/es/index.js"],"names":["root","factory","exports","module","define","amd","a","i","this","meta_1","bbox","geojson","result","Infinity","coordEach","coord","feature","geom","properties","options","feat","type","id","geometry","point","coordinates","Error","Array","isArray","length","isNumber","polygon","_i","coordinates_1","ring","j","lineString","featureCollection","features","fc","multiLineString","multiPoint","multiPolygon","radiansToLength","radians","units","factor","factors","lengthToRadians","distance","radiansToDegrees","Math","PI","num","isNaN","Object","defineProperty","value","earthRadius","centimeters","centimetres","degrees","feet","inches","kilometers","kilometres","meters","metres","miles","millimeters","millimetres","nauticalmiles","yards","unitsFactors","areaFactors","acres","hectares","_options","points","map","coords","polygons","lineStrings","geometryCollection","geometries","round","precision","multiplier","pow","lengthToDegrees","bearingToAzimuth","bearing","angle","degreesToRadians","convertLength","originalUnit","finalUnit","convertArea","area","startFactor","finalFactor","isObject","input","constructor","validateBBox","forEach","validateId","indexOf","helpers","callback","excludeWrapCoord","k","l","stopG","geometryMaybeCollection","isGeometryCollection","wrapShrink","coordIndex","isFeatureCollection","isFeature","stop","featureIndex","geomIndex","multiFeatureIndex","geometryIndex","geomType","propEach","featureEach","geomEach","g","featureProperties","featureBBox","featureId","undefined","flattenEach","segmentEach","segmentIndex","previousCoords","previousFeatureIndex","previousMultiIndex","prevGeomIndex","currentCoord","featureIndexCoord","multiPartIndexCoord","currentSegment","lineEach","coordAll","push","coordReduce","initialValue","previousValue","featureReduce","currentFeature","findPoint","findSegment","flattenReduce","geomReduce","currentGeometry","lineReduce","currentLine","propReduce","currentProperties","segmentReduce","started","RBush","Queue","pointInPolygon","orient","concaveman","concavity","lengthThreshold","max","hull","left","top","right","bottom","p","cull","filtered","slice","sort","compareByX","lower","cross","pop","upper","ii","concat","convexHull","fastConvexHull","tree","toBBox","minX","minY","maxX","maxY","compareMinX","b","compareMinY","load","last","queue","remove","insertNode","segTree","insert","updateBBox","sqConcavity","sqLenThreshold","node","shift","next","sqLen","getSqDist","maxSqLen","findCandidate","prev","min","concave","c","d","maxDist","compareDist","data","children","child","dist","leaf","sqSegDist","sqSegBoxDist","peek","item","d0","d1","noIntersections","inside","sqSegSegDist","d2","d3","d4","p1","q1","p2","q2","edges","search","p3","dx","dy","x","y","t","x0","y0","x1","y1","x2","y2","x3","y3","sc","sN","tc","tN","ux","uy","vx","vy","wx","wy","e","D","sD","tD","default","r","h","n","o","s","log","f","exp","u","sqrt","floor","_maxEntries","_minEntries","ceil","clear","m","height","prototype","all","_all","collides","_build","_splitRoot","_insert","splice","_condense","toJSON","fromJSON","apply","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","v","M","_allDistMargin","it","TypeError","String","wellKnownSymbol","create","definePropertyModule","UNSCOPABLES","ArrayPrototype","configurable","key","charAt","S","index","unicode","Constructor","name","ArrayBuffer","DataView","NAME","NATIVE_ARRAY_BUFFER","DESCRIPTORS","global","has","classof","createNonEnumerableProperty","redefine","getPrototypeOf","setPrototypeOf","uid","Int8Array","Int8ArrayPrototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","TypedArray","TypedArrayPrototype","ObjectPrototype","isPrototypeOf","TO_STRING_TAG","TYPED_ARRAY_TAG","NATIVE_ARRAY_BUFFER_VIEWS","opera","TYPED_ARRAY_TAG_REQIRED","TypedArrayConstructorsList","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigIntArrayConstructorsList","BigInt64Array","BigUint64Array","isTypedArray","klass","Function","get","aTypedArray","aTypedArrayConstructor","C","call","ARRAY","TypedArrayConstructor","exportTypedArrayMethod","KEY","property","forced","error","exportTypedArrayStaticMethod","isView","redefineAll","fails","anInstance","toInteger","toLength","toIndex","IEEE754","getOwnPropertyNames","arrayFill","setToStringTag","InternalStateModule","getInternalState","setInternalState","set","ARRAY_BUFFER","DATA_VIEW","WRONG_INDEX","NativeArrayBuffer","$ArrayBuffer","$DataView","$DataViewPrototype","RangeError","packIEEE754","pack","unpackIEEE754","unpack","packInt8","number","packInt16","packInt32","unpackInt32","buffer","packFloat32","packFloat64","addGetter","view","count","isLittleEndian","intIndex","store","byteLength","bytes","start","byteOffset","reverse","conversion","NaN","ArrayBufferPrototype","keys","testView","$setInt8","setInt8","getInt8","setUint8","unsafe","bufferLength","offset","getUint8","getInt16","arguments","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","toObject","toAbsoluteIndex","copyWithin","target","O","len","to","from","end","inc","argumentsLength","endPos","bind","callWithSafeIterationClosing","isArrayIteratorMethod","createProperty","getIteratorMethod","arrayLike","step","iterator","mapfn","mapping","iteratorMethod","done","toIndexedObject","createMethod","IS_INCLUDES","$this","el","fromIndex","includes","IndexedObject","arraySpeciesCreate","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","callbackfn","that","specificCreate","self","boundFunction","filter","some","every","find","findIndex","filterOut","arrayMethodIsStrict","$lastIndexOf","lastIndexOf","NEGATIVE_ZERO","STRICT_METHOD","FORCED","searchElement","V8_VERSION","SPECIES","METHOD_NAME","array","foo","Boolean","argument","method","aFunction","IS_RIGHT","memo","mergeSort","comparefn","middle","insertionSort","merge","element","llength","rlength","lindex","rindex","originalArray","anObject","iteratorClose","fn","ENTRIES","ITERATOR","SAFE_CLOSING","called","iteratorWithReturn","exec","SKIP_CLOSING","ITERATION_SUPPORT","object","toString","TO_STRING_TAG_SUPPORT","classofRaw","CORRECT_ARGUMENTS","tag","tryGet","callee","ownKeys","getOwnPropertyDescriptorModule","source","getOwnPropertyDescriptor","F","IteratorPrototype","createPropertyDescriptor","Iterators","returnThis","IteratorConstructor","bitmap","enumerable","writable","toPrimitive","propertyKey","$","createIteratorConstructor","IS_PURE","IteratorsCore","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","Iterable","DEFAULT","IS_SET","CurrentIteratorPrototype","methods","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","entries","values","proto","path","wrappedWellKnownSymbolModule","Symbol","document","EXISTS","createElement","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","firefox","match","window","UA","test","userAgent","process","getBuiltIn","version","versions","v8","split","webkit","setGlobal","copyConstructorProperties","isForced","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","sham","regexpExec","RegExpPrototype","RegExp","SHAM","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","re","flags","nativeRegExpMethod","nativeMethod","regexp","str","arg2","forceStringMethod","$exec","variable","namespace","replace","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","matched","position","captures","namedCaptures","replacement","tailPos","symbols","ch","capture","check","globalThis","hasOwnProperty","hasOwn","console","abs","LN2","mantissaLength","exponent","mantissa","exponentLength","eMax","eBias","rt","sign","nBits","propertyIsEnumerable","dummy","Wrapper","NewTarget","NewTargetPrototype","functionToString","inspectSource","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","state","wmget","wmhas","wmset","metadata","facade","STATE","enforce","getterFor","arg","detection","normalize","POLYFILL","NATIVE","string","toLowerCase","MATCH","isRegExp","Result","stopped","iterable","unboundFunction","iterFn","AS_ENTRIES","IS_ITERATOR","INTERRUPTED","condition","callFn","returnMethod","PrototypeOfArrayIteratorPrototype","arrayIterator","NEW_ITERATOR_PROTOTYPE","flush","head","notify","toggle","promise","then","macrotask","IS_IOS","IS_WEBOS_WEBKIT","IS_NODE","MutationObserver","WebKitMutationObserver","Promise","queueMicrotaskDescriptor","queueMicrotask","parent","domain","exit","enter","resolve","nextTick","createTextNode","observe","characterData","task","getOwnPropertySymbols","symbol","PromiseCapability","reject","$$resolve","$$reject","objectKeys","getOwnPropertySymbolsModule","propertyIsEnumerableModule","$assign","assign","A","B","alphabet","chr","join","T","activeXDocument","defineProperties","enumBugKeys","html","documentCreateElement","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObject","ActiveXObject","iframeDocument","iframe","write","close","temp","parentWindow","NullProtoObjectViaActiveX","style","display","appendChild","src","contentWindow","open","Properties","IE8_DOM_DEFINE","$defineProperty","P","Attributes","$getOwnPropertyDescriptor","$getOwnPropertyNames","windowNames","getWindowNames","internalObjectKeys","CORRECT_PROTOTYPE_GETTER","names","$propertyIsEnumerable","NASHORN_BUG","1","V","aPossiblePrototype","setter","CORRECT_SETTER","__proto__","getOwnPropertyNamesModule","newPromiseCapability","promiseCapability","enforceInternalState","TEMPLATE","simple","R","re1","re2","regexpFlags","stickyHelpers","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","reCopy","group","raw","groups","sticky","charsAdded","strCopy","multiline","ignoreCase","dotAll","RE","CONSTRUCTOR_NAME","TAG","SHARED","mode","copyright","defaultConstructor","requireObjectCoercible","CONVERT_TO_STRING","pos","first","second","size","charCodeAt","codeAt","defer","channel","port","location","setImmediate","clearImmediate","MessageChannel","Dispatch","counter","run","runner","listener","event","post","postMessage","protocol","host","args","now","port2","port1","onmessage","addEventListener","importScripts","removeChild","setTimeout","integer","toPositiveInteger","BYTES","PREFERRED_STRING","val","valueOf","TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS","ArrayBufferViewCore","ArrayBufferModule","toOffset","typedArrayFrom","setSpecies","inheritIfRequired","nativeDefineProperty","nativeGetOwnPropertyDescriptor","BYTES_PER_ELEMENT","WRONG_LENGTH","fromList","list","isArrayBuffer","isTypedArrayIndex","wrappedGetOwnPropertyDescriptor","wrappedDefineProperty","wrapper","CLAMPED","GETTER","SETTER","NativeTypedArrayConstructor","TypedArrayConstructorPrototype","exported","addElement","getter","typedArrayOffset","$length","$len","checkCorrectnessOfIteration","speciesConstructor","instance","postfix","random","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","arrayBufferModule","arrayMethodHasSpeciesSupport","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","E","$filter","addToUnscopables","defineIterator","ARRAY_ITERATOR","iterated","kind","Arguments","nativeJoin","ES3_STRINGS","separator","$map","HAS_SPECIES_SUPPORT","nativeSlice","fin","internalSort","FF","IE_OR_EDGE","V8","WEBKIT","nativeSort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","STABLE_SORT","code","fromCharCode","itemsLength","items","arrayLength","getSortCompare","nativeKeys","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","NativePromise","iterate","microtask","promiseResolve","hostReportErrors","newPromiseCapabilityModule","perform","IS_BROWSER","PROMISE","getInternalPromiseState","NativePromisePrototype","PromiseConstructor","PromiseConstructorPrototype","newGenericPromiseCapability","DISPATCH_EVENT","createEvent","dispatchEvent","NATIVE_REJECTION_EVENT","PromiseRejectionEvent","UNHANDLED_REJECTION","SUBCLASSING","GLOBAL_CORE_JS_PROMISE","FakePromise","INCORRECT_ITERATION","isThenable","isReject","notified","chain","reactions","ok","exited","reaction","handler","fail","rejection","onHandleUnhandled","onUnhandled","reason","initEvent","isUnhandled","emit","unwrap","internalReject","internalResolve","executor","onFulfilled","onRejected","wrap","capability","$promiseResolve","remaining","alreadyCalled","race","TO_STRING","nativeToString","NOT_GENERIC","INCORRECT_NAME","rf","STRING_ITERATOR","fixRegExpWellKnownSymbolLogic","advanceStringIndex","regExpExec","nativeMatch","maybeCallNative","matcher","res","rx","fullUnicode","matchStr","getSubstitution","REPLACE","REPLACE_KEEPS_$0","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","_","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","functionalReplace","results","accumulatedResult","nextSourcePosition","replacerArgs","callRegExpExec","arrayPush","MAX_UINT32","SPLIT","nativeSplit","internalSplit","limit","lim","lastLength","output","lastLastIndex","separatorCopy","splitter","unicodeMatching","q","z","originalExec","NativeSymbol","description","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","desc","defineWellKnownSymbol","nativeObjectCreate","getOwnPropertyNamesExternal","$forEach","HIDDEN","TO_PRIMITIVE","$Symbol","$stringify","nativeGetOwnPropertyNames","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","isSymbol","$defineProperties","$getOwnPropertySymbols","IS_OBJECT_PROTOTYPE","keyFor","sym","useSetter","useSimple","stringify","space","$replacer","$copyWithin","$every","$fill","fromSpeciesAndList","$findIndex","predicate","$find","createTypedArrayConstructor","init","$includes","$indexOf","ArrayIterators","arrayValues","arrayKeys","arrayEntries","nativeTypedArrayIterator","CORRECT_ITER_NAME","typedArrayValues","$join","$reduceRight","$reduce","$slice","$some","ACCEPT_INCORRECT_ARGUMENTS","mod","expected","begin","beginIndex","$toLocaleString","toLocaleString","TO_LOCALE_STRING_BUG","Uint8ArrayPrototype","arrayToString","arrayJoin","IS_NOT_ARRAY_METHOD","DOMIterables","ArrayIteratorMethods","ArrayValues","COLLECTION_NAME","Collection","CollectionPrototype","rbush","meta","turfBBox","geojsonRbush","maxEntries","equals","json","vs","xi","yi","xj","yj","pointInPolygonFlat","pointInPolygonNested","nested","flat","_classCallCheck","_defineProperties","props","_createClass","protoProps","staticProps","Node","DEFAULT_COMPARE","splay","comparator","N","cmp","printRow","prefix","isTail","out","printNode","indent","Tree","_root","_size","_comparator","add","_remove","findStatic","current","compare","contains","visitor","ctx","Q","range","low","high","_a","minNode","maxNode","at","successor","predecessor","toList","presort","loadRecursive","mergedList","l1","l2","mergeLists","createList","sortedListToBST","isEmpty","update","newKey","newData","pivot","tmp","isInBbox","ll","ur","getBboxOverlap","b1","b2","lowerX","upperX","epsilon","Number","EPSILON","EPSILON_SQ","ab","PtRounder","reset","xRounder","CoordRounder","yRounder","prevNode","nextNode","rounder","crossProduct","dotProduct","compareVectorAngles","basePt","endPt1","endPt2","v1","v2","kross","cosineOfAngle","pShared","pBase","pAngle","vBase","vAngle","horizontalIntersection","pt","verticalIntersection","SweepEvent","isLeft","events","ptCmp","comparePoints","link","Segment","segment","aPt","bPt","other","otherEvents","iMax","evt","checkForConsuming","numEvents","evt1","consumedBy","evt2","otherSE","consume","ringOut","isInResult","baseEvent","_this","cache","Map","fillCache","linkedEvent","nextEvent","sine","cosine","_cache$get","asine","acosine","_cache$get2","bsine","bcosine","segmentId","leftSE","rightSE","rings","windings","alx","blx","arx","brx","aly","bly","ary","bry","aCmpBLeft","comparePoint","bCmpARight","bCmpALeft","aCmpBRight","_bCmpARight","_aCmpBRight","ay","ax","by","bx","newRightSE","isAnEndpoint","lPt","rPt","vector","yDist","xFromYDist","xDist","yFromXDist","tBbox","oBbox","bboxOverlap","tlp","trp","olp","orp","touchesOtherLSE","touchesThisLSE","touchesOtherRSE","touchesThisRSE","pt1","pt2","ve","intersection","newEvents","alreadyLinked","newLeftSE","oldRightSE","replaceRightSE","newSeg","swapEvents","tmpEvt","consumer","consumee","_tmp","winding","_prevInResult","prevInResult","_beforeState","seg","afterState","multiPolys","_afterState","beforeState","ringsAfter","windingsAfter","mpsAfter","polysAfter","polysExclude","_iMax","_ring","poly","isExterior","_index","_i2","_iMax2","mp","multiPoly","_isInResult","mpsBefore","operation","noBefores","noAfters","least","most","numMultiPolys","diff","isJustSubject","mps","isSubject","leftPt","rightPt","cmpPts","RingIn","geomRing","segments","firstPoint","prevPoint","fromRing","sweepEvents","PolyIn","geomPoly","exteriorRing","interiorRings","getSweepEvents","ringSweepEvents","jMax","MultiPolyIn","ex","polys","POSITIVE_INFINITY","NEGATIVE_INFINITY","polySweepEvents","RingOut","allSegments","ringsOut","prevEvent","startingPoint","intersectionLEs","availableLEs","getAvailableLinkedEvents","firstPt","lastPt","indexLE","getLeftmostComparator","intersectionLE","ringEvents","unshift","prevPt","_pt","_nextPt","nextPt","isExteriorRing","iStart","iEnd","orderedPoints","_isExteriorRing","enclosing","enclosingRing","_enclosingRing","_calcEnclosingRing","leftMostEvt","prevSeg","prevPrevSeg","PolyOut","getGeom","ringGeom","MultiPolyOut","_composePolys","polyGeom","addInterior","SweepLine","nextSeg","prevMySplitter","prevInter","getIntersection","newEventsFromSplit","_splitSafely","nextMySplitter","nextInter","_newEventsFromSplit","mySplitter","_newEventsFromSplit2","inter","_newEventsFromSplit3","_i3","_iMax3","_newEventsFromSplit4","_i4","_iMax4","POLYGON_CLIPPING_MAX_QUEUE_SIZE","env","POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS","Operation","moreGeoms","multipolys","subject","mpA","_j","_jMax","sweepLine","prevQueueSize","_evt","union","_len","_key","_len2","_key2","xor","_len3","_key3","difference","subjectGeom","_len4","clippingGeoms","_key4","quickselectStep","arr","sd","swap","defaultCompare","quickselect","format","_initFormat","findItem","equalsFn","calcBBox","distBBox","destNode","createNode","extend","compareNodeMinX","compareNodeMinY","bboxArea","bboxMargin","intersects","multiSelect","mid","stack","childBBox","nodesToSearch","tmpNode","goingUp","indexes","right2","right3","N2","N1","level","targetNode","enlargement","minArea","minEnlargement","isNode","insertPath","splitIndex","newNode","bbox1","bbox2","overlap","minOverlap","leftBBox","rightBBox","margin","siblings","compareArr","orient2d","w","G","H","I","J","K","L","orient2dfast","TinyQueue","_down","_up","halfLength","best","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","obj","prop","toStringTag","getCoord","getCoords","booleanPointInPolygon","inBBox","insidePoly","ignoreBoundary","u1","u2","currentP","nextP","numContours","contourLen","contour","coordinate","convex","reduce","currentCoords","coords1","coords2","createSegments","lineSegmentFeature","line1","line2","x4","y4","denom","uA","uB","ArcCollection","initArcs","arcs","xx","yy","nn","initXYData","_xx","_yy","_nn","_zz","_zlimit","_filteredArcIter","_ii","idx","initBounds","_arcIter","ArcIter","calcArcBounds_","_bb","bb","_allBounds","bounds","arcLen","numArcs","Bounds","arcOffs","calcArcBounds","mergeBounds","clone","cb","forEachArcSegment","arcId","fw","absId","zlim","getRetainedInterval","zz","buf","forEachSegment","yrange","getBounds","segLen","getAvgSegment2","ymin","ymax","stripeCount","calcSegmentIntersectionStripeCount","stripeSizes","stripeId","id1","id2","s1","s2","stripeData","getUint32Array","info","isArrayLike","tot","nan","utilsSum","offs","stripes","func","utilsForEach","stripeSize","subarray","initializeArray","stripe","getVertexData","intersections","intersectSegments","dedupIntersections","msg","isString","ids","s1p1","s1p2","s2p1","s2p2","s1p1x","s1p2x","s2p1x","s2p2x","s1p1y","s1p2y","s2p1y","s2p2y","hit","seg1","seg2","cx","cy","orderSegmentIds","quicksortSegmentIds","sortSegmentIds","orient2D","segmentHit","nearest","lineIntersection","minIdx","minDist","distanceSq","nearestPoint","clampToCloseRange","clampIntersectionPoint","crossIntersection","endpointHit","useY","collinearIntersection","formatIntersection","determinant2D","den","outsideRange","findEndpointInRange","lo","hi","insertionSortSegmentIds","xy","formatIntersectingSegment","getIntersectionKey","xmin","xmax","setBounds","elen","flen","Qnew","hh","bvirt","enow","fnow","eindex","findex","hindex","vec","C1","C2","detleft","detright","det","detsum","acxtail","acytail","bcxtail","bcytail","ahi","alo","bhi","blo","_0","s0","t1","t0","u3","acx","bcx","acy","bcy","errbound","C1len","C2len","Dlen","orient2dadapt","EDGE_STACK","Delaunator","getX","defaultGetX","getY","defaultGetY","maxTriangles","_triangles","_halfedges","_hashSize","_hullPrev","_hullNext","_hullTri","_hullHash","fill","_ids","_dists","hullPrev","hullNext","hullTri","hullHash","i0","i1","i2","i0x","i0y","i1x","i1y","minRadius","circumradius","i2x","i2y","quicksort","triangles","halfedges","center","ey","bl","cl","circumcenter","_cx","_cy","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","_legalize","pseudoAngle","ar","a0","b0","al","p0","pr","pl","inCircle","hbl","_link","br","px","py","fx","fy","bp","cp","dists","tempDist","alen","blen","clen","sum","product1","product0","finlen","BitSet8","W","bs","byte","bit","super","nextEdge","prevEdge","Constrainautor","del","U32NIL","numPoints","numEdges","vertMap","flips","consd","updateVert","constrainAll","segP1","segP2","vm","edg","p4","nxt","protect","opp","conEdge","rescan","adj","bot","rgt","isCollinear","flipDiagonal","flipped","delete","isDelaunay","findEdge","deep","constrainOne","start1","prv","lft","adjBot","adjTop","markFlip","pts","adx","bdx","cdx","ady","bdy","cdy","bdxcdy","cdxbdy","alift","cdxady","adxcdy","blift","adxbdy","bdxady","clift","permanent","adxtail","bdxtail","cdxtail","adytail","bdytail","cdytail","axtbclen","aytbclen","bxtcalen","bytcalen","cxtablen","cytablen","abtlen","bctlen","catlen","abttlen","bcttlen","cattlen","n1","n0","len2","p1x","p1y","p2x","p2y","p3x","p3y","p4x","p4y","del_points","tris","indices","xyz","format_version","Tin","setWh","wh","vertexMode","VERTEX_PLAIN","strictMode","MODE_AUTO","yaxisMode","YAXIS_INVERT","importance","priority","stateFull","setPoints","setEdges","YAXIS_FOLLOW","tins","indexedTins","normalizeEdges","edgeNodes","minx","maxx","miny","maxy","boundsPolygon","compiled","tins_points","pointsWeightBuffer","bd","forb","base","weight_buffer","normalizeNodeKey","strict_status","kinks_points","STATUS_ERROR","STATUS_LOOSE","STATUS_STRICT","vertices_params","forw","bakw","idxNxt","indexesToTri","centroid_point","vertices_points","centroid","bakwI","idxes","addIndexedTin","kinks","JSON","parse","tri","pIdx","vertices","vertex_data","tin","kink","gridNum","forwBound","bakwBound","forwEachBound","eachBound","forwXUnit","forwYUnit","forwGridCache","bound","normXMin","unitCalc","normXMax","normYMin","normYMax","bakwEachBound","bakwXUnit","bakwYUnit","bakwGridCache","xOrigin","yOrigin","xUnit","yUnit","gridCache","pointsSet","counterTri","searchIndex","forTri","bakTri","insertSearchIndex","overlapCheckAsync","catch","err","prevResult","overlapped","trises","forUnion","poly1","poly2","geom1","geom2","unioned","forConvex","polygon2","polygon1","differenced","splittedKey","numberKey","parseInt","sharedVtx","alpha","vtx","nonSharedVtx","removeSearchIndex","sVtx","newBakTri","newForTri","direc","findSegmentIntersections","apoint","pointsArray","forPoint","createPoint","counterPoint","edgeNodeIndex","startEnd","illstNodes","mercNodes","lengths","nodes","eachLengths","sumLengths","eachSum","ratio","thisLengths","anotherLengths","lengthItem","anotherSets","anotherPrev","anotherNext","ratioInEdge","anotherNode","strict","insideCheck","curr","MODE_STRICT","MODE_LOOSE","generatePointsSet","prevResults","constrainedTin","xSum","ySum","tinForCentroid","tinBakCentroid","forCentroidFt","pointsSetBbox","transformArr","forwBuf","convexBuf","vconvex","vertex","bakConvex","expandConvex","_array","forVertex","bakVertex","vertexDelta","xRate","yRate","orthant","VERTEX_BIRDEYE","pre","cur","distanceSum","thetaDelta","atan2","sumThetaX","cos","sumThetaY","sin","verticesSet","delta","forDelta","bakDistance","bakTheta","expandRate","side","expand","expandLine","intersect","unique","lineIntersect","intersect_","rate","verticesList","forVertexFt","bakVertexFt","rotateVerticesTriangle","calcurateStrictTinAsync","vertexCalc","calculatePointsWeightAsync","backward","ignoreBounds","tpoint","verticesParams","weightBuffer","stateTriangle","stateSetFunc","stateBackward","ret","calcTargets","alreadyChecked","vtxes","vi","vj","indexi","indexj","fromi","fromj","toi","toj","weight","substring","centCoord","itemi","itemj","normalizeRadian","noNegative","rangeFunc","transformTinArr","of","ad","cd","ac","ao","abd","acd","abv","acv","nabv","aW","bW","cW","normB","normC","origin","unit","normCoord","normX","normY","tinsKey","radian","radianList","minIndex","idel","minTheta","jdel","minDel","decideUseVertex","useVerticesArr","geoms","buildTri","cent","bboxes","points_","point_base","isFinite","nodeIndex","edge","retValue","searchResult","dir","calcSearchKeys","bakKeys","newArray","eachTris","eachTri"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn ","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar meta_1 = require(\"@turf/meta\");\n/**\n * Takes a set of features, calculates the bbox of all input features, and returns a bounding box.\n *\n * @name bbox\n * @param {GeoJSON} geojson any GeoJSON object\n * @returns {BBox} bbox extent in [minX, minY, maxX, maxY] order\n * @example\n * var line = turf.lineString([[-74, 40], [-78, 42], [-82, 35]]);\n * var bbox = turf.bbox(line);\n * var bboxPolygon = turf.bboxPolygon(bbox);\n *\n * //addToMap\n * var addToMap = [line, bboxPolygon]\n */\nfunction bbox(geojson) {\n    var result = [Infinity, Infinity, -Infinity, -Infinity];\n    meta_1.coordEach(geojson, function (coord) {\n        if (result[0] > coord[0]) {\n            result[0] = coord[0];\n        }\n        if (result[1] > coord[1]) {\n            result[1] = coord[1];\n        }\n        if (result[2] < coord[0]) {\n            result[2] = coord[0];\n        }\n        if (result[3] < coord[1]) {\n            result[3] = coord[1];\n        }\n    });\n    return result;\n}\nbbox[\"default\"] = bbox;\nexports.default = bbox;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @module helpers\n */\n/**\n * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.\n *\n * @memberof helpers\n * @type {number}\n */\nexports.earthRadius = 6371008.8;\n/**\n * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.factors = {\n    centimeters: exports.earthRadius * 100,\n    centimetres: exports.earthRadius * 100,\n    degrees: exports.earthRadius / 111325,\n    feet: exports.earthRadius * 3.28084,\n    inches: exports.earthRadius * 39.37,\n    kilometers: exports.earthRadius / 1000,\n    kilometres: exports.earthRadius / 1000,\n    meters: exports.earthRadius,\n    metres: exports.earthRadius,\n    miles: exports.earthRadius / 1609.344,\n    millimeters: exports.earthRadius * 1000,\n    millimetres: exports.earthRadius * 1000,\n    nauticalmiles: exports.earthRadius / 1852,\n    radians: 1,\n    yards: exports.earthRadius * 1.0936,\n};\n/**\n * Units of measurement factors based on 1 meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.unitsFactors = {\n    centimeters: 100,\n    centimetres: 100,\n    degrees: 1 / 111325,\n    feet: 3.28084,\n    inches: 39.37,\n    kilometers: 1 / 1000,\n    kilometres: 1 / 1000,\n    meters: 1,\n    metres: 1,\n    miles: 1 / 1609.344,\n    millimeters: 1000,\n    millimetres: 1000,\n    nauticalmiles: 1 / 1852,\n    radians: 1 / exports.earthRadius,\n    yards: 1.0936133,\n};\n/**\n * Area of measurement factors based on 1 square meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.areaFactors = {\n    acres: 0.000247105,\n    centimeters: 10000,\n    centimetres: 10000,\n    feet: 10.763910417,\n    hectares: 0.0001,\n    inches: 1550.003100006,\n    kilometers: 0.000001,\n    kilometres: 0.000001,\n    meters: 1,\n    metres: 1,\n    miles: 3.86e-7,\n    millimeters: 1000000,\n    millimetres: 1000000,\n    yards: 1.195990046,\n};\n/**\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\n *\n * @name feature\n * @param {Geometry} geometry input geometry\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature} a GeoJSON Feature\n * @example\n * var geometry = {\n *   \"type\": \"Point\",\n *   \"coordinates\": [110, 50]\n * };\n *\n * var feature = turf.feature(geometry);\n *\n * //=feature\n */\nfunction feature(geom, properties, options) {\n    if (options === void 0) { options = {}; }\n    var feat = { type: \"Feature\" };\n    if (options.id === 0 || options.id) {\n        feat.id = options.id;\n    }\n    if (options.bbox) {\n        feat.bbox = options.bbox;\n    }\n    feat.properties = properties || {};\n    feat.geometry = geom;\n    return feat;\n}\nexports.feature = feature;\n/**\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\n * For GeometryCollection type use `helpers.geometryCollection`\n *\n * @name geometry\n * @param {string} type Geometry Type\n * @param {Array<any>} coordinates Coordinates\n * @param {Object} [options={}] Optional Parameters\n * @returns {Geometry} a GeoJSON Geometry\n * @example\n * var type = \"Point\";\n * var coordinates = [110, 50];\n * var geometry = turf.geometry(type, coordinates);\n * // => geometry\n */\nfunction geometry(type, coordinates, _options) {\n    if (_options === void 0) { _options = {}; }\n    switch (type) {\n        case \"Point\":\n            return point(coordinates).geometry;\n        case \"LineString\":\n            return lineString(coordinates).geometry;\n        case \"Polygon\":\n            return polygon(coordinates).geometry;\n        case \"MultiPoint\":\n            return multiPoint(coordinates).geometry;\n        case \"MultiLineString\":\n            return multiLineString(coordinates).geometry;\n        case \"MultiPolygon\":\n            return multiPolygon(coordinates).geometry;\n        default:\n            throw new Error(type + \" is invalid\");\n    }\n}\nexports.geometry = geometry;\n/**\n * Creates a {@link Point} {@link Feature} from a Position.\n *\n * @name point\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Point>} a Point feature\n * @example\n * var point = turf.point([-75.343, 39.984]);\n *\n * //=point\n */\nfunction point(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (!coordinates) {\n        throw new Error(\"coordinates is required\");\n    }\n    if (!Array.isArray(coordinates)) {\n        throw new Error(\"coordinates must be an Array\");\n    }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be at least 2 numbers long\");\n    }\n    if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n        throw new Error(\"coordinates must contain numbers\");\n    }\n    var geom = {\n        type: \"Point\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.point = point;\n/**\n * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.\n *\n * @name points\n * @param {Array<Array<number>>} coordinates an array of Points\n * @param {Object} [properties={}] Translate these properties to each Feature\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Point>} Point Feature\n * @example\n * var points = turf.points([\n *   [-75, 39],\n *   [-80, 45],\n *   [-78, 50]\n * ]);\n *\n * //=points\n */\nfunction points(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return point(coords, properties);\n    }), options);\n}\nexports.points = points;\n/**\n * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.\n *\n * @name polygon\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Polygon>} Polygon Feature\n * @example\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\n *\n * //=polygon\n */\nfunction polygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    for (var _i = 0, coordinates_1 = coordinates; _i < coordinates_1.length; _i++) {\n        var ring = coordinates_1[_i];\n        if (ring.length < 4) {\n            throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");\n        }\n        for (var j = 0; j < ring[ring.length - 1].length; j++) {\n            // Check if first point of Polygon contains two numbers\n            if (ring[ring.length - 1][j] !== ring[0][j]) {\n                throw new Error(\"First and last Position are not equivalent.\");\n            }\n        }\n    }\n    var geom = {\n        type: \"Polygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.polygon = polygon;\n/**\n * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.\n *\n * @name polygons\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection\n * @example\n * var polygons = turf.polygons([\n *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],\n *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],\n * ]);\n *\n * //=polygons\n */\nfunction polygons(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return polygon(coords, properties);\n    }), options);\n}\nexports.polygons = polygons;\n/**\n * Creates a {@link LineString} {@link Feature} from an Array of Positions.\n *\n * @name lineString\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<LineString>} LineString Feature\n * @example\n * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});\n * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});\n *\n * //=linestring1\n * //=linestring2\n */\nfunction lineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be an array of two or more positions\");\n    }\n    var geom = {\n        type: \"LineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.lineString = lineString;\n/**\n * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.\n *\n * @name lineStrings\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<LineString>} LineString FeatureCollection\n * @example\n * var linestrings = turf.lineStrings([\n *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],\n *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]\n * ]);\n *\n * //=linestrings\n */\nfunction lineStrings(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return lineString(coords, properties);\n    }), options);\n}\nexports.lineStrings = lineStrings;\n/**\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\n *\n * @name featureCollection\n * @param {Feature[]} features input features\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {FeatureCollection} FeatureCollection of Features\n * @example\n * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});\n * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});\n * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});\n *\n * var collection = turf.featureCollection([\n *   locationA,\n *   locationB,\n *   locationC\n * ]);\n *\n * //=collection\n */\nfunction featureCollection(features, options) {\n    if (options === void 0) { options = {}; }\n    var fc = { type: \"FeatureCollection\" };\n    if (options.id) {\n        fc.id = options.id;\n    }\n    if (options.bbox) {\n        fc.bbox = options.bbox;\n    }\n    fc.features = features;\n    return fc;\n}\nexports.featureCollection = featureCollection;\n/**\n * Creates a {@link Feature<MultiLineString>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiLineString\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiLineString>} a MultiLineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\n *\n * //=multiLine\n */\nfunction multiLineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiLineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiLineString = multiLineString;\n/**\n * Creates a {@link Feature<MultiPoint>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPoint\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPoint>} a MultiPoint feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\n *\n * //=multiPt\n */\nfunction multiPoint(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPoint\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiPoint = multiPoint;\n/**\n * Creates a {@link Feature<MultiPolygon>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPolygon\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPolygon>} a multipolygon feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\n *\n * //=multiPoly\n *\n */\nfunction multiPolygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPolygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiPolygon = multiPolygon;\n/**\n * Creates a {@link Feature<GeometryCollection>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name geometryCollection\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\n * @example\n * var pt = turf.geometry(\"Point\", [100, 0]);\n * var line = turf.geometry(\"LineString\", [[101, 0], [102, 1]]);\n * var collection = turf.geometryCollection([pt, line]);\n *\n * // => collection\n */\nfunction geometryCollection(geometries, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"GeometryCollection\",\n        geometries: geometries,\n    };\n    return feature(geom, properties, options);\n}\nexports.geometryCollection = geometryCollection;\n/**\n * Round number to precision\n *\n * @param {number} num Number\n * @param {number} [precision=0] Precision\n * @returns {number} rounded number\n * @example\n * turf.round(120.4321)\n * //=120\n *\n * turf.round(120.4321, 2)\n * //=120.43\n */\nfunction round(num, precision) {\n    if (precision === void 0) { precision = 0; }\n    if (precision && !(precision >= 0)) {\n        throw new Error(\"precision must be a positive number\");\n    }\n    var multiplier = Math.pow(10, precision || 0);\n    return Math.round(num * multiplier) / multiplier;\n}\nexports.round = round;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name radiansToLength\n * @param {number} radians in radians across the sphere\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} distance\n */\nfunction radiansToLength(radians, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = exports.factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return radians * factor;\n}\nexports.radiansToLength = radiansToLength;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name lengthToRadians\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} radians\n */\nfunction lengthToRadians(distance, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = exports.factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return distance / factor;\n}\nexports.lengthToRadians = lengthToRadians;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\n *\n * @name lengthToDegrees\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} degrees\n */\nfunction lengthToDegrees(distance, units) {\n    return radiansToDegrees(lengthToRadians(distance, units));\n}\nexports.lengthToDegrees = lengthToDegrees;\n/**\n * Converts any bearing angle from the north line direction (positive clockwise)\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\n *\n * @name bearingToAzimuth\n * @param {number} bearing angle, between -180 and +180 degrees\n * @returns {number} angle between 0 and 360 degrees\n */\nfunction bearingToAzimuth(bearing) {\n    var angle = bearing % 360;\n    if (angle < 0) {\n        angle += 360;\n    }\n    return angle;\n}\nexports.bearingToAzimuth = bearingToAzimuth;\n/**\n * Converts an angle in radians to degrees\n *\n * @name radiansToDegrees\n * @param {number} radians angle in radians\n * @returns {number} degrees between 0 and 360 degrees\n */\nfunction radiansToDegrees(radians) {\n    var degrees = radians % (2 * Math.PI);\n    return (degrees * 180) / Math.PI;\n}\nexports.radiansToDegrees = radiansToDegrees;\n/**\n * Converts an angle in degrees to radians\n *\n * @name degreesToRadians\n * @param {number} degrees angle between 0 and 360 degrees\n * @returns {number} angle in radians\n */\nfunction degreesToRadians(degrees) {\n    var radians = degrees % 360;\n    return (radians * Math.PI) / 180;\n}\nexports.degreesToRadians = degreesToRadians;\n/**\n * Converts a length to the requested unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @param {number} length to be converted\n * @param {Units} [originalUnit=\"kilometers\"] of the length\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted length\n */\nfunction convertLength(length, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"kilometers\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(length >= 0)) {\n        throw new Error(\"length must be a positive number\");\n    }\n    return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\nexports.convertLength = convertLength;\n/**\n * Converts a area to the requested unit.\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches, hectares\n * @param {number} area to be converted\n * @param {Units} [originalUnit=\"meters\"] of the distance\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted area\n */\nfunction convertArea(area, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"meters\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(area >= 0)) {\n        throw new Error(\"area must be a positive number\");\n    }\n    var startFactor = exports.areaFactors[originalUnit];\n    if (!startFactor) {\n        throw new Error(\"invalid original units\");\n    }\n    var finalFactor = exports.areaFactors[finalUnit];\n    if (!finalFactor) {\n        throw new Error(\"invalid final units\");\n    }\n    return (area / startFactor) * finalFactor;\n}\nexports.convertArea = convertArea;\n/**\n * isNumber\n *\n * @param {*} num Number to validate\n * @returns {boolean} true/false\n * @example\n * turf.isNumber(123)\n * //=true\n * turf.isNumber('foo')\n * //=false\n */\nfunction isNumber(num) {\n    return !isNaN(num) && num !== null && !Array.isArray(num);\n}\nexports.isNumber = isNumber;\n/**\n * isObject\n *\n * @param {*} input variable to validate\n * @returns {boolean} true/false\n * @example\n * turf.isObject({elevation: 10})\n * //=true\n * turf.isObject('foo')\n * //=false\n */\nfunction isObject(input) {\n    return !!input && input.constructor === Object;\n}\nexports.isObject = isObject;\n/**\n * Validate BBox\n *\n * @private\n * @param {Array<number>} bbox BBox to validate\n * @returns {void}\n * @throws Error if BBox is not valid\n * @example\n * validateBBox([-180, -40, 110, 50])\n * //=OK\n * validateBBox([-180, -40])\n * //=Error\n * validateBBox('Foo')\n * //=Error\n * validateBBox(5)\n * //=Error\n * validateBBox(null)\n * //=Error\n * validateBBox(undefined)\n * //=Error\n */\nfunction validateBBox(bbox) {\n    if (!bbox) {\n        throw new Error(\"bbox is required\");\n    }\n    if (!Array.isArray(bbox)) {\n        throw new Error(\"bbox must be an Array\");\n    }\n    if (bbox.length !== 4 && bbox.length !== 6) {\n        throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n    }\n    bbox.forEach(function (num) {\n        if (!isNumber(num)) {\n            throw new Error(\"bbox must only contain numbers\");\n        }\n    });\n}\nexports.validateBBox = validateBBox;\n/**\n * Validate Id\n *\n * @private\n * @param {string|number} id Id to validate\n * @returns {void}\n * @throws Error if Id is not valid\n * @example\n * validateId([-180, -40, 110, 50])\n * //=Error\n * validateId([-180, -40])\n * //=Error\n * validateId('Foo')\n * //=OK\n * validateId(5)\n * //=OK\n * validateId(null)\n * //=Error\n * validateId(undefined)\n * //=Error\n */\nfunction validateId(id) {\n    if (!id) {\n        throw new Error(\"id is required\");\n    }\n    if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n        throw new Error(\"id must be a number or a string\");\n    }\n}\nexports.validateId = validateId;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar helpers = require('@turf/helpers');\n\n/**\n * Callback for coordEach\n *\n * @callback coordEachCallback\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\n *\n * @name coordEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, multiFeatureIndex)\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n  // Handles null Geometry -- Skips this GeoJSON\n  if (geojson === null) return;\n  var j,\n    k,\n    l,\n    geometry,\n    stopG,\n    coords,\n    geometryMaybeCollection,\n    wrapShrink = 0,\n    coordIndex = 0,\n    isGeometryCollection,\n    type = geojson.type,\n    isFeatureCollection = type === \"FeatureCollection\",\n    isFeature = type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[featureIndex].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n      var multiFeatureIndex = 0;\n      var geometryIndex = 0;\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[geomIndex]\n        : geometryMaybeCollection;\n\n      // Handles null Geometry -- Skips this geometry\n      if (geometry === null) continue;\n      coords = geometry.coordinates;\n      var geomType = geometry.type;\n\n      wrapShrink =\n        excludeWrapCoord &&\n        (geomType === \"Polygon\" || geomType === \"MultiPolygon\")\n          ? 1\n          : 0;\n\n      switch (geomType) {\n        case null:\n          break;\n        case \"Point\":\n          if (\n            callback(\n              coords,\n              coordIndex,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n          coordIndex++;\n          multiFeatureIndex++;\n          break;\n        case \"LineString\":\n        case \"MultiPoint\":\n          for (j = 0; j < coords.length; j++) {\n            if (\n              callback(\n                coords[j],\n                coordIndex,\n                featureIndex,\n                multiFeatureIndex,\n                geometryIndex\n              ) === false\n            )\n              return false;\n            coordIndex++;\n            if (geomType === \"MultiPoint\") multiFeatureIndex++;\n          }\n          if (geomType === \"LineString\") multiFeatureIndex++;\n          break;\n        case \"Polygon\":\n        case \"MultiLineString\":\n          for (j = 0; j < coords.length; j++) {\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\n              if (\n                callback(\n                  coords[j][k],\n                  coordIndex,\n                  featureIndex,\n                  multiFeatureIndex,\n                  geometryIndex\n                ) === false\n              )\n                return false;\n              coordIndex++;\n            }\n            if (geomType === \"MultiLineString\") multiFeatureIndex++;\n            if (geomType === \"Polygon\") geometryIndex++;\n          }\n          if (geomType === \"Polygon\") multiFeatureIndex++;\n          break;\n        case \"MultiPolygon\":\n          for (j = 0; j < coords.length; j++) {\n            geometryIndex = 0;\n            for (k = 0; k < coords[j].length; k++) {\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                if (\n                  callback(\n                    coords[j][k][l],\n                    coordIndex,\n                    featureIndex,\n                    multiFeatureIndex,\n                    geometryIndex\n                  ) === false\n                )\n                  return false;\n                coordIndex++;\n              }\n              geometryIndex++;\n            }\n            multiFeatureIndex++;\n          }\n          break;\n        case \"GeometryCollection\":\n          for (j = 0; j < geometry.geometries.length; j++)\n            if (\n              coordEach(geometry.geometries[j], callback, excludeWrapCoord) ===\n              false\n            )\n              return false;\n          break;\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n  }\n}\n\n/**\n * Callback for coordReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback coordReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\n *\n * @name coordReduce\n * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentCoord;\n * });\n */\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n  var previousValue = initialValue;\n  coordEach(\n    geojson,\n    function (\n      currentCoord,\n      coordIndex,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex\n    ) {\n      if (coordIndex === 0 && initialValue === undefined)\n        previousValue = currentCoord;\n      else\n        previousValue = callback(\n          previousValue,\n          currentCoord,\n          coordIndex,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    },\n    excludeWrapCoord\n  );\n  return previousValue;\n}\n\n/**\n * Callback for propEach\n *\n * @callback propEachCallback\n * @param {Object} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\n *\n * @name propEach\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentProperties, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propEach(features, function (currentProperties, featureIndex) {\n *   //=currentProperties\n *   //=featureIndex\n * });\n */\nfunction propEach(geojson, callback) {\n  var i;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      for (i = 0; i < geojson.features.length; i++) {\n        if (callback(geojson.features[i].properties, i) === false) break;\n      }\n      break;\n    case \"Feature\":\n      callback(geojson.properties, 0);\n      break;\n  }\n}\n\n/**\n * Callback for propReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback propReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce properties in any GeoJSON object into a single value,\n * similar to how Array.reduce works. However, in this case we lazily run\n * the reduction, so an array of all properties is unnecessary.\n *\n * @name propReduce\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {\n *   //=previousValue\n *   //=currentProperties\n *   //=featureIndex\n *   return currentProperties\n * });\n */\nfunction propReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  propEach(geojson, function (currentProperties, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentProperties;\n    else\n      previousValue = callback(previousValue, currentProperties, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Callback for featureEach\n *\n * @callback featureEachCallback\n * @param {Feature<any>} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name featureEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.featureEach(features, function (currentFeature, featureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n * });\n */\nfunction featureEach(geojson, callback) {\n  if (geojson.type === \"Feature\") {\n    callback(geojson, 0);\n  } else if (geojson.type === \"FeatureCollection\") {\n    for (var i = 0; i < geojson.features.length; i++) {\n      if (callback(geojson.features[i], i) === false) break;\n    }\n  }\n}\n\n/**\n * Callback for featureReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback featureReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name featureReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   return currentFeature\n * });\n */\nfunction featureReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  featureEach(geojson, function (currentFeature, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentFeature;\n    else previousValue = callback(previousValue, currentFeature, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Get all coordinates from any GeoJSON object.\n *\n * @name coordAll\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @returns {Array<Array<number>>} coordinate position array\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * var coords = turf.coordAll(features);\n * //= [[26, 37], [36, 53]]\n */\nfunction coordAll(geojson) {\n  var coords = [];\n  coordEach(geojson, function (coord) {\n    coords.push(coord);\n  });\n  return coords;\n}\n\n/**\n * Callback for geomEach\n *\n * @callback geomEachCallback\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\n *\n * @name geomEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomEach(features, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n * });\n */\nfunction geomEach(geojson, callback) {\n  var i,\n    j,\n    g,\n    geometry,\n    stopG,\n    geometryMaybeCollection,\n    isGeometryCollection,\n    featureProperties,\n    featureBBox,\n    featureId,\n    featureIndex = 0,\n    isFeatureCollection = geojson.type === \"FeatureCollection\",\n    isFeature = geojson.type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (i = 0; i < stop; i++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[i].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    featureProperties = isFeatureCollection\n      ? geojson.features[i].properties\n      : isFeature\n      ? geojson.properties\n      : {};\n    featureBBox = isFeatureCollection\n      ? geojson.features[i].bbox\n      : isFeature\n      ? geojson.bbox\n      : undefined;\n    featureId = isFeatureCollection\n      ? geojson.features[i].id\n      : isFeature\n      ? geojson.id\n      : undefined;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (g = 0; g < stopG; g++) {\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[g]\n        : geometryMaybeCollection;\n\n      // Handle null Geometry\n      if (geometry === null) {\n        if (\n          callback(\n            null,\n            featureIndex,\n            featureProperties,\n            featureBBox,\n            featureId\n          ) === false\n        )\n          return false;\n        continue;\n      }\n      switch (geometry.type) {\n        case \"Point\":\n        case \"LineString\":\n        case \"MultiPoint\":\n        case \"Polygon\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\": {\n          if (\n            callback(\n              geometry,\n              featureIndex,\n              featureProperties,\n              featureBBox,\n              featureId\n            ) === false\n          )\n            return false;\n          break;\n        }\n        case \"GeometryCollection\": {\n          for (j = 0; j < geometry.geometries.length; j++) {\n            if (\n              callback(\n                geometry.geometries[j],\n                featureIndex,\n                featureProperties,\n                featureBBox,\n                featureId\n              ) === false\n            )\n              return false;\n          }\n          break;\n        }\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n    // Only increase `featureIndex` per each feature\n    featureIndex++;\n  }\n}\n\n/**\n * Callback for geomReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback geomReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\n *\n * @name geomReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=previousValue\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n *   return currentGeometry\n * });\n */\nfunction geomReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  geomEach(\n    geojson,\n    function (\n      currentGeometry,\n      featureIndex,\n      featureProperties,\n      featureBBox,\n      featureId\n    ) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentGeometry;\n      else\n        previousValue = callback(\n          previousValue,\n          currentGeometry,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for flattenEach\n *\n * @callback flattenEachCallback\n * @param {Feature} currentFeature The current flattened feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Iterate over flattened features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name flattenEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex, multiFeatureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenEach(features, function (currentFeature, featureIndex, multiFeatureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n * });\n */\nfunction flattenEach(geojson, callback) {\n  geomEach(geojson, function (geometry, featureIndex, properties, bbox, id) {\n    // Callback for single geometry\n    var type = geometry === null ? null : geometry.type;\n    switch (type) {\n      case null:\n      case \"Point\":\n      case \"LineString\":\n      case \"Polygon\":\n        if (\n          callback(\n            helpers.feature(geometry, properties, { bbox: bbox, id: id }),\n            featureIndex,\n            0\n          ) === false\n        )\n          return false;\n        return;\n    }\n\n    var geomType;\n\n    // Callback for multi-geometry\n    switch (type) {\n      case \"MultiPoint\":\n        geomType = \"Point\";\n        break;\n      case \"MultiLineString\":\n        geomType = \"LineString\";\n        break;\n      case \"MultiPolygon\":\n        geomType = \"Polygon\";\n        break;\n    }\n\n    for (\n      var multiFeatureIndex = 0;\n      multiFeatureIndex < geometry.coordinates.length;\n      multiFeatureIndex++\n    ) {\n      var coordinate = geometry.coordinates[multiFeatureIndex];\n      var geom = {\n        type: geomType,\n        coordinates: coordinate,\n      };\n      if (\n        callback(helpers.feature(geom, properties), featureIndex, multiFeatureIndex) ===\n        false\n      )\n        return false;\n    }\n  });\n}\n\n/**\n * Callback for flattenReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback flattenReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Reduce flattened features in any GeoJSON object, similar to Array.reduce().\n *\n * @name flattenReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, multiFeatureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, multiFeatureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   return currentFeature\n * });\n */\nfunction flattenReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  flattenEach(\n    geojson,\n    function (currentFeature, featureIndex, multiFeatureIndex) {\n      if (\n        featureIndex === 0 &&\n        multiFeatureIndex === 0 &&\n        initialValue === undefined\n      )\n        previousValue = currentFeature;\n      else\n        previousValue = callback(\n          previousValue,\n          currentFeature,\n          featureIndex,\n          multiFeatureIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for segmentEach\n *\n * @callback segmentEachCallback\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n * @returns {void}\n */\n\n/**\n * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex)\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentEach(polygon, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //=currentSegment\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   //=segmentIndex\n * });\n *\n * // Calculate the total number of segments\n * var total = 0;\n * turf.segmentEach(polygon, function () {\n *     total++;\n * });\n */\nfunction segmentEach(geojson, callback) {\n  flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n    var segmentIndex = 0;\n\n    // Exclude null Geometries\n    if (!feature.geometry) return;\n    // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n    var type = feature.geometry.type;\n    if (type === \"Point\" || type === \"MultiPoint\") return;\n\n    // Generate 2-vertex line segments\n    var previousCoords;\n    var previousFeatureIndex = 0;\n    var previousMultiIndex = 0;\n    var prevGeomIndex = 0;\n    if (\n      coordEach(\n        feature,\n        function (\n          currentCoord,\n          coordIndex,\n          featureIndexCoord,\n          multiPartIndexCoord,\n          geometryIndex\n        ) {\n          // Simulating a meta.coordReduce() since `reduce` operations cannot be stopped by returning `false`\n          if (\n            previousCoords === undefined ||\n            featureIndex > previousFeatureIndex ||\n            multiPartIndexCoord > previousMultiIndex ||\n            geometryIndex > prevGeomIndex\n          ) {\n            previousCoords = currentCoord;\n            previousFeatureIndex = featureIndex;\n            previousMultiIndex = multiPartIndexCoord;\n            prevGeomIndex = geometryIndex;\n            segmentIndex = 0;\n            return;\n          }\n          var currentSegment = helpers.lineString(\n            [previousCoords, currentCoord],\n            feature.properties\n          );\n          if (\n            callback(\n              currentSegment,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex,\n              segmentIndex\n            ) === false\n          )\n            return false;\n          segmentIndex++;\n          previousCoords = currentCoord;\n        }\n      ) === false\n    )\n      return false;\n  });\n}\n\n/**\n * Callback for segmentReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback segmentReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n */\n\n/**\n * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //= previousSegment\n *   //= currentSegment\n *   //= featureIndex\n *   //= multiFeatureIndex\n *   //= geometryIndex\n *   //= segmentIndex\n *   return currentSegment\n * });\n *\n * // Calculate the total number of segments\n * var initialValue = 0\n * var total = turf.segmentReduce(polygon, function (previousValue) {\n *     previousValue++;\n *     return previousValue;\n * }, initialValue);\n */\nfunction segmentReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  var started = false;\n  segmentEach(\n    geojson,\n    function (\n      currentSegment,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex,\n      segmentIndex\n    ) {\n      if (started === false && initialValue === undefined)\n        previousValue = currentSegment;\n      else\n        previousValue = callback(\n          previousValue,\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        );\n      started = true;\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for lineEach\n *\n * @callback lineEachCallback\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,\n * similar to Array.forEach.\n *\n * @name lineEach\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @example\n * var multiLine = turf.multiLineString([\n *   [[26, 37], [35, 45]],\n *   [[36, 53], [38, 50], [41, 55]]\n * ]);\n *\n * turf.lineEach(multiLine, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction lineEach(geojson, callback) {\n  // validation\n  if (!geojson) throw new Error(\"geojson is required\");\n\n  flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n    if (feature.geometry === null) return;\n    var type = feature.geometry.type;\n    var coords = feature.geometry.coordinates;\n    switch (type) {\n      case \"LineString\":\n        if (callback(feature, featureIndex, multiFeatureIndex, 0, 0) === false)\n          return false;\n        break;\n      case \"Polygon\":\n        for (\n          var geometryIndex = 0;\n          geometryIndex < coords.length;\n          geometryIndex++\n        ) {\n          if (\n            callback(\n              helpers.lineString(coords[geometryIndex], feature.properties),\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n        }\n        break;\n    }\n  });\n}\n\n/**\n * Callback for lineReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback lineReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name lineReduce\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var multiPoly = turf.multiPolygon([\n *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),\n *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])\n * ]);\n *\n * turf.lineReduce(multiPoly, function (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentLine\n * });\n */\nfunction lineReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  lineEach(\n    geojson,\n    function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentLine;\n      else\n        previousValue = callback(\n          previousValue,\n          currentLine,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Finds a particular 2-vertex LineString Segment from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n * Point & MultiPoint will always return null.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.segmentIndex=0] Segment Index\n * @param {Object} [options.properties={}] Translate Properties to output LineString\n * @param {BBox} [options.bbox={}] Translate BBox to output LineString\n * @param {number|string} [options.id={}] Translate Id to output LineString\n * @returns {Feature<LineString>} 2-vertex GeoJSON Feature LineString\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findSegment(multiLine);\n * // => Feature<LineString<[[10, 10], [50, 30]]>>\n *\n * // First Segment of 2nd Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: 1});\n * // => Feature<LineString<[[-10, -10], [-50, -30]]>>\n *\n * // Last Segment of Last Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: -1, segmentIndex: -1});\n * // => Feature<LineString<[[-50, -30], [-30, -40]]>>\n */\nfunction findSegment(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!helpers.isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var segmentIndex = options.segmentIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find SegmentIndex\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n      if (segmentIndex < 0) segmentIndex = coords.length + segmentIndex - 1;\n      return helpers.lineString(\n        [coords[segmentIndex], coords[segmentIndex + 1]],\n        properties,\n        options\n      );\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n      return helpers.lineString(\n        [\n          coords[geometryIndex][segmentIndex],\n          coords[geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n      return helpers.lineString(\n        [\n          coords[multiFeatureIndex][segmentIndex],\n          coords[multiFeatureIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex =\n          coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n      return helpers.lineString(\n        [\n          coords[multiFeatureIndex][geometryIndex][segmentIndex],\n          coords[multiFeatureIndex][geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\n/**\n * Finds a particular Point from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.coordIndex=0] Coord Index\n * @param {Object} [options.properties={}] Translate Properties to output Point\n * @param {BBox} [options.bbox={}] Translate BBox to output Point\n * @param {number|string} [options.id={}] Translate Id to output Point\n * @returns {Feature<Point>} 2-vertex GeoJSON Feature Point\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findPoint(multiLine);\n * // => Feature<Point<[10, 10]>>\n *\n * // First Segment of the 2nd Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: 1});\n * // => Feature<Point<[-10, -10]>>\n *\n * // Last Segment of last Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: -1, coordIndex: -1});\n * // => Feature<Point<[-30, -40]>>\n */\nfunction findPoint(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!helpers.isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var coordIndex = options.coordIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find Coord Index\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n      return helpers.point(coords, properties, options);\n    case \"MultiPoint\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      return helpers.point(coords[multiFeatureIndex], properties, options);\n    case \"LineString\":\n      if (coordIndex < 0) coordIndex = coords.length + coordIndex;\n      return helpers.point(coords[coordIndex], properties, options);\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[geometryIndex].length + coordIndex;\n      return helpers.point(coords[geometryIndex][coordIndex], properties, options);\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex].length + coordIndex;\n      return helpers.point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex =\n          coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n      return helpers.point(\n        coords[multiFeatureIndex][geometryIndex][coordIndex],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\nexports.coordAll = coordAll;\nexports.coordEach = coordEach;\nexports.coordReduce = coordReduce;\nexports.featureEach = featureEach;\nexports.featureReduce = featureReduce;\nexports.findPoint = findPoint;\nexports.findSegment = findSegment;\nexports.flattenEach = flattenEach;\nexports.flattenReduce = flattenReduce;\nexports.geomEach = geomEach;\nexports.geomReduce = geomReduce;\nexports.lineEach = lineEach;\nexports.lineReduce = lineReduce;\nexports.propEach = propEach;\nexports.propReduce = propReduce;\nexports.segmentEach = segmentEach;\nexports.segmentReduce = segmentReduce;\n","'use strict';\n\nvar RBush = require('rbush');\nvar Queue = require('tinyqueue');\nvar pointInPolygon = require('point-in-polygon');\nconst orient = require('robust-predicates/umd/orient2d.min.js').orient2d;\n\n// Fix for require issue in webpack https://github.com/mapbox/concaveman/issues/18\nif (Queue.default) {\n    Queue = Queue.default\n}\n\nmodule.exports = concaveman;\nmodule.exports.default = concaveman;\n\nfunction concaveman(points, concavity, lengthThreshold) {\n    // a relative measure of concavity; higher value means simpler hull\n    concavity = Math.max(0, concavity === undefined ? 2 : concavity);\n\n    // when a segment goes below this length threshold, it won't be drilled down further\n    lengthThreshold = lengthThreshold || 0;\n\n    // start with a convex hull of the points\n    var hull = fastConvexHull(points);\n\n    // index the points with an R-tree\n    var tree = new RBush(16);\n    tree.toBBox = function (a) {\n        return {\n            minX: a[0],\n            minY: a[1],\n            maxX: a[0],\n            maxY: a[1]\n        };\n    };\n    tree.compareMinX = function (a, b) { return a[0] - b[0]; };\n    tree.compareMinY = function (a, b) { return a[1] - b[1]; };\n\n    tree.load(points);\n\n    // turn the convex hull into a linked list and populate the initial edge queue with the nodes\n    var queue = [];\n    for (var i = 0, last; i < hull.length; i++) {\n        var p = hull[i];\n        tree.remove(p);\n        last = insertNode(p, last);\n        queue.push(last);\n    }\n\n    // index the segments with an R-tree (for intersection checks)\n    var segTree = new RBush(16);\n    for (i = 0; i < queue.length; i++) segTree.insert(updateBBox(queue[i]));\n\n    var sqConcavity = concavity * concavity;\n    var sqLenThreshold = lengthThreshold * lengthThreshold;\n\n    // process edges one by one\n    while (queue.length) {\n        var node = queue.shift();\n        var a = node.p;\n        var b = node.next.p;\n\n        // skip the edge if it's already short enough\n        var sqLen = getSqDist(a, b);\n        if (sqLen < sqLenThreshold) continue;\n\n        var maxSqLen = sqLen / sqConcavity;\n\n        // find the best connection point for the current edge to flex inward to\n        p = findCandidate(tree, node.prev.p, a, b, node.next.next.p, maxSqLen, segTree);\n\n        // if we found a connection and it satisfies our concavity measure\n        if (p && Math.min(getSqDist(p, a), getSqDist(p, b)) <= maxSqLen) {\n            // connect the edge endpoints through this point and add 2 new edges to the queue\n            queue.push(node);\n            queue.push(insertNode(p, node));\n\n            // update point and segment indexes\n            tree.remove(p);\n            segTree.remove(node);\n            segTree.insert(updateBBox(node));\n            segTree.insert(updateBBox(node.next));\n        }\n    }\n\n    // convert the resulting hull linked list to an array of points\n    node = last;\n    var concave = [];\n    do {\n        concave.push(node.p);\n        node = node.next;\n    } while (node !== last);\n\n    concave.push(node.p);\n\n    return concave;\n}\n\nfunction findCandidate(tree, a, b, c, d, maxDist, segTree) {\n    var queue = new Queue([], compareDist);\n    var node = tree.data;\n\n    // search through the point R-tree with a depth-first search using a priority queue\n    // in the order of distance to the edge (b, c)\n    while (node) {\n        for (var i = 0; i < node.children.length; i++) {\n            var child = node.children[i];\n\n            var dist = node.leaf ? sqSegDist(child, b, c) : sqSegBoxDist(b, c, child);\n            if (dist > maxDist) continue; // skip the node if it's farther than we ever need\n\n            queue.push({\n                node: child,\n                dist: dist\n            });\n        }\n\n        while (queue.length && !queue.peek().node.children) {\n            var item = queue.pop();\n            var p = item.node;\n\n            // skip all points that are as close to adjacent edges (a,b) and (c,d),\n            // and points that would introduce self-intersections when connected\n            var d0 = sqSegDist(p, a, b);\n            var d1 = sqSegDist(p, c, d);\n            if (item.dist < d0 && item.dist < d1 &&\n                noIntersections(b, p, segTree) &&\n                noIntersections(c, p, segTree)) return p;\n        }\n\n        node = queue.pop();\n        if (node) node = node.node;\n    }\n\n    return null;\n}\n\nfunction compareDist(a, b) {\n    return a.dist - b.dist;\n}\n\n// square distance from a segment bounding box to the given one\nfunction sqSegBoxDist(a, b, bbox) {\n    if (inside(a, bbox) || inside(b, bbox)) return 0;\n    var d1 = sqSegSegDist(a[0], a[1], b[0], b[1], bbox.minX, bbox.minY, bbox.maxX, bbox.minY);\n    if (d1 === 0) return 0;\n    var d2 = sqSegSegDist(a[0], a[1], b[0], b[1], bbox.minX, bbox.minY, bbox.minX, bbox.maxY);\n    if (d2 === 0) return 0;\n    var d3 = sqSegSegDist(a[0], a[1], b[0], b[1], bbox.maxX, bbox.minY, bbox.maxX, bbox.maxY);\n    if (d3 === 0) return 0;\n    var d4 = sqSegSegDist(a[0], a[1], b[0], b[1], bbox.minX, bbox.maxY, bbox.maxX, bbox.maxY);\n    if (d4 === 0) return 0;\n    return Math.min(d1, d2, d3, d4);\n}\n\nfunction inside(a, bbox) {\n    return a[0] >= bbox.minX &&\n           a[0] <= bbox.maxX &&\n           a[1] >= bbox.minY &&\n           a[1] <= bbox.maxY;\n}\n\n// check if the edge (a,b) doesn't intersect any other edges\nfunction noIntersections(a, b, segTree) {\n    var minX = Math.min(a[0], b[0]);\n    var minY = Math.min(a[1], b[1]);\n    var maxX = Math.max(a[0], b[0]);\n    var maxY = Math.max(a[1], b[1]);\n\n    var edges = segTree.search({minX: minX, minY: minY, maxX: maxX, maxY: maxY});\n    for (var i = 0; i < edges.length; i++) {\n        if (intersects(edges[i].p, edges[i].next.p, a, b)) return false;\n    }\n    return true;\n}\n\nfunction cross(p1, p2, p3) {\n    return orient(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\n// check if the edges (p1,q1) and (p2,q2) intersect\nfunction intersects(p1, q1, p2, q2) {\n    return p1 !== q2 && q1 !== p2 &&\n        cross(p1, q1, p2) > 0 !== cross(p1, q1, q2) > 0 &&\n        cross(p2, q2, p1) > 0 !== cross(p2, q2, q1) > 0;\n}\n\n// update the bounding box of a node's edge\nfunction updateBBox(node) {\n    var p1 = node.p;\n    var p2 = node.next.p;\n    node.minX = Math.min(p1[0], p2[0]);\n    node.minY = Math.min(p1[1], p2[1]);\n    node.maxX = Math.max(p1[0], p2[0]);\n    node.maxY = Math.max(p1[1], p2[1]);\n    return node;\n}\n\n// speed up convex hull by filtering out points inside quadrilateral formed by 4 extreme points\nfunction fastConvexHull(points) {\n    var left = points[0];\n    var top = points[0];\n    var right = points[0];\n    var bottom = points[0];\n\n    // find the leftmost, rightmost, topmost and bottommost points\n    for (var i = 0; i < points.length; i++) {\n        var p = points[i];\n        if (p[0] < left[0]) left = p;\n        if (p[0] > right[0]) right = p;\n        if (p[1] < top[1]) top = p;\n        if (p[1] > bottom[1]) bottom = p;\n    }\n\n    // filter out points that are inside the resulting quadrilateral\n    var cull = [left, top, right, bottom];\n    var filtered = cull.slice();\n    for (i = 0; i < points.length; i++) {\n        if (!pointInPolygon(points[i], cull)) filtered.push(points[i]);\n    }\n\n    // get convex hull around the filtered points\n    return convexHull(filtered);\n}\n\n// create a new node in a doubly linked list\nfunction insertNode(p, prev) {\n    var node = {\n        p: p,\n        prev: null,\n        next: null,\n        minX: 0,\n        minY: 0,\n        maxX: 0,\n        maxY: 0\n    };\n\n    if (!prev) {\n        node.prev = node;\n        node.next = node;\n\n    } else {\n        node.next = prev.next;\n        node.prev = prev;\n        prev.next.prev = node;\n        prev.next = node;\n    }\n    return node;\n}\n\n// square distance between 2 points\nfunction getSqDist(p1, p2) {\n\n    var dx = p1[0] - p2[0],\n        dy = p1[1] - p2[1];\n\n    return dx * dx + dy * dy;\n}\n\n// square distance from a point to a segment\nfunction sqSegDist(p, p1, p2) {\n\n    var x = p1[0],\n        y = p1[1],\n        dx = p2[0] - x,\n        dy = p2[1] - y;\n\n    if (dx !== 0 || dy !== 0) {\n\n        var t = ((p[0] - x) * dx + (p[1] - y) * dy) / (dx * dx + dy * dy);\n\n        if (t > 1) {\n            x = p2[0];\n            y = p2[1];\n\n        } else if (t > 0) {\n            x += dx * t;\n            y += dy * t;\n        }\n    }\n\n    dx = p[0] - x;\n    dy = p[1] - y;\n\n    return dx * dx + dy * dy;\n}\n\n// segment to segment distance, ported from http://geomalgorithms.com/a07-_distance.html by Dan Sunday\nfunction sqSegSegDist(x0, y0, x1, y1, x2, y2, x3, y3) {\n    var ux = x1 - x0;\n    var uy = y1 - y0;\n    var vx = x3 - x2;\n    var vy = y3 - y2;\n    var wx = x0 - x2;\n    var wy = y0 - y2;\n    var a = ux * ux + uy * uy;\n    var b = ux * vx + uy * vy;\n    var c = vx * vx + vy * vy;\n    var d = ux * wx + uy * wy;\n    var e = vx * wx + vy * wy;\n    var D = a * c - b * b;\n\n    var sc, sN, tc, tN;\n    var sD = D;\n    var tD = D;\n\n    if (D === 0) {\n        sN = 0;\n        sD = 1;\n        tN = e;\n        tD = c;\n    } else {\n        sN = b * e - c * d;\n        tN = a * e - b * d;\n        if (sN < 0) {\n            sN = 0;\n            tN = e;\n            tD = c;\n        } else if (sN > sD) {\n            sN = sD;\n            tN = e + b;\n            tD = c;\n        }\n    }\n\n    if (tN < 0.0) {\n        tN = 0.0;\n        if (-d < 0.0) sN = 0.0;\n        else if (-d > a) sN = sD;\n        else {\n            sN = -d;\n            sD = a;\n        }\n    } else if (tN > tD) {\n        tN = tD;\n        if ((-d + b) < 0.0) sN = 0;\n        else if (-d + b > a) sN = sD;\n        else {\n            sN = -d + b;\n            sD = a;\n        }\n    }\n\n    sc = sN === 0 ? 0 : sN / sD;\n    tc = tN === 0 ? 0 : tN / tD;\n\n    var cx = (1 - sc) * x0 + sc * x1;\n    var cy = (1 - sc) * y0 + sc * y1;\n    var cx2 = (1 - tc) * x2 + tc * x3;\n    var cy2 = (1 - tc) * y2 + tc * y3;\n    var dx = cx2 - cx;\n    var dy = cy2 - cy;\n\n    return dx * dx + dy * dy;\n}\n\nfunction compareByX(a, b) {\n    return a[0] === b[0] ? a[1] - b[1] : a[0] - b[0];\n}\n\nfunction convexHull(points) {\n    points.sort(compareByX);\n\n    var lower = [];\n    for (var i = 0; i < points.length; i++) {\n        while (lower.length >= 2 && cross(lower[lower.length - 2], lower[lower.length - 1], points[i]) <= 0) {\n            lower.pop();\n        }\n        lower.push(points[i]);\n    }\n\n    var upper = [];\n    for (var ii = points.length - 1; ii >= 0; ii--) {\n        while (upper.length >= 2 && cross(upper[upper.length - 2], upper[upper.length - 1], points[ii]) <= 0) {\n            upper.pop();\n        }\n        upper.push(points[ii]);\n    }\n\n    upper.pop();\n    lower.pop();\n    return lower.concat(upper);\n}\n","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=t||self).RBush=i()}(this,function(){\"use strict\";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1),m=Math.max(e,Math.floor(r-s*f/o+u)),c=Math.min(a,Math.floor(r+(o-s)*f/o+u));t(n,r,m,c,h)}var p=n[r],d=e,x=a;for(i(n,e,r),h(n[a],p)>0&&i(n,e,a);d<x;){for(i(n,d,x),d++,x--;h(n[d],p)<0;)d++;for(;h(n[x],p)>0;)x--}0===h(n[e],p)?i(n,e,x):i(n,++x,a),x<=r&&(e=x+1),r<=x&&(a=x-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,o=void 0,s=void 0,l=void 0,u=void 0,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r});\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","// eslint-disable-next-line es/no-typed-arrays -- safe\nmodule.exports = typeof ArrayBuffer !== 'undefined' && typeof DataView !== 'undefined';\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\n\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar isPrototypeOf = ObjectPrototype.isPrototypeOf;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQIRED = false;\nvar NAME;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar BigIntArrayConstructorsList = {\n  BigInt64Array: 8,\n  BigUint64Array: 8\n};\n\nvar isView = function isView(it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return klass === 'DataView'\n    || has(TypedArrayConstructorsList, klass)\n    || has(BigIntArrayConstructorsList, klass);\n};\n\nvar isTypedArray = function (it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return has(TypedArrayConstructorsList, klass)\n    || has(BigIntArrayConstructorsList, klass);\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (setPrototypeOf) {\n    if (isPrototypeOf.call(TypedArray, C)) return C;\n  } else for (var ARRAY in TypedArrayConstructorsList) if (has(TypedArrayConstructorsList, NAME)) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (C === TypedArrayConstructor || isPrototypeOf.call(TypedArrayConstructor, C))) {\n      return C;\n    }\n  } throw TypeError('Target is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && has(TypedArrayConstructor.prototype, KEY)) try {\n      delete TypedArrayConstructor.prototype[KEY];\n    } catch (error) { /* empty */ }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    redefine(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && has(TypedArrayConstructor, KEY)) try {\n        delete TypedArrayConstructor[KEY];\n      } catch (error) { /* empty */ }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && TypedArray[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      redefine(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  if (!global[NAME]) NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || typeof TypedArray != 'function' || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow -- safe\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !has(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQIRED = true;\n  defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function () {\n    return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n  } });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","'use strict';\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefineAll = require('../internals/redefine-all');\nvar fails = require('../internals/fails');\nvar anInstance = require('../internals/an-instance');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar IEEE754 = require('../internals/ieee754');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar arrayFill = require('../internals/array-fill');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length';\nvar WRONG_INDEX = 'Wrong index';\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\nvar $ArrayBuffer = NativeArrayBuffer;\nvar $DataView = global[DATA_VIEW];\nvar $DataViewPrototype = $DataView && $DataView[PROTOTYPE];\nvar ObjectPrototype = Object.prototype;\nvar RangeError = global.RangeError;\n\nvar packIEEE754 = IEEE754.pack;\nvar unpackIEEE754 = IEEE754.unpack;\n\nvar packInt8 = function (number) {\n  return [number & 0xFF];\n};\n\nvar packInt16 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF];\n};\n\nvar packInt32 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF, number >> 16 & 0xFF, number >> 24 & 0xFF];\n};\n\nvar unpackInt32 = function (buffer) {\n  return buffer[3] << 24 | buffer[2] << 16 | buffer[1] << 8 | buffer[0];\n};\n\nvar packFloat32 = function (number) {\n  return packIEEE754(number, 23, 4);\n};\n\nvar packFloat64 = function (number) {\n  return packIEEE754(number, 52, 8);\n};\n\nvar addGetter = function (Constructor, key) {\n  defineProperty(Constructor[PROTOTYPE], key, { get: function () { return getInternalState(this)[key]; } });\n};\n\nvar get = function (view, count, index, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = bytes.slice(start, start + count);\n  return isLittleEndian ? pack : pack.reverse();\n};\n\nvar set = function (view, count, index, conversion, value, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = conversion(+value);\n  for (var i = 0; i < count; i++) bytes[start + i] = pack[isLittleEndian ? i : count - i - 1];\n};\n\nif (!NATIVE_ARRAY_BUFFER) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    setInternalState(this, {\n      bytes: arrayFill.call(new Array(byteLength), 0),\n      byteLength: byteLength\n    });\n    if (!DESCRIPTORS) this.byteLength = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = getInternalState(buffer).byteLength;\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    setInternalState(this, {\n      buffer: buffer,\n      byteLength: byteLength,\n      byteOffset: offset\n    });\n    if (!DESCRIPTORS) {\n      this.buffer = buffer;\n      this.byteLength = byteLength;\n      this.byteOffset = offset;\n    }\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, 'byteLength');\n    addGetter($DataView, 'buffer');\n    addGetter($DataView, 'byteLength');\n    addGetter($DataView, 'byteOffset');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined)) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 23);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 52);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packFloat32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packFloat64, value, arguments.length > 2 ? arguments[2] : undefined);\n    }\n  });\n} else {\n  /* eslint-disable no-new -- required for testing */\n  if (!fails(function () {\n    NativeArrayBuffer(1);\n  }) || !fails(function () {\n    new NativeArrayBuffer(-1);\n  }) || fails(function () {\n    new NativeArrayBuffer();\n    new NativeArrayBuffer(1.5);\n    new NativeArrayBuffer(NaN);\n    return NativeArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n  /* eslint-enable no-new -- required for testing */\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new NativeArrayBuffer(toIndex(length));\n    };\n    var ArrayBufferPrototype = $ArrayBuffer[PROTOTYPE] = NativeArrayBuffer[PROTOTYPE];\n    for (var keys = getOwnPropertyNames(NativeArrayBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) {\n        createNonEnumerableProperty($ArrayBuffer, key, NativeArrayBuffer[key]);\n      }\n    }\n    ArrayBufferPrototype.constructor = $ArrayBuffer;\n  }\n\n  // WebKit bug - the same parent prototype for typed arrays and data view\n  if (setPrototypeOf && getPrototypeOf($DataViewPrototype) !== ObjectPrototype) {\n    setPrototypeOf($DataViewPrototype, ObjectPrototype);\n  }\n\n  // iOS Safari 7.x bug\n  var testView = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataViewPrototype.setInt8;\n  testView.setInt8(0, 2147483648);\n  testView.setInt8(1, 2147483649);\n  if (testView.getInt8(0) || !testView.getInt8(1)) redefineAll($DataViewPrototype, {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, { unsafe: true });\n}\n\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\n\nmodule.exports = {\n  ArrayBuffer: $ArrayBuffer,\n  DataView: $DataView\n};\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\nvar min = Math.min;\n\n// `Array.prototype.copyWithin` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.copywithin\n// eslint-disable-next-line es/no-array-prototype-copywithin -- safe\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n","'use strict';\n/* eslint-disable es/no-array-prototype-lastindexof -- safe */\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar min = Math.min;\nvar $lastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!$lastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return $lastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : $lastIndexOf;\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","// TODO: use something more complex like timsort?\nvar floor = Math.floor;\n\nvar mergeSort = function (array, comparefn) {\n  var length = array.length;\n  var middle = floor(length / 2);\n  return length < 8 ? insertionSort(array, comparefn) : merge(\n    mergeSort(array.slice(0, middle), comparefn),\n    mergeSort(array.slice(middle), comparefn),\n    comparefn\n  );\n};\n\nvar insertionSort = function (array, comparefn) {\n  var length = array.length;\n  var i = 1;\n  var element, j;\n\n  while (i < length) {\n    j = i;\n    element = array[i];\n    while (j && comparefn(array[j - 1], element) > 0) {\n      array[j] = array[--j];\n    }\n    if (j !== i++) array[j] = element;\n  } return array;\n};\n\nvar merge = function (left, right, comparefn) {\n  var llength = left.length;\n  var rlength = right.length;\n  var lindex = 0;\n  var rindex = 0;\n  var result = [];\n\n  while (lindex < llength || rindex < rlength) {\n    if (lindex < llength && rindex < rlength) {\n      result.push(comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]);\n    } else {\n      result.push(lindex < llength ? left[lindex++] : right[rindex++]);\n    }\n  } return result;\n};\n\nmodule.exports = mergeSort;\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nvar firefox = userAgent.match(/firefox\\/(\\d+)/i);\n\nmodule.exports = !!firefox && +firefox[1];\n","module.exports = typeof window == 'object';\n","var UA = require('../internals/engine-user-agent');\n\nmodule.exports = /MSIE|Trident/.test(UA);\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(?:iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /web0s(?!.*chrome)/i.test(userAgent);\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] < 4 ? 1 : match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var userAgent = require('../internals/engine-user-agent');\n\nvar webkit = userAgent.match(/AppleWebKit\\/(\\d+)\\./);\n\nmodule.exports = !!webkit && +webkit[1];\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (KEY, exec, FORCED, SHAM) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    FORCED\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      var $exec = regexp.exec;\n      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n\n    redefine(String.prototype, KEY, methods[0]);\n    redefine(RegExpPrototype, SYMBOL, methods[1]);\n  }\n\n  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar replace = ''.replace;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace.call(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (ch.charAt(0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return str.slice(0, position);\n      case \"'\": return str.slice(tailPos);\n      case '<':\n        capture = namedCaptures[ch.slice(1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var toObject = require('../internals/to-object');\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty.call(toObject(it), key);\n};\n","module.exports = {};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","// IEEE754 conversions based on https://github.com/feross/ieee754\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\nvar pack = function (number, mantissaLength, bytes) {\n  var buffer = new Array(bytes);\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var rt = mantissaLength === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var sign = number < 0 || number === 0 && 1 / number < 0 ? 1 : 0;\n  var index = 0;\n  var exponent, mantissa, c;\n  number = abs(number);\n  // eslint-disable-next-line no-self-compare -- NaN check\n  if (number != number || number === Infinity) {\n    // eslint-disable-next-line no-self-compare -- NaN check\n    mantissa = number != number ? 1 : 0;\n    exponent = eMax;\n  } else {\n    exponent = floor(log(number) / LN2);\n    if (number * (c = pow(2, -exponent)) < 1) {\n      exponent--;\n      c *= 2;\n    }\n    if (exponent + eBias >= 1) {\n      number += rt / c;\n    } else {\n      number += rt * pow(2, 1 - eBias);\n    }\n    if (number * c >= 2) {\n      exponent++;\n      c /= 2;\n    }\n    if (exponent + eBias >= eMax) {\n      mantissa = 0;\n      exponent = eMax;\n    } else if (exponent + eBias >= 1) {\n      mantissa = (number * c - 1) * pow(2, mantissaLength);\n      exponent = exponent + eBias;\n    } else {\n      mantissa = number * pow(2, eBias - 1) * pow(2, mantissaLength);\n      exponent = 0;\n    }\n  }\n  for (; mantissaLength >= 8; buffer[index++] = mantissa & 255, mantissa /= 256, mantissaLength -= 8);\n  exponent = exponent << mantissaLength | mantissa;\n  exponentLength += mantissaLength;\n  for (; exponentLength > 0; buffer[index++] = exponent & 255, exponent /= 256, exponentLength -= 8);\n  buffer[--index] |= sign * 128;\n  return buffer;\n};\n\nvar unpack = function (buffer, mantissaLength) {\n  var bytes = buffer.length;\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var nBits = exponentLength - 7;\n  var index = bytes - 1;\n  var sign = buffer[index--];\n  var exponent = sign & 127;\n  var mantissa;\n  sign >>= 7;\n  for (; nBits > 0; exponent = exponent * 256 + buffer[index], index--, nBits -= 8);\n  mantissa = exponent & (1 << -nBits) - 1;\n  exponent >>= -nBits;\n  nBits += mantissaLength;\n  for (; nBits > 0; mantissa = mantissa * 256 + buffer[index], index--, nBits -= 8);\n  if (exponent === 0) {\n    exponent = 1 - eBias;\n  } else if (exponent === eMax) {\n    return mantissa ? NaN : sign ? -Infinity : Infinity;\n  } else {\n    mantissa = mantissa + pow(2, mantissaLength);\n    exponent = exponent - eBias;\n  } return (sign ? -1 : 1) * mantissa * pow(2, exponent - mantissaLength);\n};\n\nmodule.exports = {\n  pack: pack,\n  unpack: unpack\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    if (wmhas.call(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (objectHas(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = false;\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator);\n      throw error;\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif ((!IS_PURE || NEW_ITERATOR_PROTOTYPE) && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","module.exports = {};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_WEBOS_WEBKIT = require('../internals/engine-is-webos-webkit');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar document = global.document;\nvar process = global.process;\nvar Promise = global.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\n  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    // workaround of WebKit ~ iOS Safari 10.1 bug\n    promise.constructor = Promise;\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// `NewPromiseCapability` abstract operation\n// https://tc39.es/ecma262/#sec-newpromisecapability\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\n// eslint-disable-next-line es/no-object-assign -- safe\nvar $assign = Object.assign;\n// eslint-disable-next-line es/no-object-defineproperty -- required for testing\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !$assign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line es/no-symbol -- safe\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject -- old IE */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","/* eslint-disable no-proto -- safe */\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\n/* eslint-disable regexp/no-assertion-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeExec = RegExp.prototype.exec;\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  // eslint-disable-next-line max-statements -- TODO\n  patchedExec = function exec(str) {\n    var re = this;\n    var state = getInternalState(re);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = patchedExec.call(raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var fails = require('../internals/fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\nvar RE = function (s, f) {\n  return RegExp(s, f);\n};\n\nexports.UNSUPPORTED_Y = fails(function () {\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","var fails = require('./fails');\n\nmodule.exports = fails(function () {\n  // babel-minify transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\n  var re = RegExp('.', (typeof '').charAt(0));\n  return !(re.dotAll && re.exec('\\n') && re.flags === 's');\n});\n","var fails = require('./fails');\n\nmodule.exports = fails(function () {\n  // babel-minify transpiles RegExp('.', 'g') -> /./g and it causes SyntaxError\n  var re = RegExp('(?<a>b)', (typeof '').charAt(5));\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.15.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func -- spec requirement\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails(post)\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\n\n// `ToIndex` abstract operation\n// https://tc39.es/ecma262/#sec-toindex\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length or index');\n  return length;\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var toPositiveInteger = require('../internals/to-positive-integer');\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw RangeError('Wrong offset');\n  return offset;\n};\n","var toInteger = require('../internals/to-integer');\n\nmodule.exports = function (it) {\n  var result = toInteger(it);\n  if (result < 0) throw RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require('../internals/typed-array-constructors-require-wrappers');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar anInstance = require('../internals/an-instance');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar toOffset = require('../internals/to-offset');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar typedArrayFrom = require('../internals/typed-array-from');\nvar forEach = require('../internals/array-iteration').forEach;\nvar setSpecies = require('../internals/set-species');\nvar definePropertyModule = require('../internals/object-define-property');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar InternalStateModule = require('../internals/internal-state');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar round = Math.round;\nvar RangeError = global.RangeError;\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;\nvar TYPED_ARRAY_TAG = ArrayBufferViewCore.TYPED_ARRAY_TAG;\nvar TypedArray = ArrayBufferViewCore.TypedArray;\nvar TypedArrayPrototype = ArrayBufferViewCore.TypedArrayPrototype;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar isTypedArray = ArrayBufferViewCore.isTypedArray;\nvar BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\nvar WRONG_LENGTH = 'Wrong length';\n\nvar fromList = function (C, list) {\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n\nvar addGetter = function (it, key) {\n  nativeDefineProperty(it, key, { get: function () {\n    return getInternalState(this)[key];\n  } });\n};\n\nvar isArrayBuffer = function (it) {\n  var klass;\n  return it instanceof ArrayBuffer || (klass = classof(it)) == 'ArrayBuffer' || klass == 'SharedArrayBuffer';\n};\n\nvar isTypedArrayIndex = function (target, key) {\n  return isTypedArray(target)\n    && typeof key != 'symbol'\n    && key in target\n    && String(+key) == String(key);\n};\n\nvar wrappedGetOwnPropertyDescriptor = function getOwnPropertyDescriptor(target, key) {\n  return isTypedArrayIndex(target, key = toPrimitive(key, true))\n    ? createPropertyDescriptor(2, target[key])\n    : nativeGetOwnPropertyDescriptor(target, key);\n};\n\nvar wrappedDefineProperty = function defineProperty(target, key, descriptor) {\n  if (isTypedArrayIndex(target, key = toPrimitive(key, true))\n    && isObject(descriptor)\n    && has(descriptor, 'value')\n    && !has(descriptor, 'get')\n    && !has(descriptor, 'set')\n    // TODO: add validation descriptor w/o calling accessors\n    && !descriptor.configurable\n    && (!has(descriptor, 'writable') || descriptor.writable)\n    && (!has(descriptor, 'enumerable') || descriptor.enumerable)\n  ) {\n    target[key] = descriptor.value;\n    return target;\n  } return nativeDefineProperty(target, key, descriptor);\n};\n\nif (DESCRIPTORS) {\n  if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n    getOwnPropertyDescriptorModule.f = wrappedGetOwnPropertyDescriptor;\n    definePropertyModule.f = wrappedDefineProperty;\n    addGetter(TypedArrayPrototype, 'buffer');\n    addGetter(TypedArrayPrototype, 'byteOffset');\n    addGetter(TypedArrayPrototype, 'byteLength');\n    addGetter(TypedArrayPrototype, 'length');\n  }\n\n  $({ target: 'Object', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {\n    getOwnPropertyDescriptor: wrappedGetOwnPropertyDescriptor,\n    defineProperty: wrappedDefineProperty\n  });\n\n  module.exports = function (TYPE, wrapper, CLAMPED) {\n    var BYTES = TYPE.match(/\\d+$/)[0] / 8;\n    var CONSTRUCTOR_NAME = TYPE + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + TYPE;\n    var SETTER = 'set' + TYPE;\n    var NativeTypedArrayConstructor = global[CONSTRUCTOR_NAME];\n    var TypedArrayConstructor = NativeTypedArrayConstructor;\n    var TypedArrayConstructorPrototype = TypedArrayConstructor && TypedArrayConstructor.prototype;\n    var exported = {};\n\n    var getter = function (that, index) {\n      var data = getInternalState(that);\n      return data.view[GETTER](index * BYTES + data.byteOffset, true);\n    };\n\n    var setter = function (that, index, value) {\n      var data = getInternalState(that);\n      if (CLAMPED) value = (value = round(value)) < 0 ? 0 : value > 0xFF ? 0xFF : value & 0xFF;\n      data.view[SETTER](index * BYTES + data.byteOffset, value, true);\n    };\n\n    var addElement = function (that, index) {\n      nativeDefineProperty(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n\n    if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n      TypedArrayConstructor = wrapper(function (that, data, offset, $length) {\n        anInstance(that, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        var index = 0;\n        var byteOffset = 0;\n        var buffer, byteLength, length;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new ArrayBuffer(byteLength);\n        } else if (isArrayBuffer(data)) {\n          buffer = data;\n          byteOffset = toOffset(offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - byteOffset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + byteOffset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (isTypedArray(data)) {\n          return fromList(TypedArrayConstructor, data);\n        } else {\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }\n        setInternalState(that, {\n          buffer: buffer,\n          byteOffset: byteOffset,\n          byteLength: byteLength,\n          length: length,\n          view: new DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      TypedArrayConstructorPrototype = TypedArrayConstructor.prototype = create(TypedArrayPrototype);\n    } else if (TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS) {\n      TypedArrayConstructor = wrapper(function (dummy, data, typedArrayOffset, $length) {\n        anInstance(dummy, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        return inheritIfRequired(function () {\n          if (!isObject(data)) return new NativeTypedArrayConstructor(toIndex(data));\n          if (isArrayBuffer(data)) return $length !== undefined\n            ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES), $length)\n            : typedArrayOffset !== undefined\n              ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES))\n              : new NativeTypedArrayConstructor(data);\n          if (isTypedArray(data)) return fromList(TypedArrayConstructor, data);\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }(), dummy, TypedArrayConstructor);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      forEach(getOwnPropertyNames(NativeTypedArrayConstructor), function (key) {\n        if (!(key in TypedArrayConstructor)) {\n          createNonEnumerableProperty(TypedArrayConstructor, key, NativeTypedArrayConstructor[key]);\n        }\n      });\n      TypedArrayConstructor.prototype = TypedArrayConstructorPrototype;\n    }\n\n    if (TypedArrayConstructorPrototype.constructor !== TypedArrayConstructor) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, 'constructor', TypedArrayConstructor);\n    }\n\n    if (TYPED_ARRAY_TAG) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, TYPED_ARRAY_TAG, CONSTRUCTOR_NAME);\n    }\n\n    exported[CONSTRUCTOR_NAME] = TypedArrayConstructor;\n\n    $({\n      global: true, forced: TypedArrayConstructor != NativeTypedArrayConstructor, sham: !NATIVE_ARRAY_BUFFER_VIEWS\n    }, exported);\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructor)) {\n      createNonEnumerableProperty(TypedArrayConstructor, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructorPrototype)) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    setSpecies(CONSTRUCTOR_NAME);\n  };\n} else module.exports = function () { /* empty */ };\n","/* eslint-disable no-new -- required for testing */\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar NATIVE_ARRAY_BUFFER_VIEWS = require('../internals/array-buffer-view-core').NATIVE_ARRAY_BUFFER_VIEWS;\n\nvar ArrayBuffer = global.ArrayBuffer;\nvar Int8Array = global.Int8Array;\n\nmodule.exports = !NATIVE_ARRAY_BUFFER_VIEWS || !fails(function () {\n  Int8Array(1);\n}) || !fails(function () {\n  new Int8Array(-1);\n}) || !checkCorrectnessOfIteration(function (iterable) {\n  new Int8Array();\n  new Int8Array(null);\n  new Int8Array(1.5);\n  new Int8Array(iterable);\n}, true) || fails(function () {\n  // Safari (11+) bug - a reason why even Safari 13 should load a typed array polyfill\n  return new Int8Array(new ArrayBuffer(2), 1, undefined).length !== 1;\n});\n","var aTypedArrayConstructor = require('../internals/array-buffer-view-core').aTypedArrayConstructor;\nvar speciesConstructor = require('../internals/species-constructor');\n\nmodule.exports = function (instance, list) {\n  var C = speciesConstructor(instance, instance.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n","var toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar bind = require('../internals/function-bind-context');\nvar aTypedArrayConstructor = require('../internals/array-buffer-view-core').aTypedArrayConstructor;\n\nmodule.exports = function from(source /* , mapfn, thisArg */) {\n  var O = toObject(source);\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var i, length, result, step, iterator, next;\n  if (iteratorMethod != undefined && !isArrayIteratorMethod(iteratorMethod)) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    O = [];\n    while (!(step = next.call(iterator)).done) {\n      O.push(step.value);\n    }\n  }\n  if (mapping && argumentsLength > 2) {\n    mapfn = bind(mapfn, arguments[2], 2);\n  }\n  length = toLength(O.length);\n  result = new (aTypedArrayConstructor(this))(length);\n  for (i = 0; length > i; i++) {\n    result[i] = mapping ? mapfn(O[i], i) : O[i];\n  }\n  return result;\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar arrayBufferModule = require('../internals/array-buffer');\nvar setSpecies = require('../internals/set-species');\n\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar ArrayBuffer = arrayBufferModule[ARRAY_BUFFER];\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\n\n// `ArrayBuffer` constructor\n// https://tc39.es/ecma262/#sec-arraybuffer-constructor\n$({ global: true, forced: NativeArrayBuffer !== ArrayBuffer }, {\n  ArrayBuffer: ArrayBuffer\n});\n\nsetSpecies(ARRAY_BUFFER);\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar fails = require('../internals/fails');\nvar internalSort = require('../internals/array-sort');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar FF = require('../internals/engine-ff-version');\nvar IE_OR_EDGE = require('../internals/engine-is-ie-or-edge');\nvar V8 = require('../internals/engine-v8-version');\nvar WEBKIT = require('../internals/engine-webkit-version');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar STABLE_SORT = !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 70;\n  if (FF && FF > 3) return;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 603;\n\n  var result = '';\n  var code, chr, value, index;\n\n  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)\n  for (code = 65; code < 76; code++) {\n    chr = String.fromCharCode(code);\n\n    switch (code) {\n      case 66: case 69: case 70: case 72: value = 3; break;\n      case 68: case 71: value = 4; break;\n      default: value = 2;\n    }\n\n    for (index = 0; index < 47; index++) {\n      test.push({ k: chr + index, v: value });\n    }\n  }\n\n  test.sort(function (a, b) { return b.v - a.v; });\n\n  for (index = 0; index < test.length; index++) {\n    chr = test[index].k.charAt(0);\n    if (result.charAt(result.length - 1) !== chr) result += chr;\n  }\n\n  return result !== 'DGBEFHACIJK';\n});\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (y === undefined) return -1;\n    if (x === undefined) return 1;\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    return String(x) > String(y) ? 1 : -1;\n  };\n};\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    if (comparefn !== undefined) aFunction(comparefn);\n\n    var array = toObject(this);\n\n    if (STABLE_SORT) return comparefn === undefined ? nativeSort.call(array) : nativeSort.call(array, comparefn);\n\n    var items = [];\n    var arrayLength = toLength(array.length);\n    var itemsLength, index;\n\n    for (index = 0; index < arrayLength; index++) {\n      if (index in array) items.push(array[index]);\n    }\n\n    items = internalSort(items, getSortCompare(comparefn));\n    itemsLength = items.length;\n    index = 0;\n\n    while (index < itemsLength) array[index] = items[index++];\n    while (index < arrayLength) delete array[index++];\n\n    return array;\n  }\n});\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n// eslint-disable-next-line es/no-object-assign -- required for testing\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_BROWSER = require('../internals/engine-is-browser');\nvar IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar NativePromisePrototype = NativePromise && NativePromise.prototype;\nvar PromiseConstructor = NativePromise;\nvar PromiseConstructorPrototype = NativePromisePrototype;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = typeof PromiseRejectionEvent == 'function';\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar SUBCLASSING = false;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n  // We can't detect it synchronously, so just check versions\n  if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true;\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructorPrototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = new PromiseConstructor(function (resolve) { resolve(1); });\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  SUBCLASSING = promise.then(function () { /* empty */ }) instanceof FakePromise;\n  if (!SUBCLASSING) return true;\n  // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n  return !GLOBAL_CORE_JS_PROMISE && IS_BROWSER && !NATIVE_REJECTION_EVENT;\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n  PromiseConstructorPrototype = PromiseConstructor.prototype;\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructorPrototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function' && NativePromisePrototype !== Object.prototype) {\n    nativeThen = NativePromisePrototype.then;\n\n    if (!SUBCLASSING) {\n      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs\n      redefine(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          nativeThen.call(that, resolve, reject);\n        }).then(onFulfilled, onRejected);\n      // https://github.com/zloirock/core-js/issues/640\n      }, { unsafe: true });\n\n      // makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`\n      redefine(NativePromisePrototype, 'catch', PromiseConstructorPrototype['catch'], { unsafe: true });\n    }\n\n    // make `.constructor === Promise` work for native promise-based APIs\n    try {\n      delete NativePromisePrototype.constructor;\n    } catch (error) { /* empty */ }\n\n    // make `instanceof Promise` work for native promise-based APIs\n    if (setPrototypeOf) {\n      setPrototypeOf(NativePromisePrototype, PromiseConstructorPrototype);\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.es/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.es/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.es/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.es/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.es/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n    function (string) {\n      var res = maybeCallNative(nativeMatch, this, string);\n      if (res.done) return res.value;\n\n      var rx = anObject(this);\n      var S = String(string);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      if (\n        typeof replaceValue === 'string' &&\n        replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1 &&\n        replaceValue.indexOf('$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, this, string, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(this);\n      var S = String(string);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar fails = require('../internals/fails');\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  // eslint-disable-next-line regexp/no-empty-group -- required for testing\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    // eslint-disable-next-line regexp/no-empty-group -- required for testing\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    // eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.es/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (string, limit) {\n      var res = maybeCallNative(internalSplit, this, string, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(this);\n      var S = String(string);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (UNSUPPORTED_Y ? 'g' : 'y');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(UNSUPPORTED_Y ? '^(?:' + rx.source + ')' : rx, flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = UNSUPPORTED_Y ? 0 : q;\n        var z = callRegExpExec(splitter, UNSUPPORTED_Y ? S.slice(q) : S);\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (UNSUPPORTED_Y ? q : 0)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC, UNSUPPORTED_Y);\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.es/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.es/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.es/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.es/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $copyWithin = require('../internals/array-copy-within');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.copyWithin` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.copywithin\nexportTypedArrayMethod('copyWithin', function copyWithin(target, start /* , end */) {\n  return $copyWithin.call(aTypedArray(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $every = require('../internals/array-iteration').every;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.every` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.every\nexportTypedArrayMethod('every', function every(callbackfn /* , thisArg */) {\n  return $every(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $fill = require('../internals/array-fill');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.fill` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.fill\n// eslint-disable-next-line no-unused-vars -- required for `.length`\nexportTypedArrayMethod('fill', function fill(value /* , start, end */) {\n  return $fill.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $filter = require('../internals/array-iteration').filter;\nvar fromSpeciesAndList = require('../internals/typed-array-from-species-and-list');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.filter` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.filter\nexportTypedArrayMethod('filter', function filter(callbackfn /* , thisArg */) {\n  var list = $filter(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  return fromSpeciesAndList(this, list);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $findIndex = require('../internals/array-iteration').findIndex;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.findindex\nexportTypedArrayMethod('findIndex', function findIndex(predicate /* , thisArg */) {\n  return $findIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $find = require('../internals/array-iteration').find;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.find` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.find\nexportTypedArrayMethod('find', function find(predicate /* , thisArg */) {\n  return $find(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Float64Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Float64', function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.foreach\nexportTypedArrayMethod('forEach', function forEach(callbackfn /* , thisArg */) {\n  $forEach(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $includes = require('../internals/array-includes').includes;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.includes` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.includes\nexportTypedArrayMethod('includes', function includes(searchElement /* , fromIndex */) {\n  return $includes(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $indexOf = require('../internals/array-includes').indexOf;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.indexOf` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.indexof\nexportTypedArrayMethod('indexOf', function indexOf(searchElement /* , fromIndex */) {\n  return $indexOf(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar ArrayIterators = require('../modules/es.array.iterator');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar Uint8Array = global.Uint8Array;\nvar arrayValues = ArrayIterators.values;\nvar arrayKeys = ArrayIterators.keys;\nvar arrayEntries = ArrayIterators.entries;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar nativeTypedArrayIterator = Uint8Array && Uint8Array.prototype[ITERATOR];\n\nvar CORRECT_ITER_NAME = !!nativeTypedArrayIterator\n  && (nativeTypedArrayIterator.name == 'values' || nativeTypedArrayIterator.name == undefined);\n\nvar typedArrayValues = function values() {\n  return arrayValues.call(aTypedArray(this));\n};\n\n// `%TypedArray%.prototype.entries` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.entries\nexportTypedArrayMethod('entries', function entries() {\n  return arrayEntries.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.keys` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.keys\nexportTypedArrayMethod('keys', function keys() {\n  return arrayKeys.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.values` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.values\nexportTypedArrayMethod('values', typedArrayValues, !CORRECT_ITER_NAME);\n// `%TypedArray%.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype-@@iterator\nexportTypedArrayMethod(ITERATOR, typedArrayValues, !CORRECT_ITER_NAME);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $join = [].join;\n\n// `%TypedArray%.prototype.join` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.join\n// eslint-disable-next-line no-unused-vars -- required for `.length`\nexportTypedArrayMethod('join', function join(separator) {\n  return $join.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $lastIndexOf = require('../internals/array-last-index-of');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.lastIndexOf` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.lastindexof\n// eslint-disable-next-line no-unused-vars -- required for `.length`\nexportTypedArrayMethod('lastIndexOf', function lastIndexOf(searchElement /* , fromIndex */) {\n  return $lastIndexOf.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $map = require('../internals/array-iteration').map;\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.map` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.map\nexportTypedArrayMethod('map', function map(mapfn /* , thisArg */) {\n  return $map(aTypedArray(this), mapfn, arguments.length > 1 ? arguments[1] : undefined, function (O, length) {\n    return new (aTypedArrayConstructor(speciesConstructor(O, O.constructor)))(length);\n  });\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $reduceRight = require('../internals/array-reduce').right;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduceRicht` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduceright\nexportTypedArrayMethod('reduceRight', function reduceRight(callbackfn /* , initialValue */) {\n  return $reduceRight(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $reduce = require('../internals/array-reduce').left;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduce\nexportTypedArrayMethod('reduce', function reduce(callbackfn /* , initialValue */) {\n  return $reduce(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar floor = Math.floor;\n\n// `%TypedArray%.prototype.reverse` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.reverse\nexportTypedArrayMethod('reverse', function reverse() {\n  var that = this;\n  var length = aTypedArray(that).length;\n  var middle = floor(length / 2);\n  var index = 0;\n  var value;\n  while (index < middle) {\n    value = that[index];\n    that[index++] = that[--length];\n    that[length] = value;\n  } return that;\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar toLength = require('../internals/to-length');\nvar toOffset = require('../internals/to-offset');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line es/no-typed-arrays -- required for testing\n  new Int8Array(1).set({});\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var length = this.length;\n  var src = toObject(arrayLike);\n  var len = toLength(src.length);\n  var index = 0;\n  if (len + offset > length) throw RangeError('Wrong length');\n  while (index < len) this[offset + index] = src[index++];\n}, FORCED);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar speciesConstructor = require('../internals/species-constructor');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $slice = [].slice;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line es/no-typed-arrays -- required for testing\n  new Int8Array(1).slice();\n});\n\n// `%TypedArray%.prototype.slice` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.slice\nexportTypedArrayMethod('slice', function slice(start, end) {\n  var list = $slice.call(aTypedArray(this), start, end);\n  var C = speciesConstructor(this, this.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n}, FORCED);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $some = require('../internals/array-iteration').some;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.some` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.some\nexportTypedArrayMethod('some', function some(callbackfn /* , thisArg */) {\n  return $some(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar aFunction = require('../internals/a-function');\nvar toLength = require('../internals/to-length');\nvar internalSort = require('../internals/array-sort');\nvar FF = require('../internals/engine-ff-version');\nvar IE_OR_EDGE = require('../internals/engine-is-ie-or-edge');\nvar V8 = require('../internals/engine-v8-version');\nvar WEBKIT = require('../internals/engine-webkit-version');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar Uint16Array = global.Uint16Array;\nvar nativeSort = Uint16Array && Uint16Array.prototype.sort;\n\n// WebKit\nvar ACCEPT_INCORRECT_ARGUMENTS = !!nativeSort && !fails(function () {\n  var array = new Uint16Array(2);\n  array.sort(null);\n  array.sort({});\n});\n\nvar STABLE_SORT = !!nativeSort && !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 74;\n  if (FF) return FF < 67;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 602;\n\n  var array = new Uint16Array(516);\n  var expected = Array(516);\n  var index, mod;\n\n  for (index = 0; index < 516; index++) {\n    mod = index % 4;\n    array[index] = 515 - index;\n    expected[index] = index - 2 * mod + 3;\n  }\n\n  array.sort(function (a, b) {\n    return (a / 4 | 0) - (b / 4 | 0);\n  });\n\n  for (index = 0; index < 516; index++) {\n    if (array[index] !== expected[index]) return true;\n  }\n});\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (y !== y) return -1;\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (x !== x) return 1;\n    if (x === 0 && y === 0) return 1 / x > 0 && 1 / y < 0 ? 1 : -1;\n    return x > y;\n  };\n};\n\n// `%TypedArray%.prototype.sort` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.sort\nexportTypedArrayMethod('sort', function sort(comparefn) {\n  var array = this;\n  if (comparefn !== undefined) aFunction(comparefn);\n  if (STABLE_SORT) return nativeSort.call(array, comparefn);\n\n  aTypedArray(array);\n  var arrayLength = toLength(array.length);\n  var items = Array(arrayLength);\n  var index;\n\n  for (index = 0; index < arrayLength; index++) {\n    items[index] = array[index];\n  }\n\n  items = internalSort(array, getSortCompare(comparefn));\n\n  for (index = 0; index < arrayLength; index++) {\n    array[index] = items[index];\n  }\n\n  return array;\n}, !STABLE_SORT || ACCEPT_INCORRECT_ARGUMENTS);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.subarray` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.subarray\nexportTypedArrayMethod('subarray', function subarray(begin, end) {\n  var O = aTypedArray(this);\n  var length = O.length;\n  var beginIndex = toAbsoluteIndex(begin, length);\n  return new (speciesConstructor(O, O.constructor))(\n    O.buffer,\n    O.byteOffset + beginIndex * O.BYTES_PER_ELEMENT,\n    toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - beginIndex)\n  );\n});\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar fails = require('../internals/fails');\n\nvar Int8Array = global.Int8Array;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $toLocaleString = [].toLocaleString;\nvar $slice = [].slice;\n\n// iOS Safari 6.x fails here\nvar TO_LOCALE_STRING_BUG = !!Int8Array && fails(function () {\n  $toLocaleString.call(new Int8Array(1));\n});\n\nvar FORCED = fails(function () {\n  return [1, 2].toLocaleString() != new Int8Array([1, 2]).toLocaleString();\n}) || !fails(function () {\n  Int8Array.prototype.toLocaleString.call([1, 2]);\n});\n\n// `%TypedArray%.prototype.toLocaleString` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.tolocalestring\nexportTypedArrayMethod('toLocaleString', function toLocaleString() {\n  return $toLocaleString.apply(TO_LOCALE_STRING_BUG ? $slice.call(aTypedArray(this)) : aTypedArray(this), arguments);\n}, FORCED);\n","'use strict';\nvar exportTypedArrayMethod = require('../internals/array-buffer-view-core').exportTypedArrayMethod;\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar Uint8Array = global.Uint8Array;\nvar Uint8ArrayPrototype = Uint8Array && Uint8Array.prototype || {};\nvar arrayToString = [].toString;\nvar arrayJoin = [].join;\n\nif (fails(function () { arrayToString.call({}); })) {\n  arrayToString = function toString() {\n    return arrayJoin.call(this);\n  };\n}\n\nvar IS_NOT_ARRAY_METHOD = Uint8ArrayPrototype.toString != arrayToString;\n\n// `%TypedArray%.prototype.toString` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.tostring\nexportTypedArrayMethod('toString', arrayToString, IS_NOT_ARRAY_METHOD);\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint32Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint32', function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","var rbush = require('rbush');\nvar helpers = require('@turf/helpers');\nvar meta = require('@turf/meta');\nvar turfBBox = require('@turf/bbox').default;\nvar featureEach = meta.featureEach;\nvar coordEach = meta.coordEach;\nvar polygon = helpers.polygon;\nvar featureCollection = helpers.featureCollection;\n\n/**\n * GeoJSON implementation of [RBush](https://github.com/mourner/rbush#rbush) spatial index.\n *\n * @name rbush\n * @param {number} [maxEntries=9] defines the maximum number of entries in a tree node. 9 (used by default) is a\n * reasonable choice for most applications. Higher value means faster insertion and slower search, and vice versa.\n * @returns {RBush} GeoJSON RBush\n * @example\n * var geojsonRbush = require('geojson-rbush').default;\n * var tree = geojsonRbush();\n */\nfunction geojsonRbush(maxEntries) {\n    var tree = rbush(maxEntries);\n    /**\n     * [insert](https://github.com/mourner/rbush#data-format)\n     *\n     * @param {Feature} feature insert single GeoJSON Feature\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var poly = turf.polygon([[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]);\n     * tree.insert(poly)\n     */\n    tree.insert = function (feature) {\n        if (feature.type !== 'Feature') throw new Error('invalid feature');\n        feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n        return rbush.prototype.insert.call(this, feature);\n    };\n\n    /**\n     * [load](https://github.com/mourner/rbush#bulk-inserting-data)\n     *\n     * @param {FeatureCollection|Array<Feature>} features load entire GeoJSON FeatureCollection\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var polys = turf.polygons([\n     *     [[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]],\n     *     [[[-93, 32], [-83, 32], [-83, 39], [-93, 39], [-93, 32]]]\n     * ]);\n     * tree.load(polys);\n     */\n    tree.load = function (features) {\n        var load = [];\n        // Load an Array of Features\n        if (Array.isArray(features)) {\n            features.forEach(function (feature) {\n                if (feature.type !== 'Feature') throw new Error('invalid features');\n                feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n                load.push(feature);\n            });\n        } else {\n            // Load a FeatureCollection\n            featureEach(features, function (feature) {\n                if (feature.type !== 'Feature') throw new Error('invalid features');\n                feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n                load.push(feature);\n            });\n        }\n        return rbush.prototype.load.call(this, load);\n    };\n\n    /**\n     * [remove](https://github.com/mourner/rbush#removing-data)\n     *\n     * @param {Feature} feature remove single GeoJSON Feature\n     * @param {Function} equals Pass a custom equals function to compare by value for removal.\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var poly = turf.polygon([[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]);\n     *\n     * tree.remove(poly);\n     */\n    tree.remove = function (feature, equals) {\n        if (feature.type !== 'Feature') throw new Error('invalid feature');\n        feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n        return rbush.prototype.remove.call(this, feature, equals);\n    };\n\n    /**\n     * [clear](https://github.com/mourner/rbush#removing-data)\n     *\n     * @returns {RBush} GeoJSON Rbush\n     * @example\n     * tree.clear()\n     */\n    tree.clear = function () {\n        return rbush.prototype.clear.call(this);\n    };\n\n    /**\n     * [search](https://github.com/mourner/rbush#search)\n     *\n     * @param {BBox|FeatureCollection|Feature} geojson search with GeoJSON\n     * @returns {FeatureCollection} all features that intersects with the given GeoJSON.\n     * @example\n     * var poly = turf.polygon([[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]);\n     *\n     * tree.search(poly);\n     */\n    tree.search = function (geojson) {\n        var features = rbush.prototype.search.call(this, this.toBBox(geojson));\n        return featureCollection(features);\n    };\n\n    /**\n     * [collides](https://github.com/mourner/rbush#collisions)\n     *\n     * @param {BBox|FeatureCollection|Feature} geojson collides with GeoJSON\n     * @returns {boolean} true if there are any items intersecting the given GeoJSON, otherwise false.\n     * @example\n     * var poly = turf.polygon([[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]);\n     *\n     * tree.collides(poly);\n     */\n    tree.collides = function (geojson) {\n        return rbush.prototype.collides.call(this, this.toBBox(geojson));\n    };\n\n    /**\n     * [all](https://github.com/mourner/rbush#search)\n     *\n     * @returns {FeatureCollection} all the features in RBush\n     * @example\n     * tree.all()\n     */\n    tree.all = function () {\n        var features = rbush.prototype.all.call(this);\n        return featureCollection(features);\n    };\n\n    /**\n     * [toJSON](https://github.com/mourner/rbush#export-and-import)\n     *\n     * @returns {any} export data as JSON object\n     * @example\n     * var exported = tree.toJSON()\n     */\n    tree.toJSON = function () {\n        return rbush.prototype.toJSON.call(this);\n    };\n\n    /**\n     * [fromJSON](https://github.com/mourner/rbush#export-and-import)\n     *\n     * @param {any} json import previously exported data\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var exported = {\n     *   \"children\": [\n     *     {\n     *       \"type\": \"Feature\",\n     *       \"geometry\": {\n     *         \"type\": \"Point\",\n     *         \"coordinates\": [110, 50]\n     *       },\n     *       \"properties\": {},\n     *       \"bbox\": [110, 50, 110, 50]\n     *     }\n     *   ],\n     *   \"height\": 1,\n     *   \"leaf\": true,\n     *   \"minX\": 110,\n     *   \"minY\": 50,\n     *   \"maxX\": 110,\n     *   \"maxY\": 50\n     * }\n     * tree.fromJSON(exported)\n     */\n    tree.fromJSON = function (json) {\n        return rbush.prototype.fromJSON.call(this, json);\n    };\n\n    /**\n     * Converts GeoJSON to {minX, minY, maxX, maxY} schema\n     *\n     * @private\n     * @param {BBox|FeatureCollection|Feature} geojson feature(s) to retrieve BBox from\n     * @returns {Object} converted to {minX, minY, maxX, maxY}\n     */\n    tree.toBBox = function (geojson) {\n        var bbox;\n        if (geojson.bbox) bbox = geojson.bbox;\n        else if (Array.isArray(geojson) && geojson.length === 4) bbox = geojson;\n        else if (Array.isArray(geojson) && geojson.length === 6) bbox = [geojson[0], geojson[1], geojson[3], geojson[4]];\n        else if (geojson.type === 'Feature') bbox = turfBBox(geojson);\n        else if (geojson.type === 'FeatureCollection') bbox = turfBBox(geojson);\n        else throw new Error('invalid geojson')\n\n        return {\n            minX: bbox[0],\n            minY: bbox[1],\n            maxX: bbox[2],\n            maxY: bbox[3]\n        };\n    };\n    return tree;\n}\n\nmodule.exports = geojsonRbush;\nmodule.exports.default = geojsonRbush;\n","module.exports = function pointInPolygonFlat (point, vs, start, end) {\n    var x = point[0], y = point[1];\n    var inside = false;\n    if (start === undefined) start = 0;\n    if (end === undefined) end = vs.length;\n    var len = (end-start)/2;\n    for (var i = 0, j = len - 1; i < len; j = i++) {\n        var xi = vs[start+i*2+0], yi = vs[start+i*2+1];\n        var xj = vs[start+j*2+0], yj = vs[start+j*2+1];\n        var intersect = ((yi > y) !== (yj > y))\n            && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n        if (intersect) inside = !inside;\n    }\n    return inside;\n};\n","var pointInPolygonFlat = require('./flat.js')\nvar pointInPolygonNested = require('./nested.js')\n\nmodule.exports = function pointInPolygon (point, vs, start, end) {\n    if (vs.length > 0 && Array.isArray(vs[0])) {\n        return pointInPolygonNested(point, vs, start, end);\n    } else {\n        return pointInPolygonFlat(point, vs, start, end);\n    }\n}\nmodule.exports.nested = pointInPolygonNested\nmodule.exports.flat = pointInPolygonFlat\n","// ray-casting algorithm based on\n// https://wrf.ecse.rpi.edu/Research/Short_Notes/pnpoly.html\n\nmodule.exports = function pointInPolygonNested (point, vs, start, end) {\n    var x = point[0], y = point[1];\n    var inside = false;\n    if (start === undefined) start = 0;\n    if (end === undefined) end = vs.length;\n    var len = end - start;\n    for (var i = 0, j = len - 1; i < len; j = i++) {\n        var xi = vs[i+start][0], yi = vs[i+start][1];\n        var xj = vs[j+start][0], yj = vs[j+start][1];\n        var intersect = ((yi > y) !== (yj > y))\n            && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n        if (intersect) inside = !inside;\n    }\n    return inside;\n};\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.polygonClipping = factory());\n}(this, (function () { 'use strict';\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  /**\n   * splaytree v3.1.0\n   * Fast Splay tree for Node and browser\n   *\n   * @author Alexander Milevski <info@w8r.name>\n   * @license MIT\n   * @preserve\n   */\n  var Node =\n  /** @class */\n  function () {\n    function Node(key, data) {\n      this.next = null;\n      this.key = key;\n      this.data = data;\n      this.left = null;\n      this.right = null;\n    }\n\n    return Node;\n  }();\n  /* follows \"An implementation of top-down splaying\"\r\n   * by D. Sleator <sleator@cs.cmu.edu> March 1992\r\n   */\n\n\n  function DEFAULT_COMPARE(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n  /**\r\n   * Simple top down splay, not requiring i to be in the tree t.\r\n   */\n\n\n  function splay(i, t, comparator) {\n    var N = new Node(null, null);\n    var l = N;\n    var r = N;\n\n    while (true) {\n      var cmp = comparator(i, t.key); //if (i < t.key) {\n\n      if (cmp < 0) {\n        if (t.left === null) break; //if (i < t.left.key) {\n\n        if (comparator(i, t.left.key) < 0) {\n          var y = t.left;\n          /* rotate right */\n\n          t.left = y.right;\n          y.right = t;\n          t = y;\n          if (t.left === null) break;\n        }\n\n        r.left = t;\n        /* link right */\n\n        r = t;\n        t = t.left; //} else if (i > t.key) {\n      } else if (cmp > 0) {\n        if (t.right === null) break; //if (i > t.right.key) {\n\n        if (comparator(i, t.right.key) > 0) {\n          var y = t.right;\n          /* rotate left */\n\n          t.right = y.left;\n          y.left = t;\n          t = y;\n          if (t.right === null) break;\n        }\n\n        l.right = t;\n        /* link left */\n\n        l = t;\n        t = t.right;\n      } else break;\n    }\n    /* assemble */\n\n\n    l.right = t.left;\n    r.left = t.right;\n    t.left = N.right;\n    t.right = N.left;\n    return t;\n  }\n\n  function insert(i, data, t, comparator) {\n    var node = new Node(i, data);\n\n    if (t === null) {\n      node.left = node.right = null;\n      return node;\n    }\n\n    t = splay(i, t, comparator);\n    var cmp = comparator(i, t.key);\n\n    if (cmp < 0) {\n      node.left = t.left;\n      node.right = t;\n      t.left = null;\n    } else if (cmp >= 0) {\n      node.right = t.right;\n      node.left = t;\n      t.right = null;\n    }\n\n    return node;\n  }\n\n  function split(key, v, comparator) {\n    var left = null;\n    var right = null;\n\n    if (v) {\n      v = splay(key, v, comparator);\n      var cmp = comparator(v.key, key);\n\n      if (cmp === 0) {\n        left = v.left;\n        right = v.right;\n      } else if (cmp < 0) {\n        right = v.right;\n        v.right = null;\n        left = v;\n      } else {\n        left = v.left;\n        v.left = null;\n        right = v;\n      }\n    }\n\n    return {\n      left: left,\n      right: right\n    };\n  }\n\n  function merge(left, right, comparator) {\n    if (right === null) return left;\n    if (left === null) return right;\n    right = splay(left.key, right, comparator);\n    right.left = left;\n    return right;\n  }\n  /**\r\n   * Prints level of the tree\r\n   */\n\n\n  function printRow(root, prefix, isTail, out, printNode) {\n    if (root) {\n      out(\"\" + prefix + (isTail ? '└── ' : '├── ') + printNode(root) + \"\\n\");\n      var indent = prefix + (isTail ? '    ' : '│   ');\n      if (root.left) printRow(root.left, indent, false, out, printNode);\n      if (root.right) printRow(root.right, indent, true, out, printNode);\n    }\n  }\n\n  var Tree =\n  /** @class */\n  function () {\n    function Tree(comparator) {\n      if (comparator === void 0) {\n        comparator = DEFAULT_COMPARE;\n      }\n\n      this._root = null;\n      this._size = 0;\n      this._comparator = comparator;\n    }\n    /**\r\n     * Inserts a key, allows duplicates\r\n     */\n\n\n    Tree.prototype.insert = function (key, data) {\n      this._size++;\n      return this._root = insert(key, data, this._root, this._comparator);\n    };\n    /**\r\n     * Adds a key, if it is not present in the tree\r\n     */\n\n\n    Tree.prototype.add = function (key, data) {\n      var node = new Node(key, data);\n\n      if (this._root === null) {\n        node.left = node.right = null;\n        this._size++;\n        this._root = node;\n      }\n\n      var comparator = this._comparator;\n      var t = splay(key, this._root, comparator);\n      var cmp = comparator(key, t.key);\n      if (cmp === 0) this._root = t;else {\n        if (cmp < 0) {\n          node.left = t.left;\n          node.right = t;\n          t.left = null;\n        } else if (cmp > 0) {\n          node.right = t.right;\n          node.left = t;\n          t.right = null;\n        }\n\n        this._size++;\n        this._root = node;\n      }\n      return this._root;\n    };\n    /**\r\n     * @param  {Key} key\r\n     * @return {Node|null}\r\n     */\n\n\n    Tree.prototype.remove = function (key) {\n      this._root = this._remove(key, this._root, this._comparator);\n    };\n    /**\r\n     * Deletes i from the tree if it's there\r\n     */\n\n\n    Tree.prototype._remove = function (i, t, comparator) {\n      var x;\n      if (t === null) return null;\n      t = splay(i, t, comparator);\n      var cmp = comparator(i, t.key);\n\n      if (cmp === 0) {\n        /* found it */\n        if (t.left === null) {\n          x = t.right;\n        } else {\n          x = splay(i, t.left, comparator);\n          x.right = t.right;\n        }\n\n        this._size--;\n        return x;\n      }\n\n      return t;\n      /* It wasn't there */\n    };\n    /**\r\n     * Removes and returns the node with smallest key\r\n     */\n\n\n    Tree.prototype.pop = function () {\n      var node = this._root;\n\n      if (node) {\n        while (node.left) {\n          node = node.left;\n        }\n\n        this._root = splay(node.key, this._root, this._comparator);\n        this._root = this._remove(node.key, this._root, this._comparator);\n        return {\n          key: node.key,\n          data: node.data\n        };\n      }\n\n      return null;\n    };\n    /**\r\n     * Find without splaying\r\n     */\n\n\n    Tree.prototype.findStatic = function (key) {\n      var current = this._root;\n      var compare = this._comparator;\n\n      while (current) {\n        var cmp = compare(key, current.key);\n        if (cmp === 0) return current;else if (cmp < 0) current = current.left;else current = current.right;\n      }\n\n      return null;\n    };\n\n    Tree.prototype.find = function (key) {\n      if (this._root) {\n        this._root = splay(key, this._root, this._comparator);\n        if (this._comparator(key, this._root.key) !== 0) return null;\n      }\n\n      return this._root;\n    };\n\n    Tree.prototype.contains = function (key) {\n      var current = this._root;\n      var compare = this._comparator;\n\n      while (current) {\n        var cmp = compare(key, current.key);\n        if (cmp === 0) return true;else if (cmp < 0) current = current.left;else current = current.right;\n      }\n\n      return false;\n    };\n\n    Tree.prototype.forEach = function (visitor, ctx) {\n      var current = this._root;\n      var Q = [];\n      /* Initialize stack s */\n\n      var done = false;\n\n      while (!done) {\n        if (current !== null) {\n          Q.push(current);\n          current = current.left;\n        } else {\n          if (Q.length !== 0) {\n            current = Q.pop();\n            visitor.call(ctx, current);\n            current = current.right;\n          } else done = true;\n        }\n      }\n\n      return this;\n    };\n    /**\r\n     * Walk key range from `low` to `high`. Stops if `fn` returns a value.\r\n     */\n\n\n    Tree.prototype.range = function (low, high, fn, ctx) {\n      var Q = [];\n      var compare = this._comparator;\n      var node = this._root;\n      var cmp;\n\n      while (Q.length !== 0 || node) {\n        if (node) {\n          Q.push(node);\n          node = node.left;\n        } else {\n          node = Q.pop();\n          cmp = compare(node.key, high);\n\n          if (cmp > 0) {\n            break;\n          } else if (compare(node.key, low) >= 0) {\n            if (fn.call(ctx, node)) return this; // stop if smth is returned\n          }\n\n          node = node.right;\n        }\n      }\n\n      return this;\n    };\n    /**\r\n     * Returns array of keys\r\n     */\n\n\n    Tree.prototype.keys = function () {\n      var keys = [];\n      this.forEach(function (_a) {\n        var key = _a.key;\n        return keys.push(key);\n      });\n      return keys;\n    };\n    /**\r\n     * Returns array of all the data in the nodes\r\n     */\n\n\n    Tree.prototype.values = function () {\n      var values = [];\n      this.forEach(function (_a) {\n        var data = _a.data;\n        return values.push(data);\n      });\n      return values;\n    };\n\n    Tree.prototype.min = function () {\n      if (this._root) return this.minNode(this._root).key;\n      return null;\n    };\n\n    Tree.prototype.max = function () {\n      if (this._root) return this.maxNode(this._root).key;\n      return null;\n    };\n\n    Tree.prototype.minNode = function (t) {\n      if (t === void 0) {\n        t = this._root;\n      }\n\n      if (t) while (t.left) {\n        t = t.left;\n      }\n      return t;\n    };\n\n    Tree.prototype.maxNode = function (t) {\n      if (t === void 0) {\n        t = this._root;\n      }\n\n      if (t) while (t.right) {\n        t = t.right;\n      }\n      return t;\n    };\n    /**\r\n     * Returns node at given index\r\n     */\n\n\n    Tree.prototype.at = function (index) {\n      var current = this._root;\n      var done = false;\n      var i = 0;\n      var Q = [];\n\n      while (!done) {\n        if (current) {\n          Q.push(current);\n          current = current.left;\n        } else {\n          if (Q.length > 0) {\n            current = Q.pop();\n            if (i === index) return current;\n            i++;\n            current = current.right;\n          } else done = true;\n        }\n      }\n\n      return null;\n    };\n\n    Tree.prototype.next = function (d) {\n      var root = this._root;\n      var successor = null;\n\n      if (d.right) {\n        successor = d.right;\n\n        while (successor.left) {\n          successor = successor.left;\n        }\n\n        return successor;\n      }\n\n      var comparator = this._comparator;\n\n      while (root) {\n        var cmp = comparator(d.key, root.key);\n        if (cmp === 0) break;else if (cmp < 0) {\n          successor = root;\n          root = root.left;\n        } else root = root.right;\n      }\n\n      return successor;\n    };\n\n    Tree.prototype.prev = function (d) {\n      var root = this._root;\n      var predecessor = null;\n\n      if (d.left !== null) {\n        predecessor = d.left;\n\n        while (predecessor.right) {\n          predecessor = predecessor.right;\n        }\n\n        return predecessor;\n      }\n\n      var comparator = this._comparator;\n\n      while (root) {\n        var cmp = comparator(d.key, root.key);\n        if (cmp === 0) break;else if (cmp < 0) root = root.left;else {\n          predecessor = root;\n          root = root.right;\n        }\n      }\n\n      return predecessor;\n    };\n\n    Tree.prototype.clear = function () {\n      this._root = null;\n      this._size = 0;\n      return this;\n    };\n\n    Tree.prototype.toList = function () {\n      return toList(this._root);\n    };\n    /**\r\n     * Bulk-load items. Both array have to be same size\r\n     */\n\n\n    Tree.prototype.load = function (keys, values, presort) {\n      if (values === void 0) {\n        values = [];\n      }\n\n      if (presort === void 0) {\n        presort = false;\n      }\n\n      var size = keys.length;\n      var comparator = this._comparator; // sort if needed\n\n      if (presort) sort(keys, values, 0, size - 1, comparator);\n\n      if (this._root === null) {\n        // empty tree\n        this._root = loadRecursive(keys, values, 0, size);\n        this._size = size;\n      } else {\n        // that re-builds the whole tree from two in-order traversals\n        var mergedList = mergeLists(this.toList(), createList(keys, values), comparator);\n        size = this._size + size;\n        this._root = sortedListToBST({\n          head: mergedList\n        }, 0, size);\n      }\n\n      return this;\n    };\n\n    Tree.prototype.isEmpty = function () {\n      return this._root === null;\n    };\n\n    Object.defineProperty(Tree.prototype, \"size\", {\n      get: function get() {\n        return this._size;\n      },\n      enumerable: true,\n      configurable: true\n    });\n    Object.defineProperty(Tree.prototype, \"root\", {\n      get: function get() {\n        return this._root;\n      },\n      enumerable: true,\n      configurable: true\n    });\n\n    Tree.prototype.toString = function (printNode) {\n      if (printNode === void 0) {\n        printNode = function printNode(n) {\n          return String(n.key);\n        };\n      }\n\n      var out = [];\n      printRow(this._root, '', true, function (v) {\n        return out.push(v);\n      }, printNode);\n      return out.join('');\n    };\n\n    Tree.prototype.update = function (key, newKey, newData) {\n      var comparator = this._comparator;\n\n      var _a = split(key, this._root, comparator),\n          left = _a.left,\n          right = _a.right;\n\n      if (comparator(key, newKey) < 0) {\n        right = insert(newKey, newData, right, comparator);\n      } else {\n        left = insert(newKey, newData, left, comparator);\n      }\n\n      this._root = merge(left, right, comparator);\n    };\n\n    Tree.prototype.split = function (key) {\n      return split(key, this._root, this._comparator);\n    };\n\n    return Tree;\n  }();\n\n  function loadRecursive(keys, values, start, end) {\n    var size = end - start;\n\n    if (size > 0) {\n      var middle = start + Math.floor(size / 2);\n      var key = keys[middle];\n      var data = values[middle];\n      var node = new Node(key, data);\n      node.left = loadRecursive(keys, values, start, middle);\n      node.right = loadRecursive(keys, values, middle + 1, end);\n      return node;\n    }\n\n    return null;\n  }\n\n  function createList(keys, values) {\n    var head = new Node(null, null);\n    var p = head;\n\n    for (var i = 0; i < keys.length; i++) {\n      p = p.next = new Node(keys[i], values[i]);\n    }\n\n    p.next = null;\n    return head.next;\n  }\n\n  function toList(root) {\n    var current = root;\n    var Q = [];\n    var done = false;\n    var head = new Node(null, null);\n    var p = head;\n\n    while (!done) {\n      if (current) {\n        Q.push(current);\n        current = current.left;\n      } else {\n        if (Q.length > 0) {\n          current = p = p.next = Q.pop();\n          current = current.right;\n        } else done = true;\n      }\n    }\n\n    p.next = null; // that'll work even if the tree was empty\n\n    return head.next;\n  }\n\n  function sortedListToBST(list, start, end) {\n    var size = end - start;\n\n    if (size > 0) {\n      var middle = start + Math.floor(size / 2);\n      var left = sortedListToBST(list, start, middle);\n      var root = list.head;\n      root.left = left;\n      list.head = list.head.next;\n      root.right = sortedListToBST(list, middle + 1, end);\n      return root;\n    }\n\n    return null;\n  }\n\n  function mergeLists(l1, l2, compare) {\n    var head = new Node(null, null); // dummy\n\n    var p = head;\n    var p1 = l1;\n    var p2 = l2;\n\n    while (p1 !== null && p2 !== null) {\n      if (compare(p1.key, p2.key) < 0) {\n        p.next = p1;\n        p1 = p1.next;\n      } else {\n        p.next = p2;\n        p2 = p2.next;\n      }\n\n      p = p.next;\n    }\n\n    if (p1 !== null) {\n      p.next = p1;\n    } else if (p2 !== null) {\n      p.next = p2;\n    }\n\n    return head.next;\n  }\n\n  function sort(keys, values, left, right, compare) {\n    if (left >= right) return;\n    var pivot = keys[left + right >> 1];\n    var i = left - 1;\n    var j = right + 1;\n\n    while (true) {\n      do {\n        i++;\n      } while (compare(keys[i], pivot) < 0);\n\n      do {\n        j--;\n      } while (compare(keys[j], pivot) > 0);\n\n      if (i >= j) break;\n      var tmp = keys[i];\n      keys[i] = keys[j];\n      keys[j] = tmp;\n      tmp = values[i];\n      values[i] = values[j];\n      values[j] = tmp;\n    }\n\n    sort(keys, values, left, j, compare);\n    sort(keys, values, j + 1, right, compare);\n  }\n\n  /**\n   * A bounding box has the format:\n   *\n   *  { ll: { x: xmin, y: ymin }, ur: { x: xmax, y: ymax } }\n   *\n   */\n  var isInBbox = function isInBbox(bbox, point) {\n    return bbox.ll.x <= point.x && point.x <= bbox.ur.x && bbox.ll.y <= point.y && point.y <= bbox.ur.y;\n  };\n  /* Returns either null, or a bbox (aka an ordered pair of points)\n   * If there is only one point of overlap, a bbox with identical points\n   * will be returned */\n\n  var getBboxOverlap = function getBboxOverlap(b1, b2) {\n    // check if the bboxes overlap at all\n    if (b2.ur.x < b1.ll.x || b1.ur.x < b2.ll.x || b2.ur.y < b1.ll.y || b1.ur.y < b2.ll.y) return null; // find the middle two X values\n\n    var lowerX = b1.ll.x < b2.ll.x ? b2.ll.x : b1.ll.x;\n    var upperX = b1.ur.x < b2.ur.x ? b1.ur.x : b2.ur.x; // find the middle two Y values\n\n    var lowerY = b1.ll.y < b2.ll.y ? b2.ll.y : b1.ll.y;\n    var upperY = b1.ur.y < b2.ur.y ? b1.ur.y : b2.ur.y; // put those middle values together to get the overlap\n\n    return {\n      ll: {\n        x: lowerX,\n        y: lowerY\n      },\n      ur: {\n        x: upperX,\n        y: upperY\n      }\n    };\n  };\n\n  /* Javascript doesn't do integer math. Everything is\n   * floating point with percision Number.EPSILON.\n   *\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/EPSILON\n   */\n  var epsilon = Number.EPSILON; // IE Polyfill\n\n  if (epsilon === undefined) epsilon = Math.pow(2, -52);\n  var EPSILON_SQ = epsilon * epsilon;\n  /* FLP comparator */\n\n  var cmp = function cmp(a, b) {\n    // check if they're both 0\n    if (-epsilon < a && a < epsilon) {\n      if (-epsilon < b && b < epsilon) {\n        return 0;\n      }\n    } // check if they're flp equal\n\n\n    var ab = a - b;\n\n    if (ab * ab < EPSILON_SQ * a * b) {\n      return 0;\n    } // normal comparison\n\n\n    return a < b ? -1 : 1;\n  };\n\n  /**\n   * This class rounds incoming values sufficiently so that\n   * floating points problems are, for the most part, avoided.\n   *\n   * Incoming points are have their x & y values tested against\n   * all previously seen x & y values. If either is 'too close'\n   * to a previously seen value, it's value is 'snapped' to the\n   * previously seen value.\n   *\n   * All points should be rounded by this class before being\n   * stored in any data structures in the rest of this algorithm.\n   */\n\n  var PtRounder = /*#__PURE__*/function () {\n    function PtRounder() {\n      _classCallCheck(this, PtRounder);\n\n      this.reset();\n    }\n\n    _createClass(PtRounder, [{\n      key: \"reset\",\n      value: function reset() {\n        this.xRounder = new CoordRounder();\n        this.yRounder = new CoordRounder();\n      }\n    }, {\n      key: \"round\",\n      value: function round(x, y) {\n        return {\n          x: this.xRounder.round(x),\n          y: this.yRounder.round(y)\n        };\n      }\n    }]);\n\n    return PtRounder;\n  }();\n\n  var CoordRounder = /*#__PURE__*/function () {\n    function CoordRounder() {\n      _classCallCheck(this, CoordRounder);\n\n      this.tree = new Tree(); // preseed with 0 so we don't end up with values < Number.EPSILON\n\n      this.round(0);\n    } // Note: this can rounds input values backwards or forwards.\n    //       You might ask, why not restrict this to just rounding\n    //       forwards? Wouldn't that allow left endpoints to always\n    //       remain left endpoints during splitting (never change to\n    //       right). No - it wouldn't, because we snap intersections\n    //       to endpoints (to establish independence from the segment\n    //       angle for t-intersections).\n\n\n    _createClass(CoordRounder, [{\n      key: \"round\",\n      value: function round(coord) {\n        var node = this.tree.add(coord);\n        var prevNode = this.tree.prev(node);\n\n        if (prevNode !== null && cmp(node.key, prevNode.key) === 0) {\n          this.tree.remove(coord);\n          return prevNode.key;\n        }\n\n        var nextNode = this.tree.next(node);\n\n        if (nextNode !== null && cmp(node.key, nextNode.key) === 0) {\n          this.tree.remove(coord);\n          return nextNode.key;\n        }\n\n        return coord;\n      }\n    }]);\n\n    return CoordRounder;\n  }(); // singleton available by import\n\n\n  var rounder = new PtRounder();\n\n  /* Cross Product of two vectors with first point at origin */\n\n  var crossProduct = function crossProduct(a, b) {\n    return a.x * b.y - a.y * b.x;\n  };\n  /* Dot Product of two vectors with first point at origin */\n\n  var dotProduct = function dotProduct(a, b) {\n    return a.x * b.x + a.y * b.y;\n  };\n  /* Comparator for two vectors with same starting point */\n\n  var compareVectorAngles = function compareVectorAngles(basePt, endPt1, endPt2) {\n    var v1 = {\n      x: endPt1.x - basePt.x,\n      y: endPt1.y - basePt.y\n    };\n    var v2 = {\n      x: endPt2.x - basePt.x,\n      y: endPt2.y - basePt.y\n    };\n    var kross = crossProduct(v1, v2);\n    return cmp(kross, 0);\n  };\n  var length = function length(v) {\n    return Math.sqrt(dotProduct(v, v));\n  };\n  /* Get the sine of the angle from pShared -> pAngle to pShaed -> pBase */\n\n  var sineOfAngle = function sineOfAngle(pShared, pBase, pAngle) {\n    var vBase = {\n      x: pBase.x - pShared.x,\n      y: pBase.y - pShared.y\n    };\n    var vAngle = {\n      x: pAngle.x - pShared.x,\n      y: pAngle.y - pShared.y\n    };\n    return crossProduct(vAngle, vBase) / length(vAngle) / length(vBase);\n  };\n  /* Get the cosine of the angle from pShared -> pAngle to pShaed -> pBase */\n\n  var cosineOfAngle = function cosineOfAngle(pShared, pBase, pAngle) {\n    var vBase = {\n      x: pBase.x - pShared.x,\n      y: pBase.y - pShared.y\n    };\n    var vAngle = {\n      x: pAngle.x - pShared.x,\n      y: pAngle.y - pShared.y\n    };\n    return dotProduct(vAngle, vBase) / length(vAngle) / length(vBase);\n  };\n  /* Get the x coordinate where the given line (defined by a point and vector)\n   * crosses the horizontal line with the given y coordiante.\n   * In the case of parrallel lines (including overlapping ones) returns null. */\n\n  var horizontalIntersection = function horizontalIntersection(pt, v, y) {\n    if (v.y === 0) return null;\n    return {\n      x: pt.x + v.x / v.y * (y - pt.y),\n      y: y\n    };\n  };\n  /* Get the y coordinate where the given line (defined by a point and vector)\n   * crosses the vertical line with the given x coordiante.\n   * In the case of parrallel lines (including overlapping ones) returns null. */\n\n  var verticalIntersection = function verticalIntersection(pt, v, x) {\n    if (v.x === 0) return null;\n    return {\n      x: x,\n      y: pt.y + v.y / v.x * (x - pt.x)\n    };\n  };\n  /* Get the intersection of two lines, each defined by a base point and a vector.\n   * In the case of parrallel lines (including overlapping ones) returns null. */\n\n  var intersection = function intersection(pt1, v1, pt2, v2) {\n    // take some shortcuts for vertical and horizontal lines\n    // this also ensures we don't calculate an intersection and then discover\n    // it's actually outside the bounding box of the line\n    if (v1.x === 0) return verticalIntersection(pt2, v2, pt1.x);\n    if (v2.x === 0) return verticalIntersection(pt1, v1, pt2.x);\n    if (v1.y === 0) return horizontalIntersection(pt2, v2, pt1.y);\n    if (v2.y === 0) return horizontalIntersection(pt1, v1, pt2.y); // General case for non-overlapping segments.\n    // This algorithm is based on Schneider and Eberly.\n    // http://www.cimec.org.ar/~ncalvo/Schneider_Eberly.pdf - pg 244\n\n    var kross = crossProduct(v1, v2);\n    if (kross == 0) return null;\n    var ve = {\n      x: pt2.x - pt1.x,\n      y: pt2.y - pt1.y\n    };\n    var d1 = crossProduct(ve, v1) / kross;\n    var d2 = crossProduct(ve, v2) / kross; // take the average of the two calculations to minimize rounding error\n\n    var x1 = pt1.x + d2 * v1.x,\n        x2 = pt2.x + d1 * v2.x;\n    var y1 = pt1.y + d2 * v1.y,\n        y2 = pt2.y + d1 * v2.y;\n    var x = (x1 + x2) / 2;\n    var y = (y1 + y2) / 2;\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  var SweepEvent = /*#__PURE__*/function () {\n    _createClass(SweepEvent, null, [{\n      key: \"compare\",\n      // for ordering sweep events in the sweep event queue\n      value: function compare(a, b) {\n        // favor event with a point that the sweep line hits first\n        var ptCmp = SweepEvent.comparePoints(a.point, b.point);\n        if (ptCmp !== 0) return ptCmp; // the points are the same, so link them if needed\n\n        if (a.point !== b.point) a.link(b); // favor right events over left\n\n        if (a.isLeft !== b.isLeft) return a.isLeft ? 1 : -1; // we have two matching left or right endpoints\n        // ordering of this case is the same as for their segments\n\n        return Segment.compare(a.segment, b.segment);\n      } // for ordering points in sweep line order\n\n    }, {\n      key: \"comparePoints\",\n      value: function comparePoints(aPt, bPt) {\n        if (aPt.x < bPt.x) return -1;\n        if (aPt.x > bPt.x) return 1;\n        if (aPt.y < bPt.y) return -1;\n        if (aPt.y > bPt.y) return 1;\n        return 0;\n      } // Warning: 'point' input will be modified and re-used (for performance)\n\n    }]);\n\n    function SweepEvent(point, isLeft) {\n      _classCallCheck(this, SweepEvent);\n\n      if (point.events === undefined) point.events = [this];else point.events.push(this);\n      this.point = point;\n      this.isLeft = isLeft; // this.segment, this.otherSE set by factory\n    }\n\n    _createClass(SweepEvent, [{\n      key: \"link\",\n      value: function link(other) {\n        if (other.point === this.point) {\n          throw new Error('Tried to link already linked events');\n        }\n\n        var otherEvents = other.point.events;\n\n        for (var i = 0, iMax = otherEvents.length; i < iMax; i++) {\n          var evt = otherEvents[i];\n          this.point.events.push(evt);\n          evt.point = this.point;\n        }\n\n        this.checkForConsuming();\n      }\n      /* Do a pass over our linked events and check to see if any pair\n       * of segments match, and should be consumed. */\n\n    }, {\n      key: \"checkForConsuming\",\n      value: function checkForConsuming() {\n        // FIXME: The loops in this method run O(n^2) => no good.\n        //        Maintain little ordered sweep event trees?\n        //        Can we maintaining an ordering that avoids the need\n        //        for the re-sorting with getLeftmostComparator in geom-out?\n        // Compare each pair of events to see if other events also match\n        var numEvents = this.point.events.length;\n\n        for (var i = 0; i < numEvents; i++) {\n          var evt1 = this.point.events[i];\n          if (evt1.segment.consumedBy !== undefined) continue;\n\n          for (var j = i + 1; j < numEvents; j++) {\n            var evt2 = this.point.events[j];\n            if (evt2.consumedBy !== undefined) continue;\n            if (evt1.otherSE.point.events !== evt2.otherSE.point.events) continue;\n            evt1.segment.consume(evt2.segment);\n          }\n        }\n      }\n    }, {\n      key: \"getAvailableLinkedEvents\",\n      value: function getAvailableLinkedEvents() {\n        // point.events is always of length 2 or greater\n        var events = [];\n\n        for (var i = 0, iMax = this.point.events.length; i < iMax; i++) {\n          var evt = this.point.events[i];\n\n          if (evt !== this && !evt.segment.ringOut && evt.segment.isInResult()) {\n            events.push(evt);\n          }\n        }\n\n        return events;\n      }\n      /**\n       * Returns a comparator function for sorting linked events that will\n       * favor the event that will give us the smallest left-side angle.\n       * All ring construction starts as low as possible heading to the right,\n       * so by always turning left as sharp as possible we'll get polygons\n       * without uncessary loops & holes.\n       *\n       * The comparator function has a compute cache such that it avoids\n       * re-computing already-computed values.\n       */\n\n    }, {\n      key: \"getLeftmostComparator\",\n      value: function getLeftmostComparator(baseEvent) {\n        var _this = this;\n\n        var cache = new Map();\n\n        var fillCache = function fillCache(linkedEvent) {\n          var nextEvent = linkedEvent.otherSE;\n          cache.set(linkedEvent, {\n            sine: sineOfAngle(_this.point, baseEvent.point, nextEvent.point),\n            cosine: cosineOfAngle(_this.point, baseEvent.point, nextEvent.point)\n          });\n        };\n\n        return function (a, b) {\n          if (!cache.has(a)) fillCache(a);\n          if (!cache.has(b)) fillCache(b);\n\n          var _cache$get = cache.get(a),\n              asine = _cache$get.sine,\n              acosine = _cache$get.cosine;\n\n          var _cache$get2 = cache.get(b),\n              bsine = _cache$get2.sine,\n              bcosine = _cache$get2.cosine; // both on or above x-axis\n\n\n          if (asine >= 0 && bsine >= 0) {\n            if (acosine < bcosine) return 1;\n            if (acosine > bcosine) return -1;\n            return 0;\n          } // both below x-axis\n\n\n          if (asine < 0 && bsine < 0) {\n            if (acosine < bcosine) return -1;\n            if (acosine > bcosine) return 1;\n            return 0;\n          } // one above x-axis, one below\n\n\n          if (bsine < asine) return -1;\n          if (bsine > asine) return 1;\n          return 0;\n        };\n      }\n    }]);\n\n    return SweepEvent;\n  }();\n\n  // segments and sweep events when all else is identical\n\n  var segmentId = 0;\n\n  var Segment = /*#__PURE__*/function () {\n    _createClass(Segment, null, [{\n      key: \"compare\",\n\n      /* This compare() function is for ordering segments in the sweep\n       * line tree, and does so according to the following criteria:\n       *\n       * Consider the vertical line that lies an infinestimal step to the\n       * right of the right-more of the two left endpoints of the input\n       * segments. Imagine slowly moving a point up from negative infinity\n       * in the increasing y direction. Which of the two segments will that\n       * point intersect first? That segment comes 'before' the other one.\n       *\n       * If neither segment would be intersected by such a line, (if one\n       * or more of the segments are vertical) then the line to be considered\n       * is directly on the right-more of the two left inputs.\n       */\n      value: function compare(a, b) {\n        var alx = a.leftSE.point.x;\n        var blx = b.leftSE.point.x;\n        var arx = a.rightSE.point.x;\n        var brx = b.rightSE.point.x; // check if they're even in the same vertical plane\n\n        if (brx < alx) return 1;\n        if (arx < blx) return -1;\n        var aly = a.leftSE.point.y;\n        var bly = b.leftSE.point.y;\n        var ary = a.rightSE.point.y;\n        var bry = b.rightSE.point.y; // is left endpoint of segment B the right-more?\n\n        if (alx < blx) {\n          // are the two segments in the same horizontal plane?\n          if (bly < aly && bly < ary) return 1;\n          if (bly > aly && bly > ary) return -1; // is the B left endpoint colinear to segment A?\n\n          var aCmpBLeft = a.comparePoint(b.leftSE.point);\n          if (aCmpBLeft < 0) return 1;\n          if (aCmpBLeft > 0) return -1; // is the A right endpoint colinear to segment B ?\n\n          var bCmpARight = b.comparePoint(a.rightSE.point);\n          if (bCmpARight !== 0) return bCmpARight; // colinear segments, consider the one with left-more\n          // left endpoint to be first (arbitrary?)\n\n          return -1;\n        } // is left endpoint of segment A the right-more?\n\n\n        if (alx > blx) {\n          if (aly < bly && aly < bry) return -1;\n          if (aly > bly && aly > bry) return 1; // is the A left endpoint colinear to segment B?\n\n          var bCmpALeft = b.comparePoint(a.leftSE.point);\n          if (bCmpALeft !== 0) return bCmpALeft; // is the B right endpoint colinear to segment A?\n\n          var aCmpBRight = a.comparePoint(b.rightSE.point);\n          if (aCmpBRight < 0) return 1;\n          if (aCmpBRight > 0) return -1; // colinear segments, consider the one with left-more\n          // left endpoint to be first (arbitrary?)\n\n          return 1;\n        } // if we get here, the two left endpoints are in the same\n        // vertical plane, ie alx === blx\n        // consider the lower left-endpoint to come first\n\n\n        if (aly < bly) return -1;\n        if (aly > bly) return 1; // left endpoints are identical\n        // check for colinearity by using the left-more right endpoint\n        // is the A right endpoint more left-more?\n\n        if (arx < brx) {\n          var _bCmpARight = b.comparePoint(a.rightSE.point);\n\n          if (_bCmpARight !== 0) return _bCmpARight;\n        } // is the B right endpoint more left-more?\n\n\n        if (arx > brx) {\n          var _aCmpBRight = a.comparePoint(b.rightSE.point);\n\n          if (_aCmpBRight < 0) return 1;\n          if (_aCmpBRight > 0) return -1;\n        }\n\n        if (arx !== brx) {\n          // are these two [almost] vertical segments with opposite orientation?\n          // if so, the one with the lower right endpoint comes first\n          var ay = ary - aly;\n          var ax = arx - alx;\n          var by = bry - bly;\n          var bx = brx - blx;\n          if (ay > ax && by < bx) return 1;\n          if (ay < ax && by > bx) return -1;\n        } // we have colinear segments with matching orientation\n        // consider the one with more left-more right endpoint to be first\n\n\n        if (arx > brx) return 1;\n        if (arx < brx) return -1; // if we get here, two two right endpoints are in the same\n        // vertical plane, ie arx === brx\n        // consider the lower right-endpoint to come first\n\n        if (ary < bry) return -1;\n        if (ary > bry) return 1; // right endpoints identical as well, so the segments are idential\n        // fall back on creation order as consistent tie-breaker\n\n        if (a.id < b.id) return -1;\n        if (a.id > b.id) return 1; // identical segment, ie a === b\n\n        return 0;\n      }\n      /* Warning: a reference to ringWindings input will be stored,\n       *  and possibly will be later modified */\n\n    }]);\n\n    function Segment(leftSE, rightSE, rings, windings) {\n      _classCallCheck(this, Segment);\n\n      this.id = ++segmentId;\n      this.leftSE = leftSE;\n      leftSE.segment = this;\n      leftSE.otherSE = rightSE;\n      this.rightSE = rightSE;\n      rightSE.segment = this;\n      rightSE.otherSE = leftSE;\n      this.rings = rings;\n      this.windings = windings; // left unset for performance, set later in algorithm\n      // this.ringOut, this.consumedBy, this.prev\n    }\n\n    _createClass(Segment, [{\n      key: \"replaceRightSE\",\n\n      /* When a segment is split, the rightSE is replaced with a new sweep event */\n      value: function replaceRightSE(newRightSE) {\n        this.rightSE = newRightSE;\n        this.rightSE.segment = this;\n        this.rightSE.otherSE = this.leftSE;\n        this.leftSE.otherSE = this.rightSE;\n      }\n    }, {\n      key: \"bbox\",\n      value: function bbox() {\n        var y1 = this.leftSE.point.y;\n        var y2 = this.rightSE.point.y;\n        return {\n          ll: {\n            x: this.leftSE.point.x,\n            y: y1 < y2 ? y1 : y2\n          },\n          ur: {\n            x: this.rightSE.point.x,\n            y: y1 > y2 ? y1 : y2\n          }\n        };\n      }\n      /* A vector from the left point to the right */\n\n    }, {\n      key: \"vector\",\n      value: function vector() {\n        return {\n          x: this.rightSE.point.x - this.leftSE.point.x,\n          y: this.rightSE.point.y - this.leftSE.point.y\n        };\n      }\n    }, {\n      key: \"isAnEndpoint\",\n      value: function isAnEndpoint(pt) {\n        return pt.x === this.leftSE.point.x && pt.y === this.leftSE.point.y || pt.x === this.rightSE.point.x && pt.y === this.rightSE.point.y;\n      }\n      /* Compare this segment with a point.\n       *\n       * A point P is considered to be colinear to a segment if there\n       * exists a distance D such that if we travel along the segment\n       * from one * endpoint towards the other a distance D, we find\n       * ourselves at point P.\n       *\n       * Return value indicates:\n       *\n       *   1: point lies above the segment (to the left of vertical)\n       *   0: point is colinear to segment\n       *  -1: point lies below the segment (to the right of vertical)\n       */\n\n    }, {\n      key: \"comparePoint\",\n      value: function comparePoint(point) {\n        if (this.isAnEndpoint(point)) return 0;\n        var lPt = this.leftSE.point;\n        var rPt = this.rightSE.point;\n        var v = this.vector(); // Exactly vertical segments.\n\n        if (lPt.x === rPt.x) {\n          if (point.x === lPt.x) return 0;\n          return point.x < lPt.x ? 1 : -1;\n        } // Nearly vertical segments with an intersection.\n        // Check to see where a point on the line with matching Y coordinate is.\n\n\n        var yDist = (point.y - lPt.y) / v.y;\n        var xFromYDist = lPt.x + yDist * v.x;\n        if (point.x === xFromYDist) return 0; // General case.\n        // Check to see where a point on the line with matching X coordinate is.\n\n        var xDist = (point.x - lPt.x) / v.x;\n        var yFromXDist = lPt.y + xDist * v.y;\n        if (point.y === yFromXDist) return 0;\n        return point.y < yFromXDist ? -1 : 1;\n      }\n      /**\n       * Given another segment, returns the first non-trivial intersection\n       * between the two segments (in terms of sweep line ordering), if it exists.\n       *\n       * A 'non-trivial' intersection is one that will cause one or both of the\n       * segments to be split(). As such, 'trivial' vs. 'non-trivial' intersection:\n       *\n       *   * endpoint of segA with endpoint of segB --> trivial\n       *   * endpoint of segA with point along segB --> non-trivial\n       *   * endpoint of segB with point along segA --> non-trivial\n       *   * point along segA with point along segB --> non-trivial\n       *\n       * If no non-trivial intersection exists, return null\n       * Else, return null.\n       */\n\n    }, {\n      key: \"getIntersection\",\n      value: function getIntersection(other) {\n        // If bboxes don't overlap, there can't be any intersections\n        var tBbox = this.bbox();\n        var oBbox = other.bbox();\n        var bboxOverlap = getBboxOverlap(tBbox, oBbox);\n        if (bboxOverlap === null) return null; // We first check to see if the endpoints can be considered intersections.\n        // This will 'snap' intersections to endpoints if possible, and will\n        // handle cases of colinearity.\n\n        var tlp = this.leftSE.point;\n        var trp = this.rightSE.point;\n        var olp = other.leftSE.point;\n        var orp = other.rightSE.point; // does each endpoint touch the other segment?\n        // note that we restrict the 'touching' definition to only allow segments\n        // to touch endpoints that lie forward from where we are in the sweep line pass\n\n        var touchesOtherLSE = isInBbox(tBbox, olp) && this.comparePoint(olp) === 0;\n        var touchesThisLSE = isInBbox(oBbox, tlp) && other.comparePoint(tlp) === 0;\n        var touchesOtherRSE = isInBbox(tBbox, orp) && this.comparePoint(orp) === 0;\n        var touchesThisRSE = isInBbox(oBbox, trp) && other.comparePoint(trp) === 0; // do left endpoints match?\n\n        if (touchesThisLSE && touchesOtherLSE) {\n          // these two cases are for colinear segments with matching left\n          // endpoints, and one segment being longer than the other\n          if (touchesThisRSE && !touchesOtherRSE) return trp;\n          if (!touchesThisRSE && touchesOtherRSE) return orp; // either the two segments match exactly (two trival intersections)\n          // or just on their left endpoint (one trivial intersection\n\n          return null;\n        } // does this left endpoint matches (other doesn't)\n\n\n        if (touchesThisLSE) {\n          // check for segments that just intersect on opposing endpoints\n          if (touchesOtherRSE) {\n            if (tlp.x === orp.x && tlp.y === orp.y) return null;\n          } // t-intersection on left endpoint\n\n\n          return tlp;\n        } // does other left endpoint matches (this doesn't)\n\n\n        if (touchesOtherLSE) {\n          // check for segments that just intersect on opposing endpoints\n          if (touchesThisRSE) {\n            if (trp.x === olp.x && trp.y === olp.y) return null;\n          } // t-intersection on left endpoint\n\n\n          return olp;\n        } // trivial intersection on right endpoints\n\n\n        if (touchesThisRSE && touchesOtherRSE) return null; // t-intersections on just one right endpoint\n\n        if (touchesThisRSE) return trp;\n        if (touchesOtherRSE) return orp; // None of our endpoints intersect. Look for a general intersection between\n        // infinite lines laid over the segments\n\n        var pt = intersection(tlp, this.vector(), olp, other.vector()); // are the segments parrallel? Note that if they were colinear with overlap,\n        // they would have an endpoint intersection and that case was already handled above\n\n        if (pt === null) return null; // is the intersection found between the lines not on the segments?\n\n        if (!isInBbox(bboxOverlap, pt)) return null; // round the the computed point if needed\n\n        return rounder.round(pt.x, pt.y);\n      }\n      /**\n       * Split the given segment into multiple segments on the given points.\n       *  * Each existing segment will retain its leftSE and a new rightSE will be\n       *    generated for it.\n       *  * A new segment will be generated which will adopt the original segment's\n       *    rightSE, and a new leftSE will be generated for it.\n       *  * If there are more than two points given to split on, new segments\n       *    in the middle will be generated with new leftSE and rightSE's.\n       *  * An array of the newly generated SweepEvents will be returned.\n       *\n       * Warning: input array of points is modified\n       */\n\n    }, {\n      key: \"split\",\n      value: function split(point) {\n        var newEvents = [];\n        var alreadyLinked = point.events !== undefined;\n        var newLeftSE = new SweepEvent(point, true);\n        var newRightSE = new SweepEvent(point, false);\n        var oldRightSE = this.rightSE;\n        this.replaceRightSE(newRightSE);\n        newEvents.push(newRightSE);\n        newEvents.push(newLeftSE);\n        var newSeg = new Segment(newLeftSE, oldRightSE, this.rings.slice(), this.windings.slice()); // when splitting a nearly vertical downward-facing segment,\n        // sometimes one of the resulting new segments is vertical, in which\n        // case its left and right events may need to be swapped\n\n        if (SweepEvent.comparePoints(newSeg.leftSE.point, newSeg.rightSE.point) > 0) {\n          newSeg.swapEvents();\n        }\n\n        if (SweepEvent.comparePoints(this.leftSE.point, this.rightSE.point) > 0) {\n          this.swapEvents();\n        } // in the point we just used to create new sweep events with was already\n        // linked to other events, we need to check if either of the affected\n        // segments should be consumed\n\n\n        if (alreadyLinked) {\n          newLeftSE.checkForConsuming();\n          newRightSE.checkForConsuming();\n        }\n\n        return newEvents;\n      }\n      /* Swap which event is left and right */\n\n    }, {\n      key: \"swapEvents\",\n      value: function swapEvents() {\n        var tmpEvt = this.rightSE;\n        this.rightSE = this.leftSE;\n        this.leftSE = tmpEvt;\n        this.leftSE.isLeft = true;\n        this.rightSE.isLeft = false;\n\n        for (var i = 0, iMax = this.windings.length; i < iMax; i++) {\n          this.windings[i] *= -1;\n        }\n      }\n      /* Consume another segment. We take their rings under our wing\n       * and mark them as consumed. Use for perfectly overlapping segments */\n\n    }, {\n      key: \"consume\",\n      value: function consume(other) {\n        var consumer = this;\n        var consumee = other;\n\n        while (consumer.consumedBy) {\n          consumer = consumer.consumedBy;\n        }\n\n        while (consumee.consumedBy) {\n          consumee = consumee.consumedBy;\n        }\n\n        var cmp = Segment.compare(consumer, consumee);\n        if (cmp === 0) return; // already consumed\n        // the winner of the consumption is the earlier segment\n        // according to sweep line ordering\n\n        if (cmp > 0) {\n          var tmp = consumer;\n          consumer = consumee;\n          consumee = tmp;\n        } // make sure a segment doesn't consume it's prev\n\n\n        if (consumer.prev === consumee) {\n          var _tmp = consumer;\n          consumer = consumee;\n          consumee = _tmp;\n        }\n\n        for (var i = 0, iMax = consumee.rings.length; i < iMax; i++) {\n          var ring = consumee.rings[i];\n          var winding = consumee.windings[i];\n          var index = consumer.rings.indexOf(ring);\n\n          if (index === -1) {\n            consumer.rings.push(ring);\n            consumer.windings.push(winding);\n          } else consumer.windings[index] += winding;\n        }\n\n        consumee.rings = null;\n        consumee.windings = null;\n        consumee.consumedBy = consumer; // mark sweep events consumed as to maintain ordering in sweep event queue\n\n        consumee.leftSE.consumedBy = consumer.leftSE;\n        consumee.rightSE.consumedBy = consumer.rightSE;\n      }\n      /* The first segment previous segment chain that is in the result */\n\n    }, {\n      key: \"prevInResult\",\n      value: function prevInResult() {\n        if (this._prevInResult !== undefined) return this._prevInResult;\n        if (!this.prev) this._prevInResult = null;else if (this.prev.isInResult()) this._prevInResult = this.prev;else this._prevInResult = this.prev.prevInResult();\n        return this._prevInResult;\n      }\n    }, {\n      key: \"beforeState\",\n      value: function beforeState() {\n        if (this._beforeState !== undefined) return this._beforeState;\n        if (!this.prev) this._beforeState = {\n          rings: [],\n          windings: [],\n          multiPolys: []\n        };else {\n          var seg = this.prev.consumedBy || this.prev;\n          this._beforeState = seg.afterState();\n        }\n        return this._beforeState;\n      }\n    }, {\n      key: \"afterState\",\n      value: function afterState() {\n        if (this._afterState !== undefined) return this._afterState;\n        var beforeState = this.beforeState();\n        this._afterState = {\n          rings: beforeState.rings.slice(0),\n          windings: beforeState.windings.slice(0),\n          multiPolys: []\n        };\n        var ringsAfter = this._afterState.rings;\n        var windingsAfter = this._afterState.windings;\n        var mpsAfter = this._afterState.multiPolys; // calculate ringsAfter, windingsAfter\n\n        for (var i = 0, iMax = this.rings.length; i < iMax; i++) {\n          var ring = this.rings[i];\n          var winding = this.windings[i];\n          var index = ringsAfter.indexOf(ring);\n\n          if (index === -1) {\n            ringsAfter.push(ring);\n            windingsAfter.push(winding);\n          } else windingsAfter[index] += winding;\n        } // calcualte polysAfter\n\n\n        var polysAfter = [];\n        var polysExclude = [];\n\n        for (var _i = 0, _iMax = ringsAfter.length; _i < _iMax; _i++) {\n          if (windingsAfter[_i] === 0) continue; // non-zero rule\n\n          var _ring = ringsAfter[_i];\n          var poly = _ring.poly;\n          if (polysExclude.indexOf(poly) !== -1) continue;\n          if (_ring.isExterior) polysAfter.push(poly);else {\n            if (polysExclude.indexOf(poly) === -1) polysExclude.push(poly);\n\n            var _index = polysAfter.indexOf(_ring.poly);\n\n            if (_index !== -1) polysAfter.splice(_index, 1);\n          }\n        } // calculate multiPolysAfter\n\n\n        for (var _i2 = 0, _iMax2 = polysAfter.length; _i2 < _iMax2; _i2++) {\n          var mp = polysAfter[_i2].multiPoly;\n          if (mpsAfter.indexOf(mp) === -1) mpsAfter.push(mp);\n        }\n\n        return this._afterState;\n      }\n      /* Is this segment part of the final result? */\n\n    }, {\n      key: \"isInResult\",\n      value: function isInResult() {\n        // if we've been consumed, we're not in the result\n        if (this.consumedBy) return false;\n        if (this._isInResult !== undefined) return this._isInResult;\n        var mpsBefore = this.beforeState().multiPolys;\n        var mpsAfter = this.afterState().multiPolys;\n\n        switch (operation.type) {\n          case 'union':\n            {\n              // UNION - included iff:\n              //  * On one side of us there is 0 poly interiors AND\n              //  * On the other side there is 1 or more.\n              var noBefores = mpsBefore.length === 0;\n              var noAfters = mpsAfter.length === 0;\n              this._isInResult = noBefores !== noAfters;\n              break;\n            }\n\n          case 'intersection':\n            {\n              // INTERSECTION - included iff:\n              //  * on one side of us all multipolys are rep. with poly interiors AND\n              //  * on the other side of us, not all multipolys are repsented\n              //    with poly interiors\n              var least;\n              var most;\n\n              if (mpsBefore.length < mpsAfter.length) {\n                least = mpsBefore.length;\n                most = mpsAfter.length;\n              } else {\n                least = mpsAfter.length;\n                most = mpsBefore.length;\n              }\n\n              this._isInResult = most === operation.numMultiPolys && least < most;\n              break;\n            }\n\n          case 'xor':\n            {\n              // XOR - included iff:\n              //  * the difference between the number of multipolys represented\n              //    with poly interiors on our two sides is an odd number\n              var diff = Math.abs(mpsBefore.length - mpsAfter.length);\n              this._isInResult = diff % 2 === 1;\n              break;\n            }\n\n          case 'difference':\n            {\n              // DIFFERENCE included iff:\n              //  * on exactly one side, we have just the subject\n              var isJustSubject = function isJustSubject(mps) {\n                return mps.length === 1 && mps[0].isSubject;\n              };\n\n              this._isInResult = isJustSubject(mpsBefore) !== isJustSubject(mpsAfter);\n              break;\n            }\n\n          default:\n            throw new Error(\"Unrecognized operation type found \".concat(operation.type));\n        }\n\n        return this._isInResult;\n      }\n    }], [{\n      key: \"fromRing\",\n      value: function fromRing(pt1, pt2, ring) {\n        var leftPt, rightPt, winding; // ordering the two points according to sweep line ordering\n\n        var cmpPts = SweepEvent.comparePoints(pt1, pt2);\n\n        if (cmpPts < 0) {\n          leftPt = pt1;\n          rightPt = pt2;\n          winding = 1;\n        } else if (cmpPts > 0) {\n          leftPt = pt2;\n          rightPt = pt1;\n          winding = -1;\n        } else throw new Error(\"Tried to create degenerate segment at [\".concat(pt1.x, \", \").concat(pt1.y, \"]\"));\n\n        var leftSE = new SweepEvent(leftPt, true);\n        var rightSE = new SweepEvent(rightPt, false);\n        return new Segment(leftSE, rightSE, [ring], [winding]);\n      }\n    }]);\n\n    return Segment;\n  }();\n\n  var RingIn = /*#__PURE__*/function () {\n    function RingIn(geomRing, poly, isExterior) {\n      _classCallCheck(this, RingIn);\n\n      if (!Array.isArray(geomRing) || geomRing.length === 0) {\n        throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n      }\n\n      this.poly = poly;\n      this.isExterior = isExterior;\n      this.segments = [];\n\n      if (typeof geomRing[0][0] !== 'number' || typeof geomRing[0][1] !== 'number') {\n        throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n      }\n\n      var firstPoint = rounder.round(geomRing[0][0], geomRing[0][1]);\n      this.bbox = {\n        ll: {\n          x: firstPoint.x,\n          y: firstPoint.y\n        },\n        ur: {\n          x: firstPoint.x,\n          y: firstPoint.y\n        }\n      };\n      var prevPoint = firstPoint;\n\n      for (var i = 1, iMax = geomRing.length; i < iMax; i++) {\n        if (typeof geomRing[i][0] !== 'number' || typeof geomRing[i][1] !== 'number') {\n          throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n        }\n\n        var point = rounder.round(geomRing[i][0], geomRing[i][1]); // skip repeated points\n\n        if (point.x === prevPoint.x && point.y === prevPoint.y) continue;\n        this.segments.push(Segment.fromRing(prevPoint, point, this));\n        if (point.x < this.bbox.ll.x) this.bbox.ll.x = point.x;\n        if (point.y < this.bbox.ll.y) this.bbox.ll.y = point.y;\n        if (point.x > this.bbox.ur.x) this.bbox.ur.x = point.x;\n        if (point.y > this.bbox.ur.y) this.bbox.ur.y = point.y;\n        prevPoint = point;\n      } // add segment from last to first if last is not the same as first\n\n\n      if (firstPoint.x !== prevPoint.x || firstPoint.y !== prevPoint.y) {\n        this.segments.push(Segment.fromRing(prevPoint, firstPoint, this));\n      }\n    }\n\n    _createClass(RingIn, [{\n      key: \"getSweepEvents\",\n      value: function getSweepEvents() {\n        var sweepEvents = [];\n\n        for (var i = 0, iMax = this.segments.length; i < iMax; i++) {\n          var segment = this.segments[i];\n          sweepEvents.push(segment.leftSE);\n          sweepEvents.push(segment.rightSE);\n        }\n\n        return sweepEvents;\n      }\n    }]);\n\n    return RingIn;\n  }();\n  var PolyIn = /*#__PURE__*/function () {\n    function PolyIn(geomPoly, multiPoly) {\n      _classCallCheck(this, PolyIn);\n\n      if (!Array.isArray(geomPoly)) {\n        throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n      }\n\n      this.exteriorRing = new RingIn(geomPoly[0], this, true); // copy by value\n\n      this.bbox = {\n        ll: {\n          x: this.exteriorRing.bbox.ll.x,\n          y: this.exteriorRing.bbox.ll.y\n        },\n        ur: {\n          x: this.exteriorRing.bbox.ur.x,\n          y: this.exteriorRing.bbox.ur.y\n        }\n      };\n      this.interiorRings = [];\n\n      for (var i = 1, iMax = geomPoly.length; i < iMax; i++) {\n        var ring = new RingIn(geomPoly[i], this, false);\n        if (ring.bbox.ll.x < this.bbox.ll.x) this.bbox.ll.x = ring.bbox.ll.x;\n        if (ring.bbox.ll.y < this.bbox.ll.y) this.bbox.ll.y = ring.bbox.ll.y;\n        if (ring.bbox.ur.x > this.bbox.ur.x) this.bbox.ur.x = ring.bbox.ur.x;\n        if (ring.bbox.ur.y > this.bbox.ur.y) this.bbox.ur.y = ring.bbox.ur.y;\n        this.interiorRings.push(ring);\n      }\n\n      this.multiPoly = multiPoly;\n    }\n\n    _createClass(PolyIn, [{\n      key: \"getSweepEvents\",\n      value: function getSweepEvents() {\n        var sweepEvents = this.exteriorRing.getSweepEvents();\n\n        for (var i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n          var ringSweepEvents = this.interiorRings[i].getSweepEvents();\n\n          for (var j = 0, jMax = ringSweepEvents.length; j < jMax; j++) {\n            sweepEvents.push(ringSweepEvents[j]);\n          }\n        }\n\n        return sweepEvents;\n      }\n    }]);\n\n    return PolyIn;\n  }();\n  var MultiPolyIn = /*#__PURE__*/function () {\n    function MultiPolyIn(geom, isSubject) {\n      _classCallCheck(this, MultiPolyIn);\n\n      if (!Array.isArray(geom)) {\n        throw new Error('Input geometry is not a valid Polygon or MultiPolygon');\n      }\n\n      try {\n        // if the input looks like a polygon, convert it to a multipolygon\n        if (typeof geom[0][0][0] === 'number') geom = [geom];\n      } catch (ex) {// The input is either malformed or has empty arrays.\n        // In either case, it will be handled later on.\n      }\n\n      this.polys = [];\n      this.bbox = {\n        ll: {\n          x: Number.POSITIVE_INFINITY,\n          y: Number.POSITIVE_INFINITY\n        },\n        ur: {\n          x: Number.NEGATIVE_INFINITY,\n          y: Number.NEGATIVE_INFINITY\n        }\n      };\n\n      for (var i = 0, iMax = geom.length; i < iMax; i++) {\n        var poly = new PolyIn(geom[i], this);\n        if (poly.bbox.ll.x < this.bbox.ll.x) this.bbox.ll.x = poly.bbox.ll.x;\n        if (poly.bbox.ll.y < this.bbox.ll.y) this.bbox.ll.y = poly.bbox.ll.y;\n        if (poly.bbox.ur.x > this.bbox.ur.x) this.bbox.ur.x = poly.bbox.ur.x;\n        if (poly.bbox.ur.y > this.bbox.ur.y) this.bbox.ur.y = poly.bbox.ur.y;\n        this.polys.push(poly);\n      }\n\n      this.isSubject = isSubject;\n    }\n\n    _createClass(MultiPolyIn, [{\n      key: \"getSweepEvents\",\n      value: function getSweepEvents() {\n        var sweepEvents = [];\n\n        for (var i = 0, iMax = this.polys.length; i < iMax; i++) {\n          var polySweepEvents = this.polys[i].getSweepEvents();\n\n          for (var j = 0, jMax = polySweepEvents.length; j < jMax; j++) {\n            sweepEvents.push(polySweepEvents[j]);\n          }\n        }\n\n        return sweepEvents;\n      }\n    }]);\n\n    return MultiPolyIn;\n  }();\n\n  var RingOut = /*#__PURE__*/function () {\n    _createClass(RingOut, null, [{\n      key: \"factory\",\n\n      /* Given the segments from the sweep line pass, compute & return a series\n       * of closed rings from all the segments marked to be part of the result */\n      value: function factory(allSegments) {\n        var ringsOut = [];\n\n        for (var i = 0, iMax = allSegments.length; i < iMax; i++) {\n          var segment = allSegments[i];\n          if (!segment.isInResult() || segment.ringOut) continue;\n          var prevEvent = null;\n          var event = segment.leftSE;\n          var nextEvent = segment.rightSE;\n          var events = [event];\n          var startingPoint = event.point;\n          var intersectionLEs = [];\n          /* Walk the chain of linked events to form a closed ring */\n\n          while (true) {\n            prevEvent = event;\n            event = nextEvent;\n            events.push(event);\n            /* Is the ring complete? */\n\n            if (event.point === startingPoint) break;\n\n            while (true) {\n              var availableLEs = event.getAvailableLinkedEvents();\n              /* Did we hit a dead end? This shouldn't happen. Indicates some earlier\n               * part of the algorithm malfunctioned... please file a bug report. */\n\n              if (availableLEs.length === 0) {\n                var firstPt = events[0].point;\n                var lastPt = events[events.length - 1].point;\n                throw new Error(\"Unable to complete output ring starting at [\".concat(firstPt.x, \",\") + \" \".concat(firstPt.y, \"]. Last matching segment found ends at\") + \" [\".concat(lastPt.x, \", \").concat(lastPt.y, \"].\"));\n              }\n              /* Only one way to go, so cotinue on the path */\n\n\n              if (availableLEs.length === 1) {\n                nextEvent = availableLEs[0].otherSE;\n                break;\n              }\n              /* We must have an intersection. Check for a completed loop */\n\n\n              var indexLE = null;\n\n              for (var j = 0, jMax = intersectionLEs.length; j < jMax; j++) {\n                if (intersectionLEs[j].point === event.point) {\n                  indexLE = j;\n                  break;\n                }\n              }\n              /* Found a completed loop. Cut that off and make a ring */\n\n\n              if (indexLE !== null) {\n                var intersectionLE = intersectionLEs.splice(indexLE)[0];\n                var ringEvents = events.splice(intersectionLE.index);\n                ringEvents.unshift(ringEvents[0].otherSE);\n                ringsOut.push(new RingOut(ringEvents.reverse()));\n                continue;\n              }\n              /* register the intersection */\n\n\n              intersectionLEs.push({\n                index: events.length,\n                point: event.point\n              });\n              /* Choose the left-most option to continue the walk */\n\n              var comparator = event.getLeftmostComparator(prevEvent);\n              nextEvent = availableLEs.sort(comparator)[0].otherSE;\n              break;\n            }\n          }\n\n          ringsOut.push(new RingOut(events));\n        }\n\n        return ringsOut;\n      }\n    }]);\n\n    function RingOut(events) {\n      _classCallCheck(this, RingOut);\n\n      this.events = events;\n\n      for (var i = 0, iMax = events.length; i < iMax; i++) {\n        events[i].segment.ringOut = this;\n      }\n\n      this.poly = null;\n    }\n\n    _createClass(RingOut, [{\n      key: \"getGeom\",\n      value: function getGeom() {\n        // Remove superfluous points (ie extra points along a straight line),\n        var prevPt = this.events[0].point;\n        var points = [prevPt];\n\n        for (var i = 1, iMax = this.events.length - 1; i < iMax; i++) {\n          var _pt = this.events[i].point;\n          var _nextPt = this.events[i + 1].point;\n          if (compareVectorAngles(_pt, prevPt, _nextPt) === 0) continue;\n          points.push(_pt);\n          prevPt = _pt;\n        } // ring was all (within rounding error of angle calc) colinear points\n\n\n        if (points.length === 1) return null; // check if the starting point is necessary\n\n        var pt = points[0];\n        var nextPt = points[1];\n        if (compareVectorAngles(pt, prevPt, nextPt) === 0) points.shift();\n        points.push(points[0]);\n        var step = this.isExteriorRing() ? 1 : -1;\n        var iStart = this.isExteriorRing() ? 0 : points.length - 1;\n        var iEnd = this.isExteriorRing() ? points.length : -1;\n        var orderedPoints = [];\n\n        for (var _i = iStart; _i != iEnd; _i += step) {\n          orderedPoints.push([points[_i].x, points[_i].y]);\n        }\n\n        return orderedPoints;\n      }\n    }, {\n      key: \"isExteriorRing\",\n      value: function isExteriorRing() {\n        if (this._isExteriorRing === undefined) {\n          var enclosing = this.enclosingRing();\n          this._isExteriorRing = enclosing ? !enclosing.isExteriorRing() : true;\n        }\n\n        return this._isExteriorRing;\n      }\n    }, {\n      key: \"enclosingRing\",\n      value: function enclosingRing() {\n        if (this._enclosingRing === undefined) {\n          this._enclosingRing = this._calcEnclosingRing();\n        }\n\n        return this._enclosingRing;\n      }\n      /* Returns the ring that encloses this one, if any */\n\n    }, {\n      key: \"_calcEnclosingRing\",\n      value: function _calcEnclosingRing() {\n        // start with the ealier sweep line event so that the prevSeg\n        // chain doesn't lead us inside of a loop of ours\n        var leftMostEvt = this.events[0];\n\n        for (var i = 1, iMax = this.events.length; i < iMax; i++) {\n          var evt = this.events[i];\n          if (SweepEvent.compare(leftMostEvt, evt) > 0) leftMostEvt = evt;\n        }\n\n        var prevSeg = leftMostEvt.segment.prevInResult();\n        var prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n\n        while (true) {\n          // no segment found, thus no ring can enclose us\n          if (!prevSeg) return null; // no segments below prev segment found, thus the ring of the prev\n          // segment must loop back around and enclose us\n\n          if (!prevPrevSeg) return prevSeg.ringOut; // if the two segments are of different rings, the ring of the prev\n          // segment must either loop around us or the ring of the prev prev\n          // seg, which would make us and the ring of the prev peers\n\n          if (prevPrevSeg.ringOut !== prevSeg.ringOut) {\n            if (prevPrevSeg.ringOut.enclosingRing() !== prevSeg.ringOut) {\n              return prevSeg.ringOut;\n            } else return prevSeg.ringOut.enclosingRing();\n          } // two segments are from the same ring, so this was a penisula\n          // of that ring. iterate downward, keep searching\n\n\n          prevSeg = prevPrevSeg.prevInResult();\n          prevPrevSeg = prevSeg ? prevSeg.prevInResult() : null;\n        }\n      }\n    }]);\n\n    return RingOut;\n  }();\n  var PolyOut = /*#__PURE__*/function () {\n    function PolyOut(exteriorRing) {\n      _classCallCheck(this, PolyOut);\n\n      this.exteriorRing = exteriorRing;\n      exteriorRing.poly = this;\n      this.interiorRings = [];\n    }\n\n    _createClass(PolyOut, [{\n      key: \"addInterior\",\n      value: function addInterior(ring) {\n        this.interiorRings.push(ring);\n        ring.poly = this;\n      }\n    }, {\n      key: \"getGeom\",\n      value: function getGeom() {\n        var geom = [this.exteriorRing.getGeom()]; // exterior ring was all (within rounding error of angle calc) colinear points\n\n        if (geom[0] === null) return null;\n\n        for (var i = 0, iMax = this.interiorRings.length; i < iMax; i++) {\n          var ringGeom = this.interiorRings[i].getGeom(); // interior ring was all (within rounding error of angle calc) colinear points\n\n          if (ringGeom === null) continue;\n          geom.push(ringGeom);\n        }\n\n        return geom;\n      }\n    }]);\n\n    return PolyOut;\n  }();\n  var MultiPolyOut = /*#__PURE__*/function () {\n    function MultiPolyOut(rings) {\n      _classCallCheck(this, MultiPolyOut);\n\n      this.rings = rings;\n      this.polys = this._composePolys(rings);\n    }\n\n    _createClass(MultiPolyOut, [{\n      key: \"getGeom\",\n      value: function getGeom() {\n        var geom = [];\n\n        for (var i = 0, iMax = this.polys.length; i < iMax; i++) {\n          var polyGeom = this.polys[i].getGeom(); // exterior ring was all (within rounding error of angle calc) colinear points\n\n          if (polyGeom === null) continue;\n          geom.push(polyGeom);\n        }\n\n        return geom;\n      }\n    }, {\n      key: \"_composePolys\",\n      value: function _composePolys(rings) {\n        var polys = [];\n\n        for (var i = 0, iMax = rings.length; i < iMax; i++) {\n          var ring = rings[i];\n          if (ring.poly) continue;\n          if (ring.isExteriorRing()) polys.push(new PolyOut(ring));else {\n            var enclosingRing = ring.enclosingRing();\n            if (!enclosingRing.poly) polys.push(new PolyOut(enclosingRing));\n            enclosingRing.poly.addInterior(ring);\n          }\n        }\n\n        return polys;\n      }\n    }]);\n\n    return MultiPolyOut;\n  }();\n\n  /**\n   * NOTE:  We must be careful not to change any segments while\n   *        they are in the SplayTree. AFAIK, there's no way to tell\n   *        the tree to rebalance itself - thus before splitting\n   *        a segment that's in the tree, we remove it from the tree,\n   *        do the split, then re-insert it. (Even though splitting a\n   *        segment *shouldn't* change its correct position in the\n   *        sweep line tree, the reality is because of rounding errors,\n   *        it sometimes does.)\n   */\n\n  var SweepLine = /*#__PURE__*/function () {\n    function SweepLine(queue) {\n      var comparator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Segment.compare;\n\n      _classCallCheck(this, SweepLine);\n\n      this.queue = queue;\n      this.tree = new Tree(comparator);\n      this.segments = [];\n    }\n\n    _createClass(SweepLine, [{\n      key: \"process\",\n      value: function process(event) {\n        var segment = event.segment;\n        var newEvents = []; // if we've already been consumed by another segment,\n        // clean up our body parts and get out\n\n        if (event.consumedBy) {\n          if (event.isLeft) this.queue.remove(event.otherSE);else this.tree.remove(segment);\n          return newEvents;\n        }\n\n        var node = event.isLeft ? this.tree.insert(segment) : this.tree.find(segment);\n        if (!node) throw new Error(\"Unable to find segment #\".concat(segment.id, \" \") + \"[\".concat(segment.leftSE.point.x, \", \").concat(segment.leftSE.point.y, \"] -> \") + \"[\".concat(segment.rightSE.point.x, \", \").concat(segment.rightSE.point.y, \"] \") + 'in SweepLine tree. Please submit a bug report.');\n        var prevNode = node;\n        var nextNode = node;\n        var prevSeg = undefined;\n        var nextSeg = undefined; // skip consumed segments still in tree\n\n        while (prevSeg === undefined) {\n          prevNode = this.tree.prev(prevNode);\n          if (prevNode === null) prevSeg = null;else if (prevNode.key.consumedBy === undefined) prevSeg = prevNode.key;\n        } // skip consumed segments still in tree\n\n\n        while (nextSeg === undefined) {\n          nextNode = this.tree.next(nextNode);\n          if (nextNode === null) nextSeg = null;else if (nextNode.key.consumedBy === undefined) nextSeg = nextNode.key;\n        }\n\n        if (event.isLeft) {\n          // Check for intersections against the previous segment in the sweep line\n          var prevMySplitter = null;\n\n          if (prevSeg) {\n            var prevInter = prevSeg.getIntersection(segment);\n\n            if (prevInter !== null) {\n              if (!segment.isAnEndpoint(prevInter)) prevMySplitter = prevInter;\n\n              if (!prevSeg.isAnEndpoint(prevInter)) {\n                var newEventsFromSplit = this._splitSafely(prevSeg, prevInter);\n\n                for (var i = 0, iMax = newEventsFromSplit.length; i < iMax; i++) {\n                  newEvents.push(newEventsFromSplit[i]);\n                }\n              }\n            }\n          } // Check for intersections against the next segment in the sweep line\n\n\n          var nextMySplitter = null;\n\n          if (nextSeg) {\n            var nextInter = nextSeg.getIntersection(segment);\n\n            if (nextInter !== null) {\n              if (!segment.isAnEndpoint(nextInter)) nextMySplitter = nextInter;\n\n              if (!nextSeg.isAnEndpoint(nextInter)) {\n                var _newEventsFromSplit = this._splitSafely(nextSeg, nextInter);\n\n                for (var _i = 0, _iMax = _newEventsFromSplit.length; _i < _iMax; _i++) {\n                  newEvents.push(_newEventsFromSplit[_i]);\n                }\n              }\n            }\n          } // For simplicity, even if we find more than one intersection we only\n          // spilt on the 'earliest' (sweep-line style) of the intersections.\n          // The other intersection will be handled in a future process().\n\n\n          if (prevMySplitter !== null || nextMySplitter !== null) {\n            var mySplitter = null;\n            if (prevMySplitter === null) mySplitter = nextMySplitter;else if (nextMySplitter === null) mySplitter = prevMySplitter;else {\n              var cmpSplitters = SweepEvent.comparePoints(prevMySplitter, nextMySplitter);\n              mySplitter = cmpSplitters <= 0 ? prevMySplitter : nextMySplitter;\n            } // Rounding errors can cause changes in ordering,\n            // so remove afected segments and right sweep events before splitting\n\n            this.queue.remove(segment.rightSE);\n            newEvents.push(segment.rightSE);\n\n            var _newEventsFromSplit2 = segment.split(mySplitter);\n\n            for (var _i2 = 0, _iMax2 = _newEventsFromSplit2.length; _i2 < _iMax2; _i2++) {\n              newEvents.push(_newEventsFromSplit2[_i2]);\n            }\n          }\n\n          if (newEvents.length > 0) {\n            // We found some intersections, so re-do the current event to\n            // make sure sweep line ordering is totally consistent for later\n            // use with the segment 'prev' pointers\n            this.tree.remove(segment);\n            newEvents.push(event);\n          } else {\n            // done with left event\n            this.segments.push(segment);\n            segment.prev = prevSeg;\n          }\n        } else {\n          // event.isRight\n          // since we're about to be removed from the sweep line, check for\n          // intersections between our previous and next segments\n          if (prevSeg && nextSeg) {\n            var inter = prevSeg.getIntersection(nextSeg);\n\n            if (inter !== null) {\n              if (!prevSeg.isAnEndpoint(inter)) {\n                var _newEventsFromSplit3 = this._splitSafely(prevSeg, inter);\n\n                for (var _i3 = 0, _iMax3 = _newEventsFromSplit3.length; _i3 < _iMax3; _i3++) {\n                  newEvents.push(_newEventsFromSplit3[_i3]);\n                }\n              }\n\n              if (!nextSeg.isAnEndpoint(inter)) {\n                var _newEventsFromSplit4 = this._splitSafely(nextSeg, inter);\n\n                for (var _i4 = 0, _iMax4 = _newEventsFromSplit4.length; _i4 < _iMax4; _i4++) {\n                  newEvents.push(_newEventsFromSplit4[_i4]);\n                }\n              }\n            }\n          }\n\n          this.tree.remove(segment);\n        }\n\n        return newEvents;\n      }\n      /* Safely split a segment that is currently in the datastructures\n       * IE - a segment other than the one that is currently being processed. */\n\n    }, {\n      key: \"_splitSafely\",\n      value: function _splitSafely(seg, pt) {\n        // Rounding errors can cause changes in ordering,\n        // so remove afected segments and right sweep events before splitting\n        // removeNode() doesn't work, so have re-find the seg\n        // https://github.com/w8r/splay-tree/pull/5\n        this.tree.remove(seg);\n        var rightSE = seg.rightSE;\n        this.queue.remove(rightSE);\n        var newEvents = seg.split(pt);\n        newEvents.push(rightSE); // splitting can trigger consumption\n\n        if (seg.consumedBy === undefined) this.tree.insert(seg);\n        return newEvents;\n      }\n    }]);\n\n    return SweepLine;\n  }();\n\n  var POLYGON_CLIPPING_MAX_QUEUE_SIZE = typeof process !== 'undefined' && process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE || 1000000;\n  var POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS = typeof process !== 'undefined' && process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS || 1000000;\n  var Operation = /*#__PURE__*/function () {\n    function Operation() {\n      _classCallCheck(this, Operation);\n    }\n\n    _createClass(Operation, [{\n      key: \"run\",\n      value: function run(type, geom, moreGeoms) {\n        operation.type = type;\n        rounder.reset();\n        /* Convert inputs to MultiPoly objects */\n\n        var multipolys = [new MultiPolyIn(geom, true)];\n\n        for (var i = 0, iMax = moreGeoms.length; i < iMax; i++) {\n          multipolys.push(new MultiPolyIn(moreGeoms[i], false));\n        }\n\n        operation.numMultiPolys = multipolys.length;\n        /* BBox optimization for difference operation\n         * If the bbox of a multipolygon that's part of the clipping doesn't\n         * intersect the bbox of the subject at all, we can just drop that\n         * multiploygon. */\n\n        if (operation.type === 'difference') {\n          // in place removal\n          var subject = multipolys[0];\n          var _i = 1;\n\n          while (_i < multipolys.length) {\n            if (getBboxOverlap(multipolys[_i].bbox, subject.bbox) !== null) _i++;else multipolys.splice(_i, 1);\n          }\n        }\n        /* BBox optimization for intersection operation\n         * If we can find any pair of multipolygons whose bbox does not overlap,\n         * then the result will be empty. */\n\n\n        if (operation.type === 'intersection') {\n          // TODO: this is O(n^2) in number of polygons. By sorting the bboxes,\n          //       it could be optimized to O(n * ln(n))\n          for (var _i2 = 0, _iMax = multipolys.length; _i2 < _iMax; _i2++) {\n            var mpA = multipolys[_i2];\n\n            for (var j = _i2 + 1, jMax = multipolys.length; j < jMax; j++) {\n              if (getBboxOverlap(mpA.bbox, multipolys[j].bbox) === null) return [];\n            }\n          }\n        }\n        /* Put segment endpoints in a priority queue */\n\n\n        var queue = new Tree(SweepEvent.compare);\n\n        for (var _i3 = 0, _iMax2 = multipolys.length; _i3 < _iMax2; _i3++) {\n          var sweepEvents = multipolys[_i3].getSweepEvents();\n\n          for (var _j = 0, _jMax = sweepEvents.length; _j < _jMax; _j++) {\n            queue.insert(sweepEvents[_j]);\n\n            if (queue.size > POLYGON_CLIPPING_MAX_QUEUE_SIZE) {\n              // prevents an infinite loop, an otherwise common manifestation of bugs\n              throw new Error('Infinite loop when putting segment endpoints in a priority queue ' + '(queue size too big). Please file a bug report.');\n            }\n          }\n        }\n        /* Pass the sweep line over those endpoints */\n\n\n        var sweepLine = new SweepLine(queue);\n        var prevQueueSize = queue.size;\n        var node = queue.pop();\n\n        while (node) {\n          var evt = node.key;\n\n          if (queue.size === prevQueueSize) {\n            // prevents an infinite loop, an otherwise common manifestation of bugs\n            var seg = evt.segment;\n            throw new Error(\"Unable to pop() \".concat(evt.isLeft ? 'left' : 'right', \" SweepEvent \") + \"[\".concat(evt.point.x, \", \").concat(evt.point.y, \"] from segment #\").concat(seg.id, \" \") + \"[\".concat(seg.leftSE.point.x, \", \").concat(seg.leftSE.point.y, \"] -> \") + \"[\".concat(seg.rightSE.point.x, \", \").concat(seg.rightSE.point.y, \"] from queue. \") + 'Please file a bug report.');\n          }\n\n          if (queue.size > POLYGON_CLIPPING_MAX_QUEUE_SIZE) {\n            // prevents an infinite loop, an otherwise common manifestation of bugs\n            throw new Error('Infinite loop when passing sweep line over endpoints ' + '(queue size too big). Please file a bug report.');\n          }\n\n          if (sweepLine.segments.length > POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS) {\n            // prevents an infinite loop, an otherwise common manifestation of bugs\n            throw new Error('Infinite loop when passing sweep line over endpoints ' + '(too many sweep line segments). Please file a bug report.');\n          }\n\n          var newEvents = sweepLine.process(evt);\n\n          for (var _i4 = 0, _iMax3 = newEvents.length; _i4 < _iMax3; _i4++) {\n            var _evt = newEvents[_i4];\n            if (_evt.consumedBy === undefined) queue.insert(_evt);\n          }\n\n          prevQueueSize = queue.size;\n          node = queue.pop();\n        } // free some memory we don't need anymore\n\n\n        rounder.reset();\n        /* Collect and compile segments we're keeping into a multipolygon */\n\n        var ringsOut = RingOut.factory(sweepLine.segments);\n        var result = new MultiPolyOut(ringsOut);\n        return result.getGeom();\n      }\n    }]);\n\n    return Operation;\n  }(); // singleton available by import\n\n  var operation = new Operation();\n\n  var union = function union(geom) {\n    for (var _len = arguments.length, moreGeoms = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      moreGeoms[_key - 1] = arguments[_key];\n    }\n\n    return operation.run('union', geom, moreGeoms);\n  };\n\n  var intersection$1 = function intersection(geom) {\n    for (var _len2 = arguments.length, moreGeoms = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      moreGeoms[_key2 - 1] = arguments[_key2];\n    }\n\n    return operation.run('intersection', geom, moreGeoms);\n  };\n\n  var xor = function xor(geom) {\n    for (var _len3 = arguments.length, moreGeoms = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      moreGeoms[_key3 - 1] = arguments[_key3];\n    }\n\n    return operation.run('xor', geom, moreGeoms);\n  };\n\n  var difference = function difference(subjectGeom) {\n    for (var _len4 = arguments.length, clippingGeoms = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      clippingGeoms[_key4 - 1] = arguments[_key4];\n    }\n\n    return operation.run('difference', subjectGeom, clippingGeoms);\n  };\n\n  var index = {\n    union: union,\n    intersection: intersection$1,\n    xor: xor,\n    difference: difference\n  };\n\n  return index;\n\n})));\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.quickselect = factory());\n}(this, (function () { 'use strict';\n\nfunction quickselect(arr, k, left, right, compare) {\n    quickselectStep(arr, k, left || 0, right || (arr.length - 1), compare || defaultCompare);\n}\n\nfunction quickselectStep(arr, k, left, right, compare) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            quickselectStep(arr, k, newLeft, newRight, compare);\n        }\n\n        var t = arr[k];\n        var i = left;\n        var j = right;\n\n        swap(arr, left, k);\n        if (compare(arr[right], t) > 0) swap(arr, left, right);\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (compare(arr[i], t) < 0) i++;\n            while (compare(arr[j], t) > 0) j--;\n        }\n\n        if (compare(arr[left], t) === 0) swap(arr, left, j);\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n\nreturn quickselect;\n\n})));\n","'use strict';\n\nmodule.exports = rbush;\nmodule.exports.default = rbush;\n\nvar quickselect = require('quickselect');\n\nfunction rbush(maxEntries, format) {\n    if (!(this instanceof rbush)) return new rbush(maxEntries, format);\n\n    // max entries in a node is 9 by default; min node fill is 40% for best performance\n    this._maxEntries = Math.max(4, maxEntries || 9);\n    this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4));\n\n    if (format) {\n        this._initFormat(format);\n    }\n\n    this.clear();\n}\n\nrbush.prototype = {\n\n    all: function () {\n        return this._all(this.data, []);\n    },\n\n    search: function (bbox) {\n\n        var node = this.data,\n            result = [],\n            toBBox = this.toBBox;\n\n        if (!intersects(bbox, node)) return result;\n\n        var nodesToSearch = [],\n            i, len, child, childBBox;\n\n        while (node) {\n            for (i = 0, len = node.children.length; i < len; i++) {\n\n                child = node.children[i];\n                childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects(bbox, childBBox)) {\n                    if (node.leaf) result.push(child);\n                    else if (contains(bbox, childBBox)) this._all(child, result);\n                    else nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return result;\n    },\n\n    collides: function (bbox) {\n\n        var node = this.data,\n            toBBox = this.toBBox;\n\n        if (!intersects(bbox, node)) return false;\n\n        var nodesToSearch = [],\n            i, len, child, childBBox;\n\n        while (node) {\n            for (i = 0, len = node.children.length; i < len; i++) {\n\n                child = node.children[i];\n                childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects(bbox, childBBox)) {\n                    if (node.leaf || contains(bbox, childBBox)) return true;\n                    nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return false;\n    },\n\n    load: function (data) {\n        if (!(data && data.length)) return this;\n\n        if (data.length < this._minEntries) {\n            for (var i = 0, len = data.length; i < len; i++) {\n                this.insert(data[i]);\n            }\n            return this;\n        }\n\n        // recursively build the tree with the given data from scratch using OMT algorithm\n        var node = this._build(data.slice(), 0, data.length - 1, 0);\n\n        if (!this.data.children.length) {\n            // save as is if tree is empty\n            this.data = node;\n\n        } else if (this.data.height === node.height) {\n            // split root if trees have the same height\n            this._splitRoot(this.data, node);\n\n        } else {\n            if (this.data.height < node.height) {\n                // swap trees if inserted one is bigger\n                var tmpNode = this.data;\n                this.data = node;\n                node = tmpNode;\n            }\n\n            // insert the small tree into the large tree at appropriate level\n            this._insert(node, this.data.height - node.height - 1, true);\n        }\n\n        return this;\n    },\n\n    insert: function (item) {\n        if (item) this._insert(item, this.data.height - 1);\n        return this;\n    },\n\n    clear: function () {\n        this.data = createNode([]);\n        return this;\n    },\n\n    remove: function (item, equalsFn) {\n        if (!item) return this;\n\n        var node = this.data,\n            bbox = this.toBBox(item),\n            path = [],\n            indexes = [],\n            i, parent, index, goingUp;\n\n        // depth-first iterative tree traversal\n        while (node || path.length) {\n\n            if (!node) { // go up\n                node = path.pop();\n                parent = path[path.length - 1];\n                i = indexes.pop();\n                goingUp = true;\n            }\n\n            if (node.leaf) { // check current node\n                index = findItem(item, node.children, equalsFn);\n\n                if (index !== -1) {\n                    // item found, remove the item and condense tree upwards\n                    node.children.splice(index, 1);\n                    path.push(node);\n                    this._condense(path);\n                    return this;\n                }\n            }\n\n            if (!goingUp && !node.leaf && contains(node, bbox)) { // go down\n                path.push(node);\n                indexes.push(i);\n                i = 0;\n                parent = node;\n                node = node.children[0];\n\n            } else if (parent) { // go right\n                i++;\n                node = parent.children[i];\n                goingUp = false;\n\n            } else node = null; // nothing found\n        }\n\n        return this;\n    },\n\n    toBBox: function (item) { return item; },\n\n    compareMinX: compareNodeMinX,\n    compareMinY: compareNodeMinY,\n\n    toJSON: function () { return this.data; },\n\n    fromJSON: function (data) {\n        this.data = data;\n        return this;\n    },\n\n    _all: function (node, result) {\n        var nodesToSearch = [];\n        while (node) {\n            if (node.leaf) result.push.apply(result, node.children);\n            else nodesToSearch.push.apply(nodesToSearch, node.children);\n\n            node = nodesToSearch.pop();\n        }\n        return result;\n    },\n\n    _build: function (items, left, right, height) {\n\n        var N = right - left + 1,\n            M = this._maxEntries,\n            node;\n\n        if (N <= M) {\n            // reached leaf level; return leaf\n            node = createNode(items.slice(left, right + 1));\n            calcBBox(node, this.toBBox);\n            return node;\n        }\n\n        if (!height) {\n            // target height of the bulk-loaded tree\n            height = Math.ceil(Math.log(N) / Math.log(M));\n\n            // target number of root entries to maximize storage utilization\n            M = Math.ceil(N / Math.pow(M, height - 1));\n        }\n\n        node = createNode([]);\n        node.leaf = false;\n        node.height = height;\n\n        // split the items into M mostly square tiles\n\n        var N2 = Math.ceil(N / M),\n            N1 = N2 * Math.ceil(Math.sqrt(M)),\n            i, j, right2, right3;\n\n        multiSelect(items, left, right, N1, this.compareMinX);\n\n        for (i = left; i <= right; i += N1) {\n\n            right2 = Math.min(i + N1 - 1, right);\n\n            multiSelect(items, i, right2, N2, this.compareMinY);\n\n            for (j = i; j <= right2; j += N2) {\n\n                right3 = Math.min(j + N2 - 1, right2);\n\n                // pack each entry recursively\n                node.children.push(this._build(items, j, right3, height - 1));\n            }\n        }\n\n        calcBBox(node, this.toBBox);\n\n        return node;\n    },\n\n    _chooseSubtree: function (bbox, node, level, path) {\n\n        var i, len, child, targetNode, area, enlargement, minArea, minEnlargement;\n\n        while (true) {\n            path.push(node);\n\n            if (node.leaf || path.length - 1 === level) break;\n\n            minArea = minEnlargement = Infinity;\n\n            for (i = 0, len = node.children.length; i < len; i++) {\n                child = node.children[i];\n                area = bboxArea(child);\n                enlargement = enlargedArea(bbox, child) - area;\n\n                // choose entry with the least area enlargement\n                if (enlargement < minEnlargement) {\n                    minEnlargement = enlargement;\n                    minArea = area < minArea ? area : minArea;\n                    targetNode = child;\n\n                } else if (enlargement === minEnlargement) {\n                    // otherwise choose one with the smallest area\n                    if (area < minArea) {\n                        minArea = area;\n                        targetNode = child;\n                    }\n                }\n            }\n\n            node = targetNode || node.children[0];\n        }\n\n        return node;\n    },\n\n    _insert: function (item, level, isNode) {\n\n        var toBBox = this.toBBox,\n            bbox = isNode ? item : toBBox(item),\n            insertPath = [];\n\n        // find the best node for accommodating the item, saving all nodes along the path too\n        var node = this._chooseSubtree(bbox, this.data, level, insertPath);\n\n        // put the item into the node\n        node.children.push(item);\n        extend(node, bbox);\n\n        // split on node overflow; propagate upwards if necessary\n        while (level >= 0) {\n            if (insertPath[level].children.length > this._maxEntries) {\n                this._split(insertPath, level);\n                level--;\n            } else break;\n        }\n\n        // adjust bboxes along the insertion path\n        this._adjustParentBBoxes(bbox, insertPath, level);\n    },\n\n    // split overflowed node into two\n    _split: function (insertPath, level) {\n\n        var node = insertPath[level],\n            M = node.children.length,\n            m = this._minEntries;\n\n        this._chooseSplitAxis(node, m, M);\n\n        var splitIndex = this._chooseSplitIndex(node, m, M);\n\n        var newNode = createNode(node.children.splice(splitIndex, node.children.length - splitIndex));\n        newNode.height = node.height;\n        newNode.leaf = node.leaf;\n\n        calcBBox(node, this.toBBox);\n        calcBBox(newNode, this.toBBox);\n\n        if (level) insertPath[level - 1].children.push(newNode);\n        else this._splitRoot(node, newNode);\n    },\n\n    _splitRoot: function (node, newNode) {\n        // split root node\n        this.data = createNode([node, newNode]);\n        this.data.height = node.height + 1;\n        this.data.leaf = false;\n        calcBBox(this.data, this.toBBox);\n    },\n\n    _chooseSplitIndex: function (node, m, M) {\n\n        var i, bbox1, bbox2, overlap, area, minOverlap, minArea, index;\n\n        minOverlap = minArea = Infinity;\n\n        for (i = m; i <= M - m; i++) {\n            bbox1 = distBBox(node, 0, i, this.toBBox);\n            bbox2 = distBBox(node, i, M, this.toBBox);\n\n            overlap = intersectionArea(bbox1, bbox2);\n            area = bboxArea(bbox1) + bboxArea(bbox2);\n\n            // choose distribution with minimum overlap\n            if (overlap < minOverlap) {\n                minOverlap = overlap;\n                index = i;\n\n                minArea = area < minArea ? area : minArea;\n\n            } else if (overlap === minOverlap) {\n                // otherwise choose distribution with minimum area\n                if (area < minArea) {\n                    minArea = area;\n                    index = i;\n                }\n            }\n        }\n\n        return index;\n    },\n\n    // sorts node children by the best axis for split\n    _chooseSplitAxis: function (node, m, M) {\n\n        var compareMinX = node.leaf ? this.compareMinX : compareNodeMinX,\n            compareMinY = node.leaf ? this.compareMinY : compareNodeMinY,\n            xMargin = this._allDistMargin(node, m, M, compareMinX),\n            yMargin = this._allDistMargin(node, m, M, compareMinY);\n\n        // if total distributions margin value is minimal for x, sort by minX,\n        // otherwise it's already sorted by minY\n        if (xMargin < yMargin) node.children.sort(compareMinX);\n    },\n\n    // total margin of all possible split distributions where each node is at least m full\n    _allDistMargin: function (node, m, M, compare) {\n\n        node.children.sort(compare);\n\n        var toBBox = this.toBBox,\n            leftBBox = distBBox(node, 0, m, toBBox),\n            rightBBox = distBBox(node, M - m, M, toBBox),\n            margin = bboxMargin(leftBBox) + bboxMargin(rightBBox),\n            i, child;\n\n        for (i = m; i < M - m; i++) {\n            child = node.children[i];\n            extend(leftBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(leftBBox);\n        }\n\n        for (i = M - m - 1; i >= m; i--) {\n            child = node.children[i];\n            extend(rightBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(rightBBox);\n        }\n\n        return margin;\n    },\n\n    _adjustParentBBoxes: function (bbox, path, level) {\n        // adjust bboxes along the given tree path\n        for (var i = level; i >= 0; i--) {\n            extend(path[i], bbox);\n        }\n    },\n\n    _condense: function (path) {\n        // go through the path, removing empty nodes and updating bboxes\n        for (var i = path.length - 1, siblings; i >= 0; i--) {\n            if (path[i].children.length === 0) {\n                if (i > 0) {\n                    siblings = path[i - 1].children;\n                    siblings.splice(siblings.indexOf(path[i]), 1);\n\n                } else this.clear();\n\n            } else calcBBox(path[i], this.toBBox);\n        }\n    },\n\n    _initFormat: function (format) {\n        // data format (minX, minY, maxX, maxY accessors)\n\n        // uses eval-type function compilation instead of just accepting a toBBox function\n        // because the algorithms are very sensitive to sorting functions performance,\n        // so they should be dead simple and without inner calls\n\n        var compareArr = ['return a', ' - b', ';'];\n\n        this.compareMinX = new Function('a', 'b', compareArr.join(format[0]));\n        this.compareMinY = new Function('a', 'b', compareArr.join(format[1]));\n\n        this.toBBox = new Function('a',\n            'return {minX: a' + format[0] +\n            ', minY: a' + format[1] +\n            ', maxX: a' + format[2] +\n            ', maxY: a' + format[3] + '};');\n    }\n};\n\nfunction findItem(item, items, equalsFn) {\n    if (!equalsFn) return items.indexOf(item);\n\n    for (var i = 0; i < items.length; i++) {\n        if (equalsFn(item, items[i])) return i;\n    }\n    return -1;\n}\n\n// calculate node's bbox from bboxes of its children\nfunction calcBBox(node, toBBox) {\n    distBBox(node, 0, node.children.length, toBBox, node);\n}\n\n// min bounding rectangle of node children from k to p-1\nfunction distBBox(node, k, p, toBBox, destNode) {\n    if (!destNode) destNode = createNode(null);\n    destNode.minX = Infinity;\n    destNode.minY = Infinity;\n    destNode.maxX = -Infinity;\n    destNode.maxY = -Infinity;\n\n    for (var i = k, child; i < p; i++) {\n        child = node.children[i];\n        extend(destNode, node.leaf ? toBBox(child) : child);\n    }\n\n    return destNode;\n}\n\nfunction extend(a, b) {\n    a.minX = Math.min(a.minX, b.minX);\n    a.minY = Math.min(a.minY, b.minY);\n    a.maxX = Math.max(a.maxX, b.maxX);\n    a.maxY = Math.max(a.maxY, b.maxY);\n    return a;\n}\n\nfunction compareNodeMinX(a, b) { return a.minX - b.minX; }\nfunction compareNodeMinY(a, b) { return a.minY - b.minY; }\n\nfunction bboxArea(a)   { return (a.maxX - a.minX) * (a.maxY - a.minY); }\nfunction bboxMargin(a) { return (a.maxX - a.minX) + (a.maxY - a.minY); }\n\nfunction enlargedArea(a, b) {\n    return (Math.max(b.maxX, a.maxX) - Math.min(b.minX, a.minX)) *\n           (Math.max(b.maxY, a.maxY) - Math.min(b.minY, a.minY));\n}\n\nfunction intersectionArea(a, b) {\n    var minX = Math.max(a.minX, b.minX),\n        minY = Math.max(a.minY, b.minY),\n        maxX = Math.min(a.maxX, b.maxX),\n        maxY = Math.min(a.maxY, b.maxY);\n\n    return Math.max(0, maxX - minX) *\n           Math.max(0, maxY - minY);\n}\n\nfunction contains(a, b) {\n    return a.minX <= b.minX &&\n           a.minY <= b.minY &&\n           b.maxX <= a.maxX &&\n           b.maxY <= a.maxY;\n}\n\nfunction intersects(a, b) {\n    return b.minX <= a.maxX &&\n           b.minY <= a.maxY &&\n           b.maxX >= a.minX &&\n           b.maxY >= a.minY;\n}\n\nfunction createNode(children) {\n    return {\n        children: children,\n        height: 1,\n        leaf: true,\n        minX: Infinity,\n        minY: Infinity,\n        maxX: -Infinity,\n        maxY: -Infinity\n    };\n}\n\n// sort an array so that items come in groups of n unsorted items, with groups sorted between each other;\n// combines selection algorithm with binary divide & conquer approach\n\nfunction multiSelect(arr, left, right, n, compare) {\n    var stack = [left, right],\n        mid;\n\n    while (stack.length) {\n        right = stack.pop();\n        left = stack.pop();\n\n        if (right - left <= n) continue;\n\n        mid = left + Math.ceil((right - left) / n / 2) * n;\n        quickselect(arr, mid, left, right, compare);\n\n        stack.push(left, mid, mid, right);\n    }\n}\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e((t=t||self).predicates={})}(this,function(t){\"use strict\";const e=134217729,n=33306690738754706e-32;function r(t,e,n,r,o){let f,i,u,c,s=e[0],a=r[0],d=0,l=0;a>s==a>-s?(f=s,s=e[++d]):(f=a,a=r[++l]);let p=0;if(d<t&&l<n)for(a>s==a>-s?(u=f-((i=s+f)-s),s=e[++d]):(u=f-((i=a+f)-a),a=r[++l]),f=i,0!==u&&(o[p++]=u);d<t&&l<n;)a>s==a>-s?(u=f-((i=f+s)-(c=i-f))+(s-c),s=e[++d]):(u=f-((i=f+a)-(c=i-f))+(a-c),a=r[++l]),f=i,0!==u&&(o[p++]=u);for(;d<t;)u=f-((i=f+s)-(c=i-f))+(s-c),s=e[++d],f=i,0!==u&&(o[p++]=u);for(;l<n;)u=f-((i=f+a)-(c=i-f))+(a-c),a=r[++l],f=i,0!==u&&(o[p++]=u);return 0===f&&0!==p||(o[p++]=f),p}function o(t){return new Float64Array(t)}const f=33306690738754716e-32,i=22204460492503146e-32,u=11093356479670487e-47,c=o(4),s=o(8),a=o(12),d=o(16),l=o(4);t.orient2d=function(t,o,p,b,y,h){const M=(o-h)*(p-y),x=(t-y)*(b-h),j=M-x;if(0===M||0===x||M>0!=x>0)return j;const m=Math.abs(M+x);return Math.abs(j)>=f*m?j:-function(t,o,f,p,b,y,h){let M,x,j,m,_,v,w,A,F,O,P,g,k,q,z,B,C,D;const E=t-b,G=f-b,H=o-y,I=p-y;_=(z=(A=E-(w=(v=e*E)-(v-E)))*(O=I-(F=(v=e*I)-(v-I)))-((q=E*I)-w*F-A*F-w*O))-(P=z-(C=(A=H-(w=(v=e*H)-(v-H)))*(O=G-(F=(v=e*G)-(v-G)))-((B=H*G)-w*F-A*F-w*O))),c[0]=z-(P+_)+(_-C),_=(k=q-((g=q+P)-(_=g-q))+(P-_))-(P=k-B),c[1]=k-(P+_)+(_-B),_=(D=g+P)-g,c[2]=g-(D-_)+(P-_),c[3]=D;let J=function(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}(4,c),K=i*h;if(J>=K||-J>=K)return J;if(M=t-(E+(_=t-E))+(_-b),j=f-(G+(_=f-G))+(_-b),x=o-(H+(_=o-H))+(_-y),m=p-(I+(_=p-I))+(_-y),0===M&&0===x&&0===j&&0===m)return J;if(K=u*h+n*Math.abs(J),(J+=E*m+I*M-(H*j+G*x))>=K||-J>=K)return J;_=(z=(A=M-(w=(v=e*M)-(v-M)))*(O=I-(F=(v=e*I)-(v-I)))-((q=M*I)-w*F-A*F-w*O))-(P=z-(C=(A=x-(w=(v=e*x)-(v-x)))*(O=G-(F=(v=e*G)-(v-G)))-((B=x*G)-w*F-A*F-w*O))),l[0]=z-(P+_)+(_-C),_=(k=q-((g=q+P)-(_=g-q))+(P-_))-(P=k-B),l[1]=k-(P+_)+(_-B),_=(D=g+P)-g,l[2]=g-(D-_)+(P-_),l[3]=D;const L=r(4,c,4,l,s);_=(z=(A=E-(w=(v=e*E)-(v-E)))*(O=m-(F=(v=e*m)-(v-m)))-((q=E*m)-w*F-A*F-w*O))-(P=z-(C=(A=H-(w=(v=e*H)-(v-H)))*(O=j-(F=(v=e*j)-(v-j)))-((B=H*j)-w*F-A*F-w*O))),l[0]=z-(P+_)+(_-C),_=(k=q-((g=q+P)-(_=g-q))+(P-_))-(P=k-B),l[1]=k-(P+_)+(_-B),_=(D=g+P)-g,l[2]=g-(D-_)+(P-_),l[3]=D;const N=r(L,s,4,l,a);_=(z=(A=M-(w=(v=e*M)-(v-M)))*(O=m-(F=(v=e*m)-(v-m)))-((q=M*m)-w*F-A*F-w*O))-(P=z-(C=(A=x-(w=(v=e*x)-(v-x)))*(O=j-(F=(v=e*j)-(v-j)))-((B=x*j)-w*F-A*F-w*O))),l[0]=z-(P+_)+(_-C),_=(k=q-((g=q+P)-(_=g-q))+(P-_))-(P=k-B),l[1]=k-(P+_)+(_-B),_=(D=g+P)-g,l[2]=g-(D-_)+(P-_),l[3]=D;const Q=r(N,a,4,l,d);return d[Q-1]}(t,o,p,b,y,h,m)},t.orient2dfast=function(t,e,n,r,o,f){return(e-f)*(n-o)-(t-o)*(r-f)},Object.defineProperty(t,\"__esModule\",{value:!0})});\n","\nexport default class TinyQueue {\n    constructor(data = [], compare = defaultCompare) {\n        this.data = data;\n        this.length = this.data.length;\n        this.compare = compare;\n\n        if (this.length > 0) {\n            for (let i = (this.length >> 1) - 1; i >= 0; i--) this._down(i);\n        }\n    }\n\n    push(item) {\n        this.data.push(item);\n        this.length++;\n        this._up(this.length - 1);\n    }\n\n    pop() {\n        if (this.length === 0) return undefined;\n\n        const top = this.data[0];\n        const bottom = this.data.pop();\n        this.length--;\n\n        if (this.length > 0) {\n            this.data[0] = bottom;\n            this._down(0);\n        }\n\n        return top;\n    }\n\n    peek() {\n        return this.data[0];\n    }\n\n    _up(pos) {\n        const {data, compare} = this;\n        const item = data[pos];\n\n        while (pos > 0) {\n            const parent = (pos - 1) >> 1;\n            const current = data[parent];\n            if (compare(item, current) >= 0) break;\n            data[pos] = current;\n            pos = parent;\n        }\n\n        data[pos] = item;\n    }\n\n    _down(pos) {\n        const {data, compare} = this;\n        const halfLength = this.length >> 1;\n        const item = data[pos];\n\n        while (pos < halfLength) {\n            let left = (pos << 1) + 1;\n            let best = data[left];\n            const right = left + 1;\n\n            if (right < this.length && compare(data[right], best) < 0) {\n                left = right;\n                best = data[right];\n            }\n            if (compare(best, item) >= 0) break;\n\n            data[pos] = best;\n            pos = left;\n        }\n\n        data[pos] = item;\n    }\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * @module helpers\n */\n/**\n * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.\n *\n * @memberof helpers\n * @type {number}\n */\nexport var earthRadius = 6371008.8;\n/**\n * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var factors = {\n    centimeters: earthRadius * 100,\n    centimetres: earthRadius * 100,\n    degrees: earthRadius / 111325,\n    feet: earthRadius * 3.28084,\n    inches: earthRadius * 39.37,\n    kilometers: earthRadius / 1000,\n    kilometres: earthRadius / 1000,\n    meters: earthRadius,\n    metres: earthRadius,\n    miles: earthRadius / 1609.344,\n    millimeters: earthRadius * 1000,\n    millimetres: earthRadius * 1000,\n    nauticalmiles: earthRadius / 1852,\n    radians: 1,\n    yards: earthRadius * 1.0936,\n};\n/**\n * Units of measurement factors based on 1 meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var unitsFactors = {\n    centimeters: 100,\n    centimetres: 100,\n    degrees: 1 / 111325,\n    feet: 3.28084,\n    inches: 39.37,\n    kilometers: 1 / 1000,\n    kilometres: 1 / 1000,\n    meters: 1,\n    metres: 1,\n    miles: 1 / 1609.344,\n    millimeters: 1000,\n    millimetres: 1000,\n    nauticalmiles: 1 / 1852,\n    radians: 1 / earthRadius,\n    yards: 1.0936133,\n};\n/**\n * Area of measurement factors based on 1 square meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var areaFactors = {\n    acres: 0.000247105,\n    centimeters: 10000,\n    centimetres: 10000,\n    feet: 10.763910417,\n    hectares: 0.0001,\n    inches: 1550.003100006,\n    kilometers: 0.000001,\n    kilometres: 0.000001,\n    meters: 1,\n    metres: 1,\n    miles: 3.86e-7,\n    millimeters: 1000000,\n    millimetres: 1000000,\n    yards: 1.195990046,\n};\n/**\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\n *\n * @name feature\n * @param {Geometry} geometry input geometry\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature} a GeoJSON Feature\n * @example\n * var geometry = {\n *   \"type\": \"Point\",\n *   \"coordinates\": [110, 50]\n * };\n *\n * var feature = turf.feature(geometry);\n *\n * //=feature\n */\nexport function feature(geom, properties, options) {\n    if (options === void 0) { options = {}; }\n    var feat = { type: \"Feature\" };\n    if (options.id === 0 || options.id) {\n        feat.id = options.id;\n    }\n    if (options.bbox) {\n        feat.bbox = options.bbox;\n    }\n    feat.properties = properties || {};\n    feat.geometry = geom;\n    return feat;\n}\n/**\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\n * For GeometryCollection type use `helpers.geometryCollection`\n *\n * @name geometry\n * @param {string} type Geometry Type\n * @param {Array<any>} coordinates Coordinates\n * @param {Object} [options={}] Optional Parameters\n * @returns {Geometry} a GeoJSON Geometry\n * @example\n * var type = \"Point\";\n * var coordinates = [110, 50];\n * var geometry = turf.geometry(type, coordinates);\n * // => geometry\n */\nexport function geometry(type, coordinates, _options) {\n    if (_options === void 0) { _options = {}; }\n    switch (type) {\n        case \"Point\":\n            return point(coordinates).geometry;\n        case \"LineString\":\n            return lineString(coordinates).geometry;\n        case \"Polygon\":\n            return polygon(coordinates).geometry;\n        case \"MultiPoint\":\n            return multiPoint(coordinates).geometry;\n        case \"MultiLineString\":\n            return multiLineString(coordinates).geometry;\n        case \"MultiPolygon\":\n            return multiPolygon(coordinates).geometry;\n        default:\n            throw new Error(type + \" is invalid\");\n    }\n}\n/**\n * Creates a {@link Point} {@link Feature} from a Position.\n *\n * @name point\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Point>} a Point feature\n * @example\n * var point = turf.point([-75.343, 39.984]);\n *\n * //=point\n */\nexport function point(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (!coordinates) {\n        throw new Error(\"coordinates is required\");\n    }\n    if (!Array.isArray(coordinates)) {\n        throw new Error(\"coordinates must be an Array\");\n    }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be at least 2 numbers long\");\n    }\n    if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n        throw new Error(\"coordinates must contain numbers\");\n    }\n    var geom = {\n        type: \"Point\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.\n *\n * @name points\n * @param {Array<Array<number>>} coordinates an array of Points\n * @param {Object} [properties={}] Translate these properties to each Feature\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Point>} Point Feature\n * @example\n * var points = turf.points([\n *   [-75, 39],\n *   [-80, 45],\n *   [-78, 50]\n * ]);\n *\n * //=points\n */\nexport function points(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return point(coords, properties);\n    }), options);\n}\n/**\n * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.\n *\n * @name polygon\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Polygon>} Polygon Feature\n * @example\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\n *\n * //=polygon\n */\nexport function polygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    for (var _i = 0, coordinates_1 = coordinates; _i < coordinates_1.length; _i++) {\n        var ring = coordinates_1[_i];\n        if (ring.length < 4) {\n            throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");\n        }\n        for (var j = 0; j < ring[ring.length - 1].length; j++) {\n            // Check if first point of Polygon contains two numbers\n            if (ring[ring.length - 1][j] !== ring[0][j]) {\n                throw new Error(\"First and last Position are not equivalent.\");\n            }\n        }\n    }\n    var geom = {\n        type: \"Polygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.\n *\n * @name polygons\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection\n * @example\n * var polygons = turf.polygons([\n *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],\n *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],\n * ]);\n *\n * //=polygons\n */\nexport function polygons(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return polygon(coords, properties);\n    }), options);\n}\n/**\n * Creates a {@link LineString} {@link Feature} from an Array of Positions.\n *\n * @name lineString\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<LineString>} LineString Feature\n * @example\n * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});\n * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});\n *\n * //=linestring1\n * //=linestring2\n */\nexport function lineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be an array of two or more positions\");\n    }\n    var geom = {\n        type: \"LineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.\n *\n * @name lineStrings\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<LineString>} LineString FeatureCollection\n * @example\n * var linestrings = turf.lineStrings([\n *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],\n *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]\n * ]);\n *\n * //=linestrings\n */\nexport function lineStrings(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return lineString(coords, properties);\n    }), options);\n}\n/**\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\n *\n * @name featureCollection\n * @param {Feature[]} features input features\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {FeatureCollection} FeatureCollection of Features\n * @example\n * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});\n * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});\n * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});\n *\n * var collection = turf.featureCollection([\n *   locationA,\n *   locationB,\n *   locationC\n * ]);\n *\n * //=collection\n */\nexport function featureCollection(features, options) {\n    if (options === void 0) { options = {}; }\n    var fc = { type: \"FeatureCollection\" };\n    if (options.id) {\n        fc.id = options.id;\n    }\n    if (options.bbox) {\n        fc.bbox = options.bbox;\n    }\n    fc.features = features;\n    return fc;\n}\n/**\n * Creates a {@link Feature<MultiLineString>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiLineString\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiLineString>} a MultiLineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\n *\n * //=multiLine\n */\nexport function multiLineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiLineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<MultiPoint>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPoint\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPoint>} a MultiPoint feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\n *\n * //=multiPt\n */\nexport function multiPoint(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPoint\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<MultiPolygon>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPolygon\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPolygon>} a multipolygon feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\n *\n * //=multiPoly\n *\n */\nexport function multiPolygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPolygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<GeometryCollection>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name geometryCollection\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\n * @example\n * var pt = turf.geometry(\"Point\", [100, 0]);\n * var line = turf.geometry(\"LineString\", [[101, 0], [102, 1]]);\n * var collection = turf.geometryCollection([pt, line]);\n *\n * // => collection\n */\nexport function geometryCollection(geometries, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"GeometryCollection\",\n        geometries: geometries,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Round number to precision\n *\n * @param {number} num Number\n * @param {number} [precision=0] Precision\n * @returns {number} rounded number\n * @example\n * turf.round(120.4321)\n * //=120\n *\n * turf.round(120.4321, 2)\n * //=120.43\n */\nexport function round(num, precision) {\n    if (precision === void 0) { precision = 0; }\n    if (precision && !(precision >= 0)) {\n        throw new Error(\"precision must be a positive number\");\n    }\n    var multiplier = Math.pow(10, precision || 0);\n    return Math.round(num * multiplier) / multiplier;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name radiansToLength\n * @param {number} radians in radians across the sphere\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} distance\n */\nexport function radiansToLength(radians, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return radians * factor;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name lengthToRadians\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} radians\n */\nexport function lengthToRadians(distance, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return distance / factor;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\n *\n * @name lengthToDegrees\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} degrees\n */\nexport function lengthToDegrees(distance, units) {\n    return radiansToDegrees(lengthToRadians(distance, units));\n}\n/**\n * Converts any bearing angle from the north line direction (positive clockwise)\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\n *\n * @name bearingToAzimuth\n * @param {number} bearing angle, between -180 and +180 degrees\n * @returns {number} angle between 0 and 360 degrees\n */\nexport function bearingToAzimuth(bearing) {\n    var angle = bearing % 360;\n    if (angle < 0) {\n        angle += 360;\n    }\n    return angle;\n}\n/**\n * Converts an angle in radians to degrees\n *\n * @name radiansToDegrees\n * @param {number} radians angle in radians\n * @returns {number} degrees between 0 and 360 degrees\n */\nexport function radiansToDegrees(radians) {\n    var degrees = radians % (2 * Math.PI);\n    return (degrees * 180) / Math.PI;\n}\n/**\n * Converts an angle in degrees to radians\n *\n * @name degreesToRadians\n * @param {number} degrees angle between 0 and 360 degrees\n * @returns {number} angle in radians\n */\nexport function degreesToRadians(degrees) {\n    var radians = degrees % 360;\n    return (radians * Math.PI) / 180;\n}\n/**\n * Converts a length to the requested unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @param {number} length to be converted\n * @param {Units} [originalUnit=\"kilometers\"] of the length\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted length\n */\nexport function convertLength(length, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"kilometers\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(length >= 0)) {\n        throw new Error(\"length must be a positive number\");\n    }\n    return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\n/**\n * Converts a area to the requested unit.\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches, hectares\n * @param {number} area to be converted\n * @param {Units} [originalUnit=\"meters\"] of the distance\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted area\n */\nexport function convertArea(area, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"meters\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(area >= 0)) {\n        throw new Error(\"area must be a positive number\");\n    }\n    var startFactor = areaFactors[originalUnit];\n    if (!startFactor) {\n        throw new Error(\"invalid original units\");\n    }\n    var finalFactor = areaFactors[finalUnit];\n    if (!finalFactor) {\n        throw new Error(\"invalid final units\");\n    }\n    return (area / startFactor) * finalFactor;\n}\n/**\n * isNumber\n *\n * @param {*} num Number to validate\n * @returns {boolean} true/false\n * @example\n * turf.isNumber(123)\n * //=true\n * turf.isNumber('foo')\n * //=false\n */\nexport function isNumber(num) {\n    return !isNaN(num) && num !== null && !Array.isArray(num);\n}\n/**\n * isObject\n *\n * @param {*} input variable to validate\n * @returns {boolean} true/false\n * @example\n * turf.isObject({elevation: 10})\n * //=true\n * turf.isObject('foo')\n * //=false\n */\nexport function isObject(input) {\n    return !!input && input.constructor === Object;\n}\n/**\n * Validate BBox\n *\n * @private\n * @param {Array<number>} bbox BBox to validate\n * @returns {void}\n * @throws Error if BBox is not valid\n * @example\n * validateBBox([-180, -40, 110, 50])\n * //=OK\n * validateBBox([-180, -40])\n * //=Error\n * validateBBox('Foo')\n * //=Error\n * validateBBox(5)\n * //=Error\n * validateBBox(null)\n * //=Error\n * validateBBox(undefined)\n * //=Error\n */\nexport function validateBBox(bbox) {\n    if (!bbox) {\n        throw new Error(\"bbox is required\");\n    }\n    if (!Array.isArray(bbox)) {\n        throw new Error(\"bbox must be an Array\");\n    }\n    if (bbox.length !== 4 && bbox.length !== 6) {\n        throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n    }\n    bbox.forEach(function (num) {\n        if (!isNumber(num)) {\n            throw new Error(\"bbox must only contain numbers\");\n        }\n    });\n}\n/**\n * Validate Id\n *\n * @private\n * @param {string|number} id Id to validate\n * @returns {void}\n * @throws Error if Id is not valid\n * @example\n * validateId([-180, -40, 110, 50])\n * //=Error\n * validateId([-180, -40])\n * //=Error\n * validateId('Foo')\n * //=OK\n * validateId(5)\n * //=OK\n * validateId(null)\n * //=Error\n * validateId(undefined)\n * //=Error\n */\nexport function validateId(id) {\n    if (!id) {\n        throw new Error(\"id is required\");\n    }\n    if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n        throw new Error(\"id must be a number or a string\");\n    }\n}\n","import { isNumber, } from \"@turf/helpers\";\n/**\n * Unwrap a coordinate from a Point Feature, Geometry or a single coordinate.\n *\n * @name getCoord\n * @param {Array<number>|Geometry<Point>|Feature<Point>} coord GeoJSON Point or an Array of numbers\n * @returns {Array<number>} coordinates\n * @example\n * var pt = turf.point([10, 10]);\n *\n * var coord = turf.getCoord(pt);\n * //= [10, 10]\n */\nexport function getCoord(coord) {\n    if (!coord) {\n        throw new Error(\"coord is required\");\n    }\n    if (!Array.isArray(coord)) {\n        if (coord.type === \"Feature\" &&\n            coord.geometry !== null &&\n            coord.geometry.type === \"Point\") {\n            return coord.geometry.coordinates;\n        }\n        if (coord.type === \"Point\") {\n            return coord.coordinates;\n        }\n    }\n    if (Array.isArray(coord) &&\n        coord.length >= 2 &&\n        !Array.isArray(coord[0]) &&\n        !Array.isArray(coord[1])) {\n        return coord;\n    }\n    throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n}\n/**\n * Unwrap coordinates from a Feature, Geometry Object or an Array\n *\n * @name getCoords\n * @param {Array<any>|Geometry|Feature} coords Feature, Geometry Object or an Array\n * @returns {Array<any>} coordinates\n * @example\n * var poly = turf.polygon([[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]);\n *\n * var coords = turf.getCoords(poly);\n * //= [[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]\n */\nexport function getCoords(coords) {\n    if (Array.isArray(coords)) {\n        return coords;\n    }\n    // Feature\n    if (coords.type === \"Feature\") {\n        if (coords.geometry !== null) {\n            return coords.geometry.coordinates;\n        }\n    }\n    else {\n        // Geometry\n        if (coords.coordinates) {\n            return coords.coordinates;\n        }\n    }\n    throw new Error(\"coords must be GeoJSON Feature, Geometry Object or an Array\");\n}\n/**\n * Checks if coordinates contains a number\n *\n * @name containsNumber\n * @param {Array<any>} coordinates GeoJSON Coordinates\n * @returns {boolean} true if Array contains a number\n */\nexport function containsNumber(coordinates) {\n    if (coordinates.length > 1 &&\n        isNumber(coordinates[0]) &&\n        isNumber(coordinates[1])) {\n        return true;\n    }\n    if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n        return containsNumber(coordinates[0]);\n    }\n    throw new Error(\"coordinates must only contain numbers\");\n}\n/**\n * Enforce expectations about types of GeoJSON objects for Turf.\n *\n * @name geojsonType\n * @param {GeoJSON} value any GeoJSON object\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function geojsonType(value, type, name) {\n    if (!type || !name) {\n        throw new Error(\"type and name required\");\n    }\n    if (!value || value.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            value.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link Feature} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name featureOf\n * @param {Feature} feature a feature with an expected geometry type\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} error if value is not the expected type.\n */\nexport function featureOf(feature, type, name) {\n    if (!feature) {\n        throw new Error(\"No feature passed\");\n    }\n    if (!name) {\n        throw new Error(\".featureOf() requires a name\");\n    }\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n        throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n    }\n    if (!feature.geometry || feature.geometry.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            feature.geometry.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link FeatureCollection} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name collectionOf\n * @param {FeatureCollection} featureCollection a FeatureCollection for which features will be judged\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function collectionOf(featureCollection, type, name) {\n    if (!featureCollection) {\n        throw new Error(\"No featureCollection passed\");\n    }\n    if (!name) {\n        throw new Error(\".collectionOf() requires a name\");\n    }\n    if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\n        throw new Error(\"Invalid input to \" + name + \", FeatureCollection required\");\n    }\n    for (var _i = 0, _a = featureCollection.features; _i < _a.length; _i++) {\n        var feature = _a[_i];\n        if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n            throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n        }\n        if (!feature.geometry || feature.geometry.type !== type) {\n            throw new Error(\"Invalid input to \" +\n                name +\n                \": must be a \" +\n                type +\n                \", given \" +\n                feature.geometry.type);\n        }\n    }\n}\n/**\n * Get Geometry from Feature or Geometry Object\n *\n * @param {Feature|Geometry} geojson GeoJSON Feature or Geometry Object\n * @returns {Geometry|null} GeoJSON Geometry Object\n * @throws {Error} if geojson is not a Feature or Geometry Object\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getGeom(point)\n * //={\"type\": \"Point\", \"coordinates\": [110, 40]}\n */\nexport function getGeom(geojson) {\n    if (geojson.type === \"Feature\") {\n        return geojson.geometry;\n    }\n    return geojson;\n}\n/**\n * Get GeoJSON object's type, Geometry type is prioritize.\n *\n * @param {GeoJSON} geojson GeoJSON object\n * @param {string} [name=\"geojson\"] name of the variable to display in error message (unused)\n * @returns {string} GeoJSON type\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getType(point)\n * //=\"Point\"\n */\nexport function getType(geojson, _name) {\n    if (geojson.type === \"FeatureCollection\") {\n        return \"FeatureCollection\";\n    }\n    if (geojson.type === \"GeometryCollection\") {\n        return \"GeometryCollection\";\n    }\n    if (geojson.type === \"Feature\" && geojson.geometry !== null) {\n        return geojson.geometry.type;\n    }\n    return geojson.type;\n}\n","import {\n  BBox,\n  Coord,\n  Feature,\n  MultiPolygon,\n  Polygon,\n  Properties\n} from \"@turf/helpers\";\nimport { getCoord, getGeom } from \"@turf/invariant\";\n\n// http://en.wikipedia.org/wiki/Even%E2%80%93odd_rule\n// modified from: https://github.com/substack/point-in-polygon/blob/master/index.js\n// which was modified from http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n/**\n * Takes a {@link Point} and a {@link Polygon} or {@link MultiPolygon} and determines if the point\n * resides inside the polygon. The polygon can be convex or concave. The function accounts for holes.\n *\n * @name booleanPointInPolygon\n * @param {Coord} point input point\n * @param {Feature<Polygon|MultiPolygon>} polygon input polygon or multipolygon\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.ignoreBoundary=false] True if polygon boundary should be ignored when determining if\n * the point is inside the polygon otherwise false.\n * @returns {boolean} `true` if the Point is inside the Polygon; `false` if the Point is not inside the Polygon\n * @example\n * var pt = turf.point([-77, 44]);\n * var poly = turf.polygon([[\n *   [-81, 41],\n *   [-81, 47],\n *   [-72, 47],\n *   [-72, 41],\n *   [-81, 41]\n * ]]);\n *\n * turf.booleanPointInPolygon(pt, poly);\n * //= true\n */\nexport default function booleanPointInPolygon<\n  G extends Polygon | MultiPolygon,\n  P = Properties\n>(\n  point: Coord,\n  polygon: Feature<G, P> | G,\n  options: {\n    ignoreBoundary?: boolean;\n  } = {}\n) {\n  // validation\n  if (!point) {\n    throw new Error(\"point is required\");\n  }\n  if (!polygon) {\n    throw new Error(\"polygon is required\");\n  }\n\n  const pt = getCoord(point);\n  const geom = getGeom(polygon);\n  const type = geom.type;\n  const bbox = polygon.bbox;\n  let polys: any[] = geom.coordinates;\n\n  // Quick elimination if point is not inside bbox\n  if (bbox && !inBBox(pt, bbox)) {\n    return false;\n  }\n  // normalize to multipolygon\n  if (type === \"Polygon\") {\n    polys = [polys];\n  }\n  let insidePoly = false;\n  for (let i = 0; i < polys.length && !insidePoly; i++) {\n    // check if it is in the outer ring first\n    const res = pointInPolygon(pt, polys[i]);\n    if ((res === 0 && !options.ignoreBoundary) || res) insidePoly = true;\n  }\n  return insidePoly;\n}\n\n/**\n * inBBox\n *\n * @private\n * @param {Position} pt point [x,y]\n * @param {BBox} bbox BBox [west, south, east, north]\n * @returns {boolean} true/false if point is inside BBox\n */\nfunction inBBox(pt: number[], bbox: BBox) {\n  return (\n    bbox[0] <= pt[0] && bbox[1] <= pt[1] && bbox[2] >= pt[0] && bbox[3] >= pt[1]\n  );\n}\n\n// This function is based on https://github.com/rowanwins/point-in-polygon-hao\n// Because it did not work with TypeScript well, so I put it directly here.\n\nfunction pointInPolygon(p: number[], polygon: number[][][]): boolean | 0 {\n  let i = 0;\n  let ii = 0;\n  let k = 0;\n  let f = 0;\n  let u1 = 0;\n  let v1 = 0;\n  let u2 = 0;\n  let v2 = 0;\n  let currentP = null;\n  let nextP = null;\n\n  const x = p[0];\n  const y = p[1];\n\n  const numContours = polygon.length;\n  for (i; i < numContours; i++) {\n    ii = 0;\n    const contourLen = polygon[i].length - 1;\n    const contour = polygon[i];\n\n    currentP = contour[0];\n    u1 = currentP[0] - x;\n    v1 = currentP[1] - y;\n\n    for (ii; ii < contourLen; ii++) {\n      nextP = contour[ii + 1];\n\n      v2 = nextP[1] - y;\n\n      if ((v1 < 0 && v2 < 0) || (v1 > 0 && v2 > 0)) {\n        currentP = nextP;\n        v1 = v2;\n        u1 = currentP[0] - x;\n        continue;\n      }\n\n      u2 = nextP[0] - p[0];\n\n      if (v2 > 0 && v1 <= 0) {\n        f = u1 * v2 - u2 * v1;\n        if (f > 0) k = k + 1;\n        else if (f === 0) return 0;\n      } else if (v1 > 0 && v2 <= 0) {\n        f = u1 * v2 - u2 * v1;\n        if (f < 0) k = k + 1;\n        else if (f === 0) return 0;\n      } else if (v2 === 0 && v1 < 0) {\n        f = u1 * v2 - u2 * v1;\n        if (f === 0) return 0;\n      } else if (v1 === 0 && v2 < 0) {\n        f = u1 * v2 - u2 * v1;\n        if (f === 0) return 0;\n      } else if (v1 === 0 && v2 === 0) {\n        if (u2 <= 0 && u1 >= 0) {\n          return 0;\n        } else if (u1 <= 0 && u2 >= 0) {\n          return 0;\n        }\n      }\n      currentP = nextP;\n      v1 = v2;\n      u1 = u2;\n    }\n  }\n\n  if (k % 2 === 0) return false;\n  return true;\n}\n","import { feature, lineString, isObject, point } from '@turf/helpers';\n\n/**\n * Callback for coordEach\n *\n * @callback coordEachCallback\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\n *\n * @name coordEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, multiFeatureIndex)\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n  // Handles null Geometry -- Skips this GeoJSON\n  if (geojson === null) return;\n  var j,\n    k,\n    l,\n    geometry,\n    stopG,\n    coords,\n    geometryMaybeCollection,\n    wrapShrink = 0,\n    coordIndex = 0,\n    isGeometryCollection,\n    type = geojson.type,\n    isFeatureCollection = type === \"FeatureCollection\",\n    isFeature = type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[featureIndex].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n      var multiFeatureIndex = 0;\n      var geometryIndex = 0;\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[geomIndex]\n        : geometryMaybeCollection;\n\n      // Handles null Geometry -- Skips this geometry\n      if (geometry === null) continue;\n      coords = geometry.coordinates;\n      var geomType = geometry.type;\n\n      wrapShrink =\n        excludeWrapCoord &&\n        (geomType === \"Polygon\" || geomType === \"MultiPolygon\")\n          ? 1\n          : 0;\n\n      switch (geomType) {\n        case null:\n          break;\n        case \"Point\":\n          if (\n            callback(\n              coords,\n              coordIndex,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n          coordIndex++;\n          multiFeatureIndex++;\n          break;\n        case \"LineString\":\n        case \"MultiPoint\":\n          for (j = 0; j < coords.length; j++) {\n            if (\n              callback(\n                coords[j],\n                coordIndex,\n                featureIndex,\n                multiFeatureIndex,\n                geometryIndex\n              ) === false\n            )\n              return false;\n            coordIndex++;\n            if (geomType === \"MultiPoint\") multiFeatureIndex++;\n          }\n          if (geomType === \"LineString\") multiFeatureIndex++;\n          break;\n        case \"Polygon\":\n        case \"MultiLineString\":\n          for (j = 0; j < coords.length; j++) {\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\n              if (\n                callback(\n                  coords[j][k],\n                  coordIndex,\n                  featureIndex,\n                  multiFeatureIndex,\n                  geometryIndex\n                ) === false\n              )\n                return false;\n              coordIndex++;\n            }\n            if (geomType === \"MultiLineString\") multiFeatureIndex++;\n            if (geomType === \"Polygon\") geometryIndex++;\n          }\n          if (geomType === \"Polygon\") multiFeatureIndex++;\n          break;\n        case \"MultiPolygon\":\n          for (j = 0; j < coords.length; j++) {\n            geometryIndex = 0;\n            for (k = 0; k < coords[j].length; k++) {\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                if (\n                  callback(\n                    coords[j][k][l],\n                    coordIndex,\n                    featureIndex,\n                    multiFeatureIndex,\n                    geometryIndex\n                  ) === false\n                )\n                  return false;\n                coordIndex++;\n              }\n              geometryIndex++;\n            }\n            multiFeatureIndex++;\n          }\n          break;\n        case \"GeometryCollection\":\n          for (j = 0; j < geometry.geometries.length; j++)\n            if (\n              coordEach(geometry.geometries[j], callback, excludeWrapCoord) ===\n              false\n            )\n              return false;\n          break;\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n  }\n}\n\n/**\n * Callback for coordReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback coordReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\n *\n * @name coordReduce\n * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentCoord;\n * });\n */\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n  var previousValue = initialValue;\n  coordEach(\n    geojson,\n    function (\n      currentCoord,\n      coordIndex,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex\n    ) {\n      if (coordIndex === 0 && initialValue === undefined)\n        previousValue = currentCoord;\n      else\n        previousValue = callback(\n          previousValue,\n          currentCoord,\n          coordIndex,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    },\n    excludeWrapCoord\n  );\n  return previousValue;\n}\n\n/**\n * Callback for propEach\n *\n * @callback propEachCallback\n * @param {Object} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\n *\n * @name propEach\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentProperties, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propEach(features, function (currentProperties, featureIndex) {\n *   //=currentProperties\n *   //=featureIndex\n * });\n */\nfunction propEach(geojson, callback) {\n  var i;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      for (i = 0; i < geojson.features.length; i++) {\n        if (callback(geojson.features[i].properties, i) === false) break;\n      }\n      break;\n    case \"Feature\":\n      callback(geojson.properties, 0);\n      break;\n  }\n}\n\n/**\n * Callback for propReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback propReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce properties in any GeoJSON object into a single value,\n * similar to how Array.reduce works. However, in this case we lazily run\n * the reduction, so an array of all properties is unnecessary.\n *\n * @name propReduce\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {\n *   //=previousValue\n *   //=currentProperties\n *   //=featureIndex\n *   return currentProperties\n * });\n */\nfunction propReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  propEach(geojson, function (currentProperties, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentProperties;\n    else\n      previousValue = callback(previousValue, currentProperties, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Callback for featureEach\n *\n * @callback featureEachCallback\n * @param {Feature<any>} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name featureEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.featureEach(features, function (currentFeature, featureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n * });\n */\nfunction featureEach(geojson, callback) {\n  if (geojson.type === \"Feature\") {\n    callback(geojson, 0);\n  } else if (geojson.type === \"FeatureCollection\") {\n    for (var i = 0; i < geojson.features.length; i++) {\n      if (callback(geojson.features[i], i) === false) break;\n    }\n  }\n}\n\n/**\n * Callback for featureReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback featureReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name featureReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   return currentFeature\n * });\n */\nfunction featureReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  featureEach(geojson, function (currentFeature, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentFeature;\n    else previousValue = callback(previousValue, currentFeature, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Get all coordinates from any GeoJSON object.\n *\n * @name coordAll\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @returns {Array<Array<number>>} coordinate position array\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * var coords = turf.coordAll(features);\n * //= [[26, 37], [36, 53]]\n */\nfunction coordAll(geojson) {\n  var coords = [];\n  coordEach(geojson, function (coord) {\n    coords.push(coord);\n  });\n  return coords;\n}\n\n/**\n * Callback for geomEach\n *\n * @callback geomEachCallback\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\n *\n * @name geomEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomEach(features, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n * });\n */\nfunction geomEach(geojson, callback) {\n  var i,\n    j,\n    g,\n    geometry,\n    stopG,\n    geometryMaybeCollection,\n    isGeometryCollection,\n    featureProperties,\n    featureBBox,\n    featureId,\n    featureIndex = 0,\n    isFeatureCollection = geojson.type === \"FeatureCollection\",\n    isFeature = geojson.type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (i = 0; i < stop; i++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[i].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    featureProperties = isFeatureCollection\n      ? geojson.features[i].properties\n      : isFeature\n      ? geojson.properties\n      : {};\n    featureBBox = isFeatureCollection\n      ? geojson.features[i].bbox\n      : isFeature\n      ? geojson.bbox\n      : undefined;\n    featureId = isFeatureCollection\n      ? geojson.features[i].id\n      : isFeature\n      ? geojson.id\n      : undefined;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (g = 0; g < stopG; g++) {\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[g]\n        : geometryMaybeCollection;\n\n      // Handle null Geometry\n      if (geometry === null) {\n        if (\n          callback(\n            null,\n            featureIndex,\n            featureProperties,\n            featureBBox,\n            featureId\n          ) === false\n        )\n          return false;\n        continue;\n      }\n      switch (geometry.type) {\n        case \"Point\":\n        case \"LineString\":\n        case \"MultiPoint\":\n        case \"Polygon\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\": {\n          if (\n            callback(\n              geometry,\n              featureIndex,\n              featureProperties,\n              featureBBox,\n              featureId\n            ) === false\n          )\n            return false;\n          break;\n        }\n        case \"GeometryCollection\": {\n          for (j = 0; j < geometry.geometries.length; j++) {\n            if (\n              callback(\n                geometry.geometries[j],\n                featureIndex,\n                featureProperties,\n                featureBBox,\n                featureId\n              ) === false\n            )\n              return false;\n          }\n          break;\n        }\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n    // Only increase `featureIndex` per each feature\n    featureIndex++;\n  }\n}\n\n/**\n * Callback for geomReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback geomReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\n *\n * @name geomReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=previousValue\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n *   return currentGeometry\n * });\n */\nfunction geomReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  geomEach(\n    geojson,\n    function (\n      currentGeometry,\n      featureIndex,\n      featureProperties,\n      featureBBox,\n      featureId\n    ) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentGeometry;\n      else\n        previousValue = callback(\n          previousValue,\n          currentGeometry,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for flattenEach\n *\n * @callback flattenEachCallback\n * @param {Feature} currentFeature The current flattened feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Iterate over flattened features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name flattenEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex, multiFeatureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenEach(features, function (currentFeature, featureIndex, multiFeatureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n * });\n */\nfunction flattenEach(geojson, callback) {\n  geomEach(geojson, function (geometry, featureIndex, properties, bbox, id) {\n    // Callback for single geometry\n    var type = geometry === null ? null : geometry.type;\n    switch (type) {\n      case null:\n      case \"Point\":\n      case \"LineString\":\n      case \"Polygon\":\n        if (\n          callback(\n            feature(geometry, properties, { bbox: bbox, id: id }),\n            featureIndex,\n            0\n          ) === false\n        )\n          return false;\n        return;\n    }\n\n    var geomType;\n\n    // Callback for multi-geometry\n    switch (type) {\n      case \"MultiPoint\":\n        geomType = \"Point\";\n        break;\n      case \"MultiLineString\":\n        geomType = \"LineString\";\n        break;\n      case \"MultiPolygon\":\n        geomType = \"Polygon\";\n        break;\n    }\n\n    for (\n      var multiFeatureIndex = 0;\n      multiFeatureIndex < geometry.coordinates.length;\n      multiFeatureIndex++\n    ) {\n      var coordinate = geometry.coordinates[multiFeatureIndex];\n      var geom = {\n        type: geomType,\n        coordinates: coordinate,\n      };\n      if (\n        callback(feature(geom, properties), featureIndex, multiFeatureIndex) ===\n        false\n      )\n        return false;\n    }\n  });\n}\n\n/**\n * Callback for flattenReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback flattenReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Reduce flattened features in any GeoJSON object, similar to Array.reduce().\n *\n * @name flattenReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, multiFeatureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, multiFeatureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   return currentFeature\n * });\n */\nfunction flattenReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  flattenEach(\n    geojson,\n    function (currentFeature, featureIndex, multiFeatureIndex) {\n      if (\n        featureIndex === 0 &&\n        multiFeatureIndex === 0 &&\n        initialValue === undefined\n      )\n        previousValue = currentFeature;\n      else\n        previousValue = callback(\n          previousValue,\n          currentFeature,\n          featureIndex,\n          multiFeatureIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for segmentEach\n *\n * @callback segmentEachCallback\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n * @returns {void}\n */\n\n/**\n * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex)\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentEach(polygon, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //=currentSegment\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   //=segmentIndex\n * });\n *\n * // Calculate the total number of segments\n * var total = 0;\n * turf.segmentEach(polygon, function () {\n *     total++;\n * });\n */\nfunction segmentEach(geojson, callback) {\n  flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n    var segmentIndex = 0;\n\n    // Exclude null Geometries\n    if (!feature.geometry) return;\n    // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n    var type = feature.geometry.type;\n    if (type === \"Point\" || type === \"MultiPoint\") return;\n\n    // Generate 2-vertex line segments\n    var previousCoords;\n    var previousFeatureIndex = 0;\n    var previousMultiIndex = 0;\n    var prevGeomIndex = 0;\n    if (\n      coordEach(\n        feature,\n        function (\n          currentCoord,\n          coordIndex,\n          featureIndexCoord,\n          multiPartIndexCoord,\n          geometryIndex\n        ) {\n          // Simulating a meta.coordReduce() since `reduce` operations cannot be stopped by returning `false`\n          if (\n            previousCoords === undefined ||\n            featureIndex > previousFeatureIndex ||\n            multiPartIndexCoord > previousMultiIndex ||\n            geometryIndex > prevGeomIndex\n          ) {\n            previousCoords = currentCoord;\n            previousFeatureIndex = featureIndex;\n            previousMultiIndex = multiPartIndexCoord;\n            prevGeomIndex = geometryIndex;\n            segmentIndex = 0;\n            return;\n          }\n          var currentSegment = lineString(\n            [previousCoords, currentCoord],\n            feature.properties\n          );\n          if (\n            callback(\n              currentSegment,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex,\n              segmentIndex\n            ) === false\n          )\n            return false;\n          segmentIndex++;\n          previousCoords = currentCoord;\n        }\n      ) === false\n    )\n      return false;\n  });\n}\n\n/**\n * Callback for segmentReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback segmentReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n */\n\n/**\n * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //= previousSegment\n *   //= currentSegment\n *   //= featureIndex\n *   //= multiFeatureIndex\n *   //= geometryIndex\n *   //= segmentIndex\n *   return currentSegment\n * });\n *\n * // Calculate the total number of segments\n * var initialValue = 0\n * var total = turf.segmentReduce(polygon, function (previousValue) {\n *     previousValue++;\n *     return previousValue;\n * }, initialValue);\n */\nfunction segmentReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  var started = false;\n  segmentEach(\n    geojson,\n    function (\n      currentSegment,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex,\n      segmentIndex\n    ) {\n      if (started === false && initialValue === undefined)\n        previousValue = currentSegment;\n      else\n        previousValue = callback(\n          previousValue,\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        );\n      started = true;\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for lineEach\n *\n * @callback lineEachCallback\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,\n * similar to Array.forEach.\n *\n * @name lineEach\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @example\n * var multiLine = turf.multiLineString([\n *   [[26, 37], [35, 45]],\n *   [[36, 53], [38, 50], [41, 55]]\n * ]);\n *\n * turf.lineEach(multiLine, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction lineEach(geojson, callback) {\n  // validation\n  if (!geojson) throw new Error(\"geojson is required\");\n\n  flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n    if (feature.geometry === null) return;\n    var type = feature.geometry.type;\n    var coords = feature.geometry.coordinates;\n    switch (type) {\n      case \"LineString\":\n        if (callback(feature, featureIndex, multiFeatureIndex, 0, 0) === false)\n          return false;\n        break;\n      case \"Polygon\":\n        for (\n          var geometryIndex = 0;\n          geometryIndex < coords.length;\n          geometryIndex++\n        ) {\n          if (\n            callback(\n              lineString(coords[geometryIndex], feature.properties),\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n        }\n        break;\n    }\n  });\n}\n\n/**\n * Callback for lineReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback lineReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name lineReduce\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var multiPoly = turf.multiPolygon([\n *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),\n *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])\n * ]);\n *\n * turf.lineReduce(multiPoly, function (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentLine\n * });\n */\nfunction lineReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  lineEach(\n    geojson,\n    function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentLine;\n      else\n        previousValue = callback(\n          previousValue,\n          currentLine,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Finds a particular 2-vertex LineString Segment from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n * Point & MultiPoint will always return null.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.segmentIndex=0] Segment Index\n * @param {Object} [options.properties={}] Translate Properties to output LineString\n * @param {BBox} [options.bbox={}] Translate BBox to output LineString\n * @param {number|string} [options.id={}] Translate Id to output LineString\n * @returns {Feature<LineString>} 2-vertex GeoJSON Feature LineString\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findSegment(multiLine);\n * // => Feature<LineString<[[10, 10], [50, 30]]>>\n *\n * // First Segment of 2nd Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: 1});\n * // => Feature<LineString<[[-10, -10], [-50, -30]]>>\n *\n * // Last Segment of Last Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: -1, segmentIndex: -1});\n * // => Feature<LineString<[[-50, -30], [-30, -40]]>>\n */\nfunction findSegment(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var segmentIndex = options.segmentIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find SegmentIndex\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n      if (segmentIndex < 0) segmentIndex = coords.length + segmentIndex - 1;\n      return lineString(\n        [coords[segmentIndex], coords[segmentIndex + 1]],\n        properties,\n        options\n      );\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[geometryIndex][segmentIndex],\n          coords[geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][segmentIndex],\n          coords[multiFeatureIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex =\n          coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][geometryIndex][segmentIndex],\n          coords[multiFeatureIndex][geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\n/**\n * Finds a particular Point from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.coordIndex=0] Coord Index\n * @param {Object} [options.properties={}] Translate Properties to output Point\n * @param {BBox} [options.bbox={}] Translate BBox to output Point\n * @param {number|string} [options.id={}] Translate Id to output Point\n * @returns {Feature<Point>} 2-vertex GeoJSON Feature Point\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findPoint(multiLine);\n * // => Feature<Point<[10, 10]>>\n *\n * // First Segment of the 2nd Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: 1});\n * // => Feature<Point<[-10, -10]>>\n *\n * // Last Segment of last Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: -1, coordIndex: -1});\n * // => Feature<Point<[-30, -40]>>\n */\nfunction findPoint(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var coordIndex = options.coordIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find Coord Index\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n      return point(coords, properties, options);\n    case \"MultiPoint\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      return point(coords[multiFeatureIndex], properties, options);\n    case \"LineString\":\n      if (coordIndex < 0) coordIndex = coords.length + coordIndex;\n      return point(coords[coordIndex], properties, options);\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[geometryIndex].length + coordIndex;\n      return point(coords[geometryIndex][coordIndex], properties, options);\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex].length + coordIndex;\n      return point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex =\n          coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n      return point(\n        coords[multiFeatureIndex][geometryIndex][coordIndex],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\nexport { coordAll, coordEach, coordReduce, featureEach, featureReduce, findPoint, findSegment, flattenEach, flattenReduce, geomEach, geomReduce, lineEach, lineReduce, propEach, propReduce, segmentEach, segmentReduce };\n","import { polygon, } from \"@turf/helpers\";\nimport { coordEach } from \"@turf/meta\";\nimport concaveman from \"concaveman\";\n/**\n * Takes a {@link Feature} or a {@link FeatureCollection} and returns a convex hull {@link Polygon}.\n *\n * Internally this uses\n * the [convex-hull](https://github.com/mikolalysenko/convex-hull) module that implements a\n * [monotone chain hull](http://en.wikibooks.org/wiki/Algorithm_Implementation/Geometry/Convex_hull/Monotone_chain).\n *\n * @name convex\n * @param {GeoJSON} geojson input Feature or FeatureCollection\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.concavity=Infinity] 1 - thin shape. Infinity - convex hull.\n * @param {Object} [options.properties={}] Translate Properties to Feature\n * @returns {Feature<Polygon>} a convex hull\n * @example\n * var points = turf.featureCollection([\n *   turf.point([10.195312, 43.755225]),\n *   turf.point([10.404052, 43.8424511]),\n *   turf.point([10.579833, 43.659924]),\n *   turf.point([10.360107, 43.516688]),\n *   turf.point([10.14038, 43.588348]),\n *   turf.point([10.195312, 43.755225])\n * ]);\n *\n * var hull = turf.convex(points);\n *\n * //addToMap\n * var addToMap = [points, hull]\n */\nexport default function convex(geojson, options) {\n    if (options === void 0) { options = {}; }\n    // Default parameters\n    options.concavity = options.concavity || Infinity;\n    // Container\n    var points = [];\n    // Convert all points to flat 2D coordinate Array\n    coordEach(geojson, function (coord) {\n        points.push([coord[0], coord[1]]);\n    });\n    if (!points.length) {\n        return null;\n    }\n    var convexHull = concaveman(points, options.concavity);\n    // Convex hull should have at least 3 different vertices in order to create a valid polygon\n    if (convexHull.length > 3) {\n        return polygon([convexHull]);\n    }\n    return null;\n}\n","import polygonClipping from 'polygon-clipping';\nimport { polygon, multiPolygon } from '@turf/helpers';\nimport { getGeom } from '@turf/invariant';\n\n/**\n * Finds the difference between two {@link Polygon|polygons} by clipping the second polygon from the first.\n *\n * @name difference\n * @param {Feature<Polygon|MultiPolygon>} polygon1 input Polygon feature\n * @param {Feature<Polygon|MultiPolygon>} polygon2 Polygon feature to difference from polygon1\n * @returns {Feature<Polygon|MultiPolygon>|null} a Polygon or MultiPolygon feature showing the area of `polygon1` excluding the area of `polygon2` (if empty returns `null`)\n * @example\n * var polygon1 = turf.polygon([[\n *   [128, -26],\n *   [141, -26],\n *   [141, -21],\n *   [128, -21],\n *   [128, -26]\n * ]], {\n *   \"fill\": \"#F00\",\n *   \"fill-opacity\": 0.1\n * });\n * var polygon2 = turf.polygon([[\n *   [126, -28],\n *   [140, -28],\n *   [140, -20],\n *   [126, -20],\n *   [126, -28]\n * ]], {\n *   \"fill\": \"#00F\",\n *   \"fill-opacity\": 0.1\n * });\n *\n * var difference = turf.difference(polygon1, polygon2);\n *\n * //addToMap\n * var addToMap = [polygon1, polygon2, difference];\n */\nfunction difference(polygon1, polygon2) {\n  var geom1 = getGeom(polygon1);\n  var geom2 = getGeom(polygon2);\n  var properties = polygon1.properties || {};\n\n  var differenced = polygonClipping.difference(\n    geom1.coordinates,\n    geom2.coordinates\n  );\n  if (differenced.length === 0) return null;\n  if (differenced.length === 1) return polygon(differenced[0], properties);\n  return multiPolygon(differenced, properties);\n}\n\nexport default difference;\n","import { featureCollection, lineString, } from \"@turf/helpers\";\nimport { getCoords } from \"@turf/invariant\";\nimport { flattenEach } from \"@turf/meta\";\n/**\n * Creates a {@link FeatureCollection} of 2-vertex {@link LineString} segments from a\n * {@link LineString|(Multi)LineString} or {@link Polygon|(Multi)Polygon}.\n *\n * @name lineSegment\n * @param {GeoJSON} geojson GeoJSON Polygon or LineString\n * @returns {FeatureCollection<LineString>} 2-vertex line segments\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n * var segments = turf.lineSegment(polygon);\n *\n * //addToMap\n * var addToMap = [polygon, segments]\n */\nfunction lineSegment(geojson) {\n    if (!geojson) {\n        throw new Error(\"geojson is required\");\n    }\n    var results = [];\n    flattenEach(geojson, function (feature) {\n        lineSegmentFeature(feature, results);\n    });\n    return featureCollection(results);\n}\n/**\n * Line Segment\n *\n * @private\n * @param {Feature<LineString|Polygon>} geojson Line or polygon feature\n * @param {Array} results push to results\n * @returns {void}\n */\nfunction lineSegmentFeature(geojson, results) {\n    var coords = [];\n    var geometry = geojson.geometry;\n    if (geometry !== null) {\n        switch (geometry.type) {\n            case \"Polygon\":\n                coords = getCoords(geometry);\n                break;\n            case \"LineString\":\n                coords = [getCoords(geometry)];\n        }\n        coords.forEach(function (coord) {\n            var segments = createSegments(coord, geojson.properties);\n            segments.forEach(function (segment) {\n                segment.id = results.length;\n                results.push(segment);\n            });\n        });\n    }\n}\n/**\n * Create Segments from LineString coordinates\n *\n * @private\n * @param {Array<Array<number>>} coords LineString coordinates\n * @param {*} properties GeoJSON properties\n * @returns {Array<Feature<LineString>>} line segments\n */\nfunction createSegments(coords, properties) {\n    var segments = [];\n    coords.reduce(function (previousCoords, currentCoords) {\n        var segment = lineString([previousCoords, currentCoords], properties);\n        segment.bbox = bbox(previousCoords, currentCoords);\n        segments.push(segment);\n        return currentCoords;\n    });\n    return segments;\n}\n/**\n * Create BBox between two coordinates (faster than @turf/bbox)\n *\n * @private\n * @param {Array<number>} coords1 Point coordinate\n * @param {Array<number>} coords2 Point coordinate\n * @returns {BBox} [west, south, east, north]\n */\nfunction bbox(coords1, coords2) {\n    var x1 = coords1[0];\n    var y1 = coords1[1];\n    var x2 = coords2[0];\n    var y2 = coords2[1];\n    var west = x1 < x2 ? x1 : x2;\n    var south = y1 < y2 ? y1 : y2;\n    var east = x1 > x2 ? x1 : x2;\n    var north = y1 > y2 ? y1 : y2;\n    return [west, south, east, north];\n}\nexport default lineSegment;\n","import { feature, featureCollection, point, } from \"@turf/helpers\";\nimport { getCoords } from \"@turf/invariant\";\nimport lineSegment from \"@turf/line-segment\";\nimport { featureEach } from \"@turf/meta\";\nimport rbush from \"geojson-rbush\";\n/**\n * Takes any LineString or Polygon GeoJSON and returns the intersecting point(s).\n *\n * @name lineIntersect\n * @param {GeoJSON} line1 any LineString or Polygon\n * @param {GeoJSON} line2 any LineString or Polygon\n * @returns {FeatureCollection<Point>} point(s) that intersect both\n * @example\n * var line1 = turf.lineString([[126, -11], [129, -21]]);\n * var line2 = turf.lineString([[123, -18], [131, -14]]);\n * var intersects = turf.lineIntersect(line1, line2);\n *\n * //addToMap\n * var addToMap = [line1, line2, intersects]\n */\nfunction lineIntersect(line1, line2) {\n    var unique = {};\n    var results = [];\n    // First, normalize geometries to features\n    // Then, handle simple 2-vertex segments\n    if (line1.type === \"LineString\") {\n        line1 = feature(line1);\n    }\n    if (line2.type === \"LineString\") {\n        line2 = feature(line2);\n    }\n    if (line1.type === \"Feature\" &&\n        line2.type === \"Feature\" &&\n        line1.geometry !== null &&\n        line2.geometry !== null &&\n        line1.geometry.type === \"LineString\" &&\n        line2.geometry.type === \"LineString\" &&\n        line1.geometry.coordinates.length === 2 &&\n        line2.geometry.coordinates.length === 2) {\n        var intersect = intersects(line1, line2);\n        if (intersect) {\n            results.push(intersect);\n        }\n        return featureCollection(results);\n    }\n    // Handles complex GeoJSON Geometries\n    var tree = rbush();\n    tree.load(lineSegment(line2));\n    featureEach(lineSegment(line1), function (segment) {\n        featureEach(tree.search(segment), function (match) {\n            var intersect = intersects(segment, match);\n            if (intersect) {\n                // prevent duplicate points https://github.com/Turfjs/turf/issues/688\n                var key = getCoords(intersect).join(\",\");\n                if (!unique[key]) {\n                    unique[key] = true;\n                    results.push(intersect);\n                }\n            }\n        });\n    });\n    return featureCollection(results);\n}\n/**\n * Find a point that intersects LineStrings with two coordinates each\n *\n * @private\n * @param {Feature<LineString>} line1 GeoJSON LineString (Must only contain 2 coordinates)\n * @param {Feature<LineString>} line2 GeoJSON LineString (Must only contain 2 coordinates)\n * @returns {Feature<Point>} intersecting GeoJSON Point\n */\nfunction intersects(line1, line2) {\n    var coords1 = getCoords(line1);\n    var coords2 = getCoords(line2);\n    if (coords1.length !== 2) {\n        throw new Error(\"<intersects> line1 must only contain 2 coordinates\");\n    }\n    if (coords2.length !== 2) {\n        throw new Error(\"<intersects> line2 must only contain 2 coordinates\");\n    }\n    var x1 = coords1[0][0];\n    var y1 = coords1[0][1];\n    var x2 = coords1[1][0];\n    var y2 = coords1[1][1];\n    var x3 = coords2[0][0];\n    var y3 = coords2[0][1];\n    var x4 = coords2[1][0];\n    var y4 = coords2[1][1];\n    var denom = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1);\n    var numeA = (x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3);\n    var numeB = (x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3);\n    if (denom === 0) {\n        if (numeA === 0 && numeB === 0) {\n            return null;\n        }\n        return null;\n    }\n    var uA = numeA / denom;\n    var uB = numeB / denom;\n    if (uA >= 0 && uA <= 1 && uB >= 0 && uB <= 1) {\n        var x = x1 + uA * (x2 - x1);\n        var y = y1 + uA * (y2 - y1);\n        return point([x, y]);\n    }\n    return null;\n}\nexport default lineIntersect;\n","import { Position } from \"@turf/turf\";\nimport { point } from \"@turf/helpers\";\n\nexport default function findIntersections(coords: Position[][]) {\n  const arcs = new ArcCollection(coords);\n  const xy = arcs.findSegmentIntersections();\n  return dedupIntersections(xy).reduce(\n    (prev: any, apoint: any, index: any, array: any) => {\n      if (!prev) prev = {};\n      prev[`${apoint.x}:${apoint.y}`] = apoint;\n      if (index != array.length - 1) return prev;\n      return Object.keys(prev).map(key => point([prev[key].x, prev[key].y]));\n    },\n    []\n  );\n}\n\nclass ArcCollection {\n  _xx?: Float64Array;\n  _yy?: Float64Array; // coordinates data\n  _ii?: Uint32Array;\n  _nn?: Uint32Array; // indexes, sizes\n  _zz: any;\n  _zlimit = 0; // simplification\n  _bb: any;\n  _allBounds: any; // bounding boxes\n  _arcIter: any;\n  _filteredArcIter: any; // path iterators\n  buf?: ArrayBuffer;\n\n  constructor(coords: Position[][]) {\n    this.initArcs(coords);\n  }\n\n  initArcs(arcs: Position[][]) {\n    const xx: number[] = [],\n      yy: number[] = [];\n    const nn = arcs.map(points => {\n      const n = points ? points.length : 0;\n      for (let i = 0; i < n; i++) {\n        xx.push(points[i][0]);\n        yy.push(points[i][1]);\n      }\n      return n;\n    });\n    this.initXYData(nn, xx, yy);\n  }\n\n  initXYData(nn: number[], xx: number[], yy: number[]) {\n    const size = nn.length;\n    this._xx = new Float64Array(xx);\n    this._yy = new Float64Array(yy);\n    this._nn = new Uint32Array(nn);\n    this._zz = null;\n    this._zlimit = 0;\n    this._filteredArcIter = null;\n\n    // generate array of starting idxs of each arc\n    this._ii = new Uint32Array(size);\n    let idx = 0;\n    for (let j = 0; j < size; j++) {\n      this._ii[j] = idx;\n      idx += nn[j];\n    }\n\n    if (idx != this._xx.length || this._xx.length != this._yy.length) {\n      error(\"ArcCollection#initXYData() Counting error\");\n    }\n\n    this.initBounds();\n    // Pre-allocate some path iterators for repeated use.\n    this._arcIter = new ArcIter(this._xx, this._yy);\n  }\n\n  initBounds() {\n    const data = this.calcArcBounds_(this._xx!, this._yy!, this._nn!);\n    this._bb = data.bb;\n    this._allBounds = data.bounds;\n  }\n\n  calcArcBounds_(xx: Float64Array, yy: Float64Array, nn: Uint32Array) {\n    const numArcs = nn.length,\n      bb = new Float64Array(numArcs * 4),\n      bounds = new Bounds();\n    let arcOffs = 0,\n      arcLen: number,\n      j: number,\n      b: number[];\n    for (let i = 0; i < numArcs; i++) {\n      arcLen = nn[i];\n      if (arcLen > 0) {\n        j = i * 4;\n        b = calcArcBounds(xx, yy, arcOffs, arcLen) as number[];\n        bb[j++] = b[0];\n        bb[j++] = b[1];\n        bb[j++] = b[2];\n        bb[j] = b[3];\n        arcOffs += arcLen;\n        bounds.mergeBounds(b);\n      }\n    }\n    return {\n      bb,\n      bounds\n    };\n  }\n\n  getBounds() {\n    return this._allBounds.clone();\n  }\n\n  // @cb function(i, j, xx, yy)\n  forEachSegment(cb: any) {\n    let count = 0;\n    for (let i = 0, n = this.size(); i < n; i++) {\n      count += this.forEachArcSegment(i, cb);\n    }\n    return count;\n  }\n\n  size() {\n    return (this._ii && this._ii.length) || 0;\n  }\n\n  // @cb function(i, j, xx, yy)\n  forEachArcSegment(arcId: any, cb: any): any {\n    const fw = arcId >= 0,\n      absId = fw ? arcId : ~arcId,\n      zlim = this.getRetainedInterval(),\n      n = this._nn![absId],\n      step = fw ? 1 : -1;\n    let v1 = fw ? this._ii![absId] : this._ii![absId] + n - 1,\n      v2 = v1,\n      count = 0;\n\n    for (let j = 1; j < n; j++) {\n      v2 += step;\n      if (zlim === 0 || this._zz![v2] >= zlim) {\n        cb(v1, v2, this._xx!, this._yy!);\n        v1 = v2;\n        count++;\n      }\n    }\n    return count;\n  }\n\n  getRetainedInterval() {\n    return this._zlimit;\n  }\n\n  // Give access to raw data arrays...\n  getVertexData() {\n    return {\n      xx: this._xx,\n      yy: this._yy,\n      zz: this._zz,\n      bb: this._bb,\n      nn: this._nn,\n      ii: this._ii\n    };\n  }\n\n  getUint32Array(count: number) {\n    const bytes = count * 4;\n    if (!this.buf || this.buf.byteLength < bytes) {\n      this.buf = new ArrayBuffer(bytes);\n    }\n    return new Uint32Array(this.buf, 0, count);\n  }\n\n  // Return average magnitudes of dx, dy (with simplification)\n  getAvgSegment2() {\n    let dx = 0,\n      dy = 0;\n    const count = this.forEachSegment(\n      (i: number, j: number, xx: number[], yy: number[]) => {\n        dx += Math.abs(xx[i] - xx[j]);\n        dy += Math.abs(yy[i] - yy[j]);\n      }\n    );\n    return [dx / count || 0, dy / count || 0];\n  }\n\n  calcSegmentIntersectionStripeCount() {\n    const yrange = this.getBounds().height(),\n      segLen = this.getAvgSegment2()[1];\n    let count = 1;\n    if (segLen > 0 && yrange > 0) {\n      count = Math.ceil(yrange / segLen / 20);\n    }\n    return count || 1;\n  }\n\n  findSegmentIntersections() {\n    const bounds = this.getBounds(),\n      ymin = bounds.ymin,\n      yrange = bounds.ymax - ymin,\n      stripeCount = this.calcSegmentIntersectionStripeCount(),\n      stripeSizes = new Uint32Array(stripeCount),\n      stripeId =\n        stripeCount > 1\n          ? (y: number) => Math.floor(((stripeCount - 1) * (y - ymin)) / yrange)\n          : () => 0;\n    let i, j;\n\n    // Count segments in each stripe\n    this.forEachSegment(\n      (id1: number, id2: number, xx: number[], yy: number[]) => {\n        let s1 = stripeId(yy[id1]);\n        const s2 = stripeId(yy[id2]);\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n          stripeSizes[s1] = stripeSizes[s1] + 2;\n          if (s1 == s2) break;\n          s1 += s2 > s1 ? 1 : -1;\n        }\n      }\n    );\n\n    // Allocate arrays for segments in each stripe\n    const stripeData = this.getUint32Array(utilsSum(stripeSizes));\n    let offs = 0;\n    const stripes: any[] = [];\n    utilsForEach(stripeSizes, (stripeSize: number) => {\n      const start = offs;\n      offs += stripeSize;\n      stripes.push(stripeData.subarray(start, offs));\n    });\n    // Assign segment ids to each stripe\n    initializeArray(stripeSizes, 0);\n\n    this.forEachSegment(\n      (id1: number, id2: number, xx: number[], yy: number[]) => {\n        let s1 = stripeId(yy[id1]);\n        const s2 = stripeId(yy[id2]);\n        let count, stripe;\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n          count = stripeSizes[s1];\n          stripeSizes[s1] = count + 2;\n          stripe = stripes[s1];\n          stripe[count] = id1;\n          stripe[count + 1] = id2;\n          if (s1 == s2) break;\n          s1 += s2 > s1 ? 1 : -1;\n        }\n      }\n    );\n\n    // Detect intersections among segments in each stripe.\n    const raw = this.getVertexData(),\n      intersections = [];\n    let arr;\n    for (i = 0; i < stripeCount; i++) {\n      arr = intersectSegments(stripes[i], raw.xx, raw.yy);\n      for (j = 0; j < arr.length; j++) {\n        intersections.push(arr[j]);\n      }\n    }\n    return dedupIntersections(intersections);\n  }\n}\n\nfunction error(...args: any[]) {\n  const msg = args.join(\" \");\n  throw new Error(msg);\n}\n\nfunction isArrayLike(obj: any) {\n  if (!obj) return false;\n  if (isArray(obj)) return true;\n  if (isString(obj)) return false;\n  if (obj.length === 0) return true;\n  return obj.length > 0;\n}\n\nfunction isString(obj: any) {\n  return obj != null && obj.toString === String.prototype.toString;\n}\n\nfunction isArray(obj: any) {\n  return Array.isArray(obj);\n}\n\n// Calc sum, skip falsy and NaN values\n// Assumes: no other non-numeric objects in array\n//\nfunction utilsSum(arr: Uint32Array, info?: any) {\n  if (!isArrayLike(arr)) error(\"utils.sum() expects an array, received:\", arr);\n  let tot = 0,\n    nan = 0,\n    val;\n  for (let i = 0, n = arr.length; i < n; i++) {\n    val = arr[i];\n    if (val) {\n      tot += val;\n    } else if (isNaN(val)) {\n      nan++;\n    }\n  }\n  if (info) {\n    info.nan = nan;\n  }\n  return tot;\n}\n\n// Support for iterating over array-like objects, like typed arrays\nfunction utilsForEach(arr: any, func: any, ctx?: any) {\n  if (!isArrayLike(arr)) {\n    throw new Error(`#forEach() takes an array-like argument. ${arr}`);\n  }\n  for (let i = 0, n = arr.length; i < n; i++) {\n    func.call(ctx, arr[i], i);\n  }\n}\n\nfunction initializeArray(arr: any, init: any) {\n  for (let i = 0, len = arr.length; i < len; i++) {\n    arr[i] = init;\n  }\n  return arr;\n}\n\n// Find intersections among a group of line segments\n//\n// TODO: handle case where a segment starts and ends at the same point (i.e. duplicate coords);\n//\n// @ids: Array of indexes: [s0p0, s0p1, s1p0, s1p1, ...] where xx[sip0] <= xx[sip1]\n// @xx, @yy: Arrays of x- and y-coordinates\n//\nfunction intersectSegments(ids: any, xx: any, yy: any) {\n  const lim = ids.length - 2,\n    intersections = [];\n  let s1p1,\n    s1p2,\n    s2p1,\n    s2p2,\n    s1p1x,\n    s1p2x,\n    s2p1x,\n    s2p2x,\n    s1p1y,\n    s1p2y,\n    s2p1y,\n    s2p2y,\n    hit,\n    seg1,\n    seg2,\n    i,\n    j;\n\n  // Sort segments by xmin, to allow efficient exclusion of segments with\n  // non-overlapping x extents.\n  sortSegmentIds(xx, ids); // sort by ascending xmin\n\n  i = 0;\n  while (i < lim) {\n    s1p1 = ids[i];\n    s1p2 = ids[i + 1];\n    s1p1x = xx[s1p1];\n    s1p2x = xx[s1p2];\n    s1p1y = yy[s1p1];\n    s1p2y = yy[s1p2];\n    // count++;\n\n    j = i;\n    while (j < lim) {\n      j += 2;\n      s2p1 = ids[j];\n      s2p1x = xx[s2p1];\n\n      if (s1p2x < s2p1x) break; // x extent of seg 2 is greater than seg 1: done with seg 1\n      //if (s1p2x <= s2p1x) break; // this misses point-segment intersections when s1 or s2 is vertical\n\n      s2p1y = yy[s2p1];\n      s2p2 = ids[j + 1];\n      s2p2x = xx[s2p2];\n      s2p2y = yy[s2p2];\n\n      // skip segments with non-overlapping y ranges\n      if (s1p1y >= s2p1y) {\n        if (s1p1y > s2p2y && s1p2y > s2p1y && s1p2y > s2p2y) continue;\n      } else {\n        if (s1p1y < s2p2y && s1p2y < s2p1y && s1p2y < s2p2y) continue;\n      }\n\n      // skip segments that are adjacent in a path (optimization)\n      // TODO: consider if this eliminates some cases that should\n      // be detected, e.g. spikes formed by unequal segments\n      if (s1p1 == s2p1 || s1p1 == s2p2 || s1p2 == s2p1 || s1p2 == s2p2) {\n        continue;\n      }\n\n      // test two candidate segments for intersection\n      hit = segmentIntersection(\n        s1p1x,\n        s1p1y,\n        s1p2x,\n        s1p2y,\n        s2p1x,\n        s2p1y,\n        s2p2x,\n        s2p2y\n      );\n      if (hit) {\n        seg1 = [s1p1, s1p2];\n        seg2 = [s2p1, s2p2];\n        intersections.push(formatIntersection(hit, seg1, seg2, xx, yy));\n        if (hit.length == 4) {\n          // two collinear segments may have two endpoint intersections\n          intersections.push(\n            formatIntersection(hit.slice(2), seg1, seg2, xx, yy)\n          );\n        }\n      }\n    }\n    i += 2;\n  }\n  return intersections;\n}\n\n// Find the interection between two 2D segments\n// Returns 0, 1 or two x, y locations as null, [x, y], or [x1, y1, x2, y2]\n// Special cases:\n// If the segments touch at an endpoint of both segments, it is not treated as an intersection\n// If the segments touch at a T-intersection, it is treated as an intersection\n// If the segments are collinear and partially overlapping, each subsumed endpoint\n//    is counted as an intersection (there will be one or two)\n//\nfunction segmentIntersection(\n  ax: any,\n  ay: any,\n  bx: any,\n  by: any,\n  cx: any,\n  cy: any,\n  dx: any,\n  dy: any\n) {\n  const hit = segmentHit(ax, ay, bx, by, cx, cy, dx, dy);\n  let p = null;\n  if (hit) {\n    p = crossIntersection(ax, ay, bx, by, cx, cy, dx, dy);\n    if (!p) {\n      // collinear if p is null\n      p = collinearIntersection(ax, ay, bx, by, cx, cy, dx, dy);\n    } else if (endpointHit(ax, ay, bx, by, cx, cy, dx, dy)) {\n      p = null; // filter out segments that only intersect at an endpoint\n    }\n  }\n  return p;\n}\n\n// Source: Sedgewick, _Algorithms in C_\n// (Tried various other functions that failed owing to floating point errors)\nfunction segmentHit(\n  ax: any,\n  ay: any,\n  bx: any,\n  by: any,\n  cx: any,\n  cy: any,\n  dx: any,\n  dy: any\n) {\n  return (\n    orient2D(ax, ay, bx, by, cx, cy) * orient2D(ax, ay, bx, by, dx, dy) <= 0 &&\n    orient2D(cx, cy, dx, dy, ax, ay) * orient2D(cx, cy, dx, dy, bx, by) <= 0\n  );\n}\n\n// returns a positive value if the points a, b, and c are arranged in\n// counterclockwise order, a negative value if the points are in clockwise\n// order, and zero if the points are collinear.\n// Source: Jonathan Shewchuk http://www.cs.berkeley.edu/~jrs/meshpapers/robnotes.pdf\nfunction orient2D(ax: any, ay: any, bx: any, by: any, cx: any, cy: any) {\n  return determinant2D(ax - cx, ay - cy, bx - cx, by - cy);\n}\n\n// Determinant of matrix\n//  | a  b |\n//  | c  d |\nfunction determinant2D(a: any, b: any, c: any, d: any) {\n  return a * d - b * c;\n}\n\n// Get intersection point if segments are non-collinear, else return null\n// Assumes that segments have been intersect\nfunction crossIntersection(\n  ax: any,\n  ay: any,\n  bx: any,\n  by: any,\n  cx: any,\n  cy: any,\n  dx: any,\n  dy: any\n) {\n  let p = lineIntersection(ax, ay, bx, by, cx, cy, dx, dy);\n  let nearest;\n  if (p) {\n    // Re-order operands so intersection point is closest to a (better precision)\n    // Source: Jonathan Shewchuk http://www.cs.berkeley.edu/~jrs/meshpapers/robnotes.pdf\n    nearest = nearestPoint(p[0], p[1], ax, ay, bx, by, cx, cy, dx, dy);\n    if (nearest == 1) {\n      p = lineIntersection(bx, by, ax, ay, cx, cy, dx, dy);\n    } else if (nearest == 2) {\n      p = lineIntersection(cx, cy, dx, dy, ax, ay, bx, by);\n    } else if (nearest == 3) {\n      p = lineIntersection(dx, dy, cx, cy, ax, ay, bx, by);\n    }\n  }\n  if (p) {\n    clampIntersectionPoint(p, ax, ay, bx, by, cx, cy, dx, dy);\n  }\n  return p;\n}\n\nfunction lineIntersection(\n  ax: any,\n  ay: any,\n  bx: any,\n  by: any,\n  cx: any,\n  cy: any,\n  dx: any,\n  dy: any\n) {\n  const den = determinant2D(bx - ax, by - ay, dx - cx, dy - cy);\n  const eps = 1e-18;\n  let p;\n  if (den === 0) return null;\n  const m = orient2D(cx, cy, dx, dy, ax, ay) / den;\n  if (den <= eps && den >= -eps) {\n    // tiny denominator = low precision; using one of the endpoints as intersection\n    p = findEndpointInRange(ax, ay, bx, by, cx, cy, dx, dy);\n    /*if (!p) {\n      debug(\"[lineIntersection()]\");\n      debugSegmentIntersection([], ax, ay, bx, by, cx, cy, dx, dy);\n    }*/\n  } else {\n    p = [ax + m * (bx - ax), ay + m * (by - ay)];\n  }\n  return p;\n}\n\nfunction findEndpointInRange(\n  ax: any,\n  ay: any,\n  bx: any,\n  by: any,\n  cx: any,\n  cy: any,\n  dx: any,\n  dy: any\n) {\n  let p = null;\n  if (!outsideRange(ax, cx, dx) && !outsideRange(ay, cy, dy)) {\n    p = [ax, ay];\n  } else if (!outsideRange(bx, cx, dx) && !outsideRange(by, cy, dy)) {\n    p = [bx, by];\n  } else if (!outsideRange(cx, ax, bx) && !outsideRange(cy, ay, by)) {\n    p = [cx, cy];\n  } else if (!outsideRange(dx, ax, bx) && !outsideRange(dy, ay, by)) {\n    p = [dx, dy];\n  }\n  return p;\n}\n\n// a: coordinate of point\n// b: endpoint coordinate of segment\n// c: other endpoint of segment\nfunction outsideRange(a: any, b: any, c: any) {\n  let out;\n  if (b < c) {\n    out = a < b || a > c;\n  } else if (b > c) {\n    out = a > b || a < c;\n  } else {\n    out = a != b;\n  }\n  return out;\n}\n\n// Return id of nearest point to x, y, among x0, y0, x1, y1, ...\nfunction nearestPoint(x: any, y: any, ...args: any[]) {\n  let minIdx = -1,\n    minDist = Infinity,\n    dist;\n  for (let i = 0, j = 0, n = args.length; j < n; i++, j += 2) {\n    dist = distanceSq(x, y, args[j], args[j + 1]);\n    if (dist < minDist) {\n      minDist = dist;\n      minIdx = i;\n    }\n  }\n  return minIdx;\n}\n\nfunction distanceSq(ax: any, ay: any, bx: any, by: any) {\n  const dx = ax - bx,\n    dy = ay - by;\n  return dx * dx + dy * dy;\n}\n\nfunction clampIntersectionPoint(\n  p: any,\n  ax: any,\n  ay: any,\n  bx: any,\n  by: any,\n  cx: any,\n  cy: any,\n  dx: any,\n  dy: any\n) {\n  // Handle intersection points that fall outside the x-y range of either\n  // segment by snapping to nearest endpoint coordinate. Out-of-range\n  // intersection points can be caused by floating point rounding errors\n  // when a segment is vertical or horizontal. This has caused problems when\n  // repeatedly applying bbox clipping along the same segment\n  let x = p[0],\n    y = p[1];\n  // assumes that segment ranges intersect\n  x = clampToCloseRange(x, ax, bx);\n  x = clampToCloseRange(x, cx, dx);\n  y = clampToCloseRange(y, ay, by);\n  y = clampToCloseRange(y, cy, dy);\n  p[0] = x;\n  p[1] = y;\n}\n\nfunction clampToCloseRange(a: any, b: any, c: any) {\n  let lim;\n  if (outsideRange(a, b, c)) {\n    lim = Math.abs(a - b) < Math.abs(a - c) ? b : c;\n    if (Math.abs(a - lim) > 1e-15) {\n      //debug(\"[clampToCloseRange()] large clamping interval\", a, b, c);\n    }\n    a = lim;\n  }\n  return a;\n}\n\n// Assume segments s1 and s2 are collinear and overlap; find one or two internal endpoints\nfunction collinearIntersection(\n  ax: any,\n  ay: any,\n  bx: any,\n  by: any,\n  cx: any,\n  cy: any,\n  dx: any,\n  dy: any\n) {\n  const minX = Math.min(ax, bx, cx, dx),\n    maxX = Math.max(ax, bx, cx, dx),\n    minY = Math.min(ay, by, cy, dy),\n    maxY = Math.max(ay, by, cy, dy),\n    useY = maxY - minY > maxX - minX;\n  let coords: any = [];\n\n  if (useY ? inside(ay, minY, maxY) : inside(ax, minX, maxX)) {\n    coords.push(ax, ay);\n  }\n  if (useY ? inside(by, minY, maxY) : inside(bx, minX, maxX)) {\n    coords.push(bx, by);\n  }\n  if (useY ? inside(cy, minY, maxY) : inside(cx, minX, maxX)) {\n    coords.push(cx, cy);\n  }\n  if (useY ? inside(dy, minY, maxY) : inside(dx, minX, maxX)) {\n    coords.push(dx, dy);\n  }\n  if (coords.length != 2 && coords.length != 4) {\n    coords = null;\n    //debug(\"Invalid collinear segment intersection\", coords);\n  } else if (\n    coords.length == 4 &&\n    coords[0] == coords[2] &&\n    coords[1] == coords[3]\n  ) {\n    // segs that meet in the middle don't count\n    coords = null;\n  }\n  return coords;\n}\n\nfunction endpointHit(\n  ax: any,\n  ay: any,\n  bx: any,\n  by: any,\n  cx: any,\n  cy: any,\n  dx: any,\n  dy: any\n) {\n  return (\n    (ax == cx && ay == cy) ||\n    (ax == dx && ay == dy) ||\n    (bx == cx && by == cy) ||\n    (bx == dx && by == dy)\n  );\n}\n\nfunction inside(x: any, minX: any, maxX: any) {\n  return x > minX && x < maxX;\n}\n\n// @xx array of x coords\n// @ids an array of segment endpoint ids [a0, b0, a1, b1, ...]\n// Sort @ids in place so that xx[a(n)] <= xx[b(n)] and xx[a(n)] <= xx[a(n+1)]\nfunction sortSegmentIds(xx: any, ids: any) {\n  orderSegmentIds(xx, ids);\n  quicksortSegmentIds(xx, ids, 0, ids.length - 2);\n}\n\nfunction orderSegmentIds(xx: any, ids: any) {\n  for (let i = 0, n = ids.length; i < n; i += 2) {\n    if (xx[ids[i]] > xx[ids[i + 1]]) {\n      swap(ids, i, i + 1);\n    }\n  }\n}\n\nfunction swap(ids: any, i: number, j: number) {\n  const tmp = ids[i];\n  ids[i] = ids[j];\n  ids[j] = tmp;\n}\n\nfunction quicksortSegmentIds(a: any, ids: any, lo: any, hi: any) {\n  let i = lo,\n    j = hi,\n    pivot,\n    tmp;\n  while (i < hi) {\n    pivot = a[ids[((lo + hi) >> 2) << 1]]; // avoid n^2 performance on sorted arrays\n    while (i <= j) {\n      while (a[ids[i]] < pivot) i += 2;\n      while (a[ids[j]] > pivot) j -= 2;\n      if (i <= j) {\n        tmp = ids[i];\n        ids[i] = ids[j];\n        ids[j] = tmp;\n        tmp = ids[i + 1];\n        ids[i + 1] = ids[j + 1];\n        ids[j + 1] = tmp;\n        i += 2;\n        j -= 2;\n      }\n    }\n\n    if (j - lo < 40) insertionSortSegmentIds(a, ids, lo, j);\n    else quicksortSegmentIds(a, ids, lo, j);\n    if (hi - i < 40) {\n      insertionSortSegmentIds(a, ids, i, hi);\n      return;\n    }\n    lo = i;\n    j = hi;\n  }\n}\n\nfunction insertionSortSegmentIds(arr: any, ids: any, start: any, end: any) {\n  let id, id2;\n  for (let j = start + 2; j <= end; j += 2) {\n    id = ids[j];\n    id2 = ids[j + 1];\n    let i;\n    for (i = j - 2; i >= start && arr[id] < arr[ids[i]]; i -= 2) {\n      ids[i + 2] = ids[i];\n      ids[i + 3] = ids[i + 1];\n    }\n    ids[i + 2] = id;\n    ids[i + 3] = id2;\n  }\n}\n\nfunction formatIntersection(xy: any, s1: any, s2: any, xx: any, yy: any) {\n  const x = xy[0],\n    y = xy[1];\n  s1 = formatIntersectingSegment(x, y, s1[0], s1[1], xx, yy);\n  s2 = formatIntersectingSegment(x, y, s2[0], s2[1], xx, yy);\n  const a = s1[0] < s2[0] ? s1 : s2;\n  const b = a == s1 ? s2 : s1;\n  return { x, y, a, b };\n}\n\nfunction formatIntersectingSegment(\n  x: any,\n  y: any,\n  id1: any,\n  id2: any,\n  xx: any,\n  yy: any\n) {\n  let i = id1 < id2 ? id1 : id2,\n    j = i === id1 ? id2 : id1;\n  if (xx[i] == x && yy[i] == y) {\n    j = i;\n  } else if (xx[j] == x && yy[j] == y) {\n    i = j;\n  }\n  return [i, j];\n}\n\nfunction dedupIntersections(arr: any) {\n  const index: any = {};\n  return arr.filter((o: any) => {\n    const key = getIntersectionKey(o);\n    if (key in index) {\n      return false;\n    }\n    index[key] = true;\n    return true;\n  });\n}\n\n// Get an indexable key from an intersection object\n// Assumes that vertex ids of o.a and o.b are sorted\nfunction getIntersectionKey(o: any) {\n  return `${o.a.join(\",\")};${o.b.join(\",\")}`;\n}\n\n// Constructor takes arrays of coords: xx, yy, zz (optional)\n//\nclass ArcIter {\n  _i = 0;\n  _n = 0;\n  _inc = 1;\n  _xx: Float64Array;\n  _yy: Float64Array;\n  i = 0;\n  x = 0;\n  y = 0;\n\n  constructor(xx: Float64Array, yy: Float64Array) {\n    this._xx = xx;\n    this._yy = yy;\n  }\n}\n\nfunction calcArcBounds(\n  xx: Float64Array,\n  yy: Float64Array,\n  start: number,\n  len: number\n) {\n  let i = start | 0;\n  const n = isNaN(len) ? xx.length - i : len + i;\n  let x: number,\n    y: number,\n    xmin: number,\n    ymin: number,\n    xmax: number,\n    ymax: number;\n  if (n > 0) {\n    xmin = xmax = xx[i];\n    ymin = ymax = yy[i];\n  } else return [undefined, undefined, undefined, undefined];\n  for (i++; i < n; i++) {\n    x = xx[i];\n    y = yy[i];\n    if (x < xmin) xmin = x;\n    if (x > xmax) xmax = x;\n    if (y < ymin) ymin = y;\n    if (y > ymax) ymax = y;\n  }\n  return [xmin, ymin, xmax, ymax];\n}\n\nclass Bounds {\n  xmin?: number;\n  ymin?: number;\n  xmax?: number;\n  ymax?: number;\n\n  constructor(...args: any[]) {\n    if (args.length > 0) {\n      this.setBounds(args);\n    }\n  }\n\n  // Return a bounding box with the same extent as this one.\n  cloneBounds() {\n    return this.clone();\n  }\n\n  clone() {\n    // alias so child classes can override clone()\n    return new Bounds(this.xmin, this.ymin, this.xmax, this.ymax);\n  }\n\n  width() {\n    return this.xmax! - this.xmin! || 0;\n  }\n\n  height() {\n    return this.ymax! - this.ymin! || 0;\n  }\n\n  setBounds(a: any, b?: number, c?: number, d?: number) {\n    if (arguments.length == 1) {\n      // assume first arg is a Bounds or array\n      if (isArrayLike(a)) {\n        b = a[1];\n        c = a[2];\n        d = a[3];\n        a = a[0];\n      } else {\n        b = a.ymin;\n        c = a.xmax;\n        d = a.ymax;\n        a = a.xmin;\n      }\n    }\n\n    this.xmin = a;\n    this.ymin = b;\n    this.xmax = c;\n    this.ymax = d;\n    if (a > c! || b! > d!) this.update();\n    // error(\"Bounds#setBounds() min/max reversed:\", a, b, c, d);\n    return this;\n  }\n\n  update() {\n    let tmp: number;\n    if (this.xmin! > this.xmax!) {\n      tmp = this.xmin!;\n      this.xmin = this.xmax;\n      this.xmax = tmp;\n    }\n    if (this.ymin! > this.ymax!) {\n      tmp = this.ymin!;\n      this.ymin = this.ymax;\n      this.ymax = tmp;\n    }\n  }\n\n  mergeBounds(bb: number | number[] | Bounds, ...args: number[]) {\n    let a: number, b: number, c: number, d: number;\n    if (bb instanceof Bounds) {\n      a = bb.xmin!;\n      b = bb.ymin!;\n      c = bb.xmax!;\n      d = bb.ymax!;\n    } else if (args.length == 3) {\n      a = bb as number;\n      b = args[0];\n      c = args[1];\n      d = args[2];\n    } else if ((bb as number[]).length == 4) {\n      // assume array: [xmin, ymin, xmax, ymax]\n      a = (bb as number[])[0];\n      b = (bb as number[])[1];\n      c = (bb as number[])[2];\n      d = (bb as number[])[3];\n    } else {\n      error(\"Bounds#mergeBounds() invalid argument:\", bb);\n    }\n\n    if (this.xmin === void 0) {\n      this.setBounds(a!, b!, c!, d!);\n    } else {\n      if (a! < this.xmin) this.xmin = a!;\n      if (b! < this.ymin!) this.ymin = b!;\n      if (c! > this.xmax!) this.xmax = c!;\n      if (d! > this.ymax!) this.ymax = d!;\n    }\n    return this;\n  }\n}\n","export const epsilon = 1.1102230246251565e-16;\nexport const splitter = 134217729;\nexport const resulterrbound = (3 + 8 * epsilon) * epsilon;\n\n// fast_expansion_sum_zeroelim routine from oritinal code\nexport function sum(elen, e, flen, f, h) {\n    let Q, Qnew, hh, bvirt;\n    let enow = e[0];\n    let fnow = f[0];\n    let eindex = 0;\n    let findex = 0;\n    if ((fnow > enow) === (fnow > -enow)) {\n        Q = enow;\n        enow = e[++eindex];\n    } else {\n        Q = fnow;\n        fnow = f[++findex];\n    }\n    let hindex = 0;\n    if (eindex < elen && findex < flen) {\n        if ((fnow > enow) === (fnow > -enow)) {\n            Qnew = enow + Q;\n            hh = Q - (Qnew - enow);\n            enow = e[++eindex];\n        } else {\n            Qnew = fnow + Q;\n            hh = Q - (Qnew - fnow);\n            fnow = f[++findex];\n        }\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        while (eindex < elen && findex < flen) {\n            if ((fnow > enow) === (fnow > -enow)) {\n                Qnew = Q + enow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (enow - bvirt);\n                enow = e[++eindex];\n            } else {\n                Qnew = Q + fnow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n                fnow = f[++findex];\n            }\n            Q = Qnew;\n            if (hh !== 0) {\n                h[hindex++] = hh;\n            }\n        }\n    }\n    while (eindex < elen) {\n        Qnew = Q + enow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (enow - bvirt);\n        enow = e[++eindex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    while (findex < flen) {\n        Qnew = Q + fnow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n        fnow = f[++findex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function sum_three(alen, a, blen, b, clen, c, tmp, out) {\n    return sum(sum(alen, a, blen, b, tmp), tmp, clen, c, out);\n}\n\n// scale_expansion_zeroelim routine from oritinal code\nexport function scale(elen, e, b, h) {\n    let Q, sum, hh, product1, product0;\n    let bvirt, c, ahi, alo, bhi, blo;\n\n    c = splitter * b;\n    bhi = c - (c - b);\n    blo = b - bhi;\n    let enow = e[0];\n    Q = enow * b;\n    c = splitter * enow;\n    ahi = c - (c - enow);\n    alo = enow - ahi;\n    hh = alo * blo - (Q - ahi * bhi - alo * bhi - ahi * blo);\n    let hindex = 0;\n    if (hh !== 0) {\n        h[hindex++] = hh;\n    }\n    for (let i = 1; i < elen; i++) {\n        enow = e[i];\n        product1 = enow * b;\n        c = splitter * enow;\n        ahi = c - (c - enow);\n        alo = enow - ahi;\n        product0 = alo * blo - (product1 - ahi * bhi - alo * bhi - ahi * blo);\n        sum = Q + product0;\n        bvirt = sum - Q;\n        hh = Q - (sum - bvirt) + (product0 - bvirt);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        Q = product1 + sum;\n        hh = sum - (Q - product1);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function negate(elen, e) {\n    for (let i = 0; i < elen; i++) e[i] = -e[i];\n    return elen;\n}\n\nexport function estimate(elen, e) {\n    let Q = e[0];\n    for (let i = 1; i < elen; i++) Q += e[i];\n    return Q;\n}\n\nexport function vec(n) {\n    return new Float64Array(n);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum} from './util.js';\n\nconst ccwerrboundA = (3 + 16 * epsilon) * epsilon;\nconst ccwerrboundB = (2 + 12 * epsilon) * epsilon;\nconst ccwerrboundC = (9 + 64 * epsilon) * epsilon * epsilon;\n\nconst B = vec(4);\nconst C1 = vec(8);\nconst C2 = vec(12);\nconst D = vec(16);\nconst u = vec(4);\n\nfunction orient2dadapt(ax, ay, bx, by, cx, cy, detsum) {\n    let acxtail, acytail, bcxtail, bcytail;\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    const acx = ax - cx;\n    const bcx = bx - cx;\n    const acy = ay - cy;\n    const bcy = by - cy;\n\n    s1 = acx * bcy;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcx;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    B[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    B[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    B[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    B[3] = u3;\n\n    let det = estimate(4, B);\n    let errbound = ccwerrboundB * detsum;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - acx;\n    acxtail = ax - (acx + bvirt) + (bvirt - cx);\n    bvirt = bx - bcx;\n    bcxtail = bx - (bcx + bvirt) + (bvirt - cx);\n    bvirt = ay - acy;\n    acytail = ay - (acy + bvirt) + (bvirt - cy);\n    bvirt = by - bcy;\n    bcytail = by - (bcy + bvirt) + (bvirt - cy);\n\n    if (acxtail === 0 && acytail === 0 && bcxtail === 0 && bcytail === 0) {\n        return det;\n    }\n\n    errbound = ccwerrboundC * detsum + resulterrbound * Math.abs(det);\n    det += (acx * bcytail + bcy * acxtail) - (acy * bcxtail + bcx * acytail);\n    if (det >= errbound || -det >= errbound) return det;\n\n    s1 = acxtail * bcy;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcx;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C1len = sum(4, B, 4, u, C1);\n\n    s1 = acx * bcytail;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcxtail;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C2len = sum(C1len, C1, 4, u, C2);\n\n    s1 = acxtail * bcytail;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcxtail;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const Dlen = sum(C2len, C2, 4, u, D);\n\n    return D[Dlen - 1];\n}\n\nexport function orient2d(ax, ay, bx, by, cx, cy) {\n    const detleft = (ay - cy) * (bx - cx);\n    const detright = (ax - cx) * (by - cy);\n    const det = detleft - detright;\n\n    if (detleft === 0 || detright === 0 || (detleft > 0) !== (detright > 0)) return det;\n\n    const detsum = Math.abs(detleft + detright);\n    if (Math.abs(det) >= ccwerrboundA * detsum) return det;\n\n    return -orient2dadapt(ax, ay, bx, by, cx, cy, detsum);\n}\n\nexport function orient2dfast(ax, ay, bx, by, cx, cy) {\n    return (ay - cy) * (bx - cx) - (ax - cx) * (by - cy);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum, scale} from './util.js';\n\nconst o3derrboundA = (7 + 56 * epsilon) * epsilon;\nconst o3derrboundB = (3 + 28 * epsilon) * epsilon;\nconst o3derrboundC = (26 + 288 * epsilon) * epsilon * epsilon;\n\nconst bc = vec(4);\nconst ca = vec(4);\nconst ab = vec(4);\nconst at_b = vec(4);\nconst at_c = vec(4);\nconst bt_c = vec(4);\nconst bt_a = vec(4);\nconst ct_a = vec(4);\nconst ct_b = vec(4);\nconst bct = vec(8);\nconst cat = vec(8);\nconst abt = vec(8);\nconst u = vec(4);\n\nconst _8 = vec(8);\nconst _8b = vec(8);\nconst _16 = vec(8);\nconst _12 = vec(12);\n\nlet fin = vec(192);\nlet fin2 = vec(192);\n\nfunction finadd(finlen, alen, a) {\n    finlen = sum(finlen, fin, alen, a, fin2);\n    const tmp = fin; fin = fin2; fin2 = tmp;\n    return finlen;\n}\n\nfunction tailinit(xtail, ytail, ax, ay, bx, by, a, b) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, t1, t0, u3, negate;\n    if (xtail === 0) {\n        if (ytail === 0) {\n            a[0] = 0;\n            b[0] = 0;\n            return 1;\n        } else {\n            negate = -ytail;\n            s1 = negate * ax;\n            c = splitter * negate;\n            ahi = c - (c - negate);\n            alo = negate - ahi;\n            c = splitter * ax;\n            bhi = c - (c - ax);\n            blo = ax - bhi;\n            a[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            a[1] = s1;\n            s1 = ytail * bx;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * bx;\n            bhi = c - (c - bx);\n            blo = bx - bhi;\n            b[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            b[1] = s1;\n            return 2;\n        }\n    } else {\n        if (ytail === 0) {\n            s1 = xtail * ay;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * ay;\n            bhi = c - (c - ay);\n            blo = ay - bhi;\n            a[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            a[1] = s1;\n            negate = -xtail;\n            s1 = negate * by;\n            c = splitter * negate;\n            ahi = c - (c - negate);\n            alo = negate - ahi;\n            c = splitter * by;\n            bhi = c - (c - by);\n            blo = by - bhi;\n            b[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            b[1] = s1;\n            return 2;\n        } else {\n            s1 = xtail * ay;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * ay;\n            bhi = c - (c - ay);\n            blo = ay - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = ytail * ax;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * ax;\n            bhi = c - (c - ax);\n            blo = ax - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            a[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            a[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            a[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            a[3] = u3;\n            s1 = ytail * bx;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * bx;\n            bhi = c - (c - bx);\n            blo = bx - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = xtail * by;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * by;\n            bhi = c - (c - by);\n            blo = by - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            b[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            b[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            b[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            b[3] = u3;\n            return 4;\n        }\n    }\n}\n\nfunction tailadd(finlen, a, b, k, z) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, u3;\n    s1 = a * b;\n    c = splitter * a;\n    ahi = c - (c - a);\n    alo = a - ahi;\n    c = splitter * b;\n    bhi = c - (c - b);\n    blo = b - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    c = splitter * k;\n    bhi = c - (c - k);\n    blo = k - bhi;\n    _i = s0 * k;\n    c = splitter * s0;\n    ahi = c - (c - s0);\n    alo = s0 - ahi;\n    u[0] = alo * blo - (_i - ahi * bhi - alo * bhi - ahi * blo);\n    _j = s1 * k;\n    c = splitter * s1;\n    ahi = c - (c - s1);\n    alo = s1 - ahi;\n    _0 = alo * blo - (_j - ahi * bhi - alo * bhi - ahi * blo);\n    _k = _i + _0;\n    bvirt = _k - _i;\n    u[1] = _i - (_k - bvirt) + (_0 - bvirt);\n    u3 = _j + _k;\n    u[2] = _k - (u3 - _j);\n    u[3] = u3;\n    finlen = finadd(finlen, 4, u);\n    if (z !== 0) {\n        c = splitter * z;\n        bhi = c - (c - z);\n        blo = z - bhi;\n        _i = s0 * z;\n        c = splitter * s0;\n        ahi = c - (c - s0);\n        alo = s0 - ahi;\n        u[0] = alo * blo - (_i - ahi * bhi - alo * bhi - ahi * blo);\n        _j = s1 * z;\n        c = splitter * s1;\n        ahi = c - (c - s1);\n        alo = s1 - ahi;\n        _0 = alo * blo - (_j - ahi * bhi - alo * bhi - ahi * blo);\n        _k = _i + _0;\n        bvirt = _k - _i;\n        u[1] = _i - (_k - bvirt) + (_0 - bvirt);\n        u3 = _j + _k;\n        u[2] = _k - (u3 - _j);\n        u[3] = u3;\n        finlen = finadd(finlen, 4, u);\n    }\n    return finlen;\n}\n\nfunction orient3dadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, permanent) {\n    let finlen;\n    let adxtail, bdxtail, cdxtail;\n    let adytail, bdytail, cdytail;\n    let adztail, bdztail, cdztail;\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, t1, t0, u3;\n\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    s1 = bdx * cdy;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cdx * bdy;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cdx * ady;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = adx * cdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ca[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ca[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ca[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ca[3] = u3;\n    s1 = adx * bdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bdx * ady;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n\n    finlen = sum(\n        sum(\n            scale(4, bc, adz, _8), _8,\n            scale(4, ca, bdz, _8b), _8b, _16), _16,\n        scale(4, ab, cdz, _8), _8, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = o3derrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - adx;\n    adxtail = ax - (adx + bvirt) + (bvirt - dx);\n    bvirt = bx - bdx;\n    bdxtail = bx - (bdx + bvirt) + (bvirt - dx);\n    bvirt = cx - cdx;\n    cdxtail = cx - (cdx + bvirt) + (bvirt - dx);\n    bvirt = ay - ady;\n    adytail = ay - (ady + bvirt) + (bvirt - dy);\n    bvirt = by - bdy;\n    bdytail = by - (bdy + bvirt) + (bvirt - dy);\n    bvirt = cy - cdy;\n    cdytail = cy - (cdy + bvirt) + (bvirt - dy);\n    bvirt = az - adz;\n    adztail = az - (adz + bvirt) + (bvirt - dz);\n    bvirt = bz - bdz;\n    bdztail = bz - (bdz + bvirt) + (bvirt - dz);\n    bvirt = cz - cdz;\n    cdztail = cz - (cdz + bvirt) + (bvirt - dz);\n\n    if (adxtail === 0 && bdxtail === 0 && cdxtail === 0 &&\n        adytail === 0 && bdytail === 0 && cdytail === 0 &&\n        adztail === 0 && bdztail === 0 && cdztail === 0) {\n        return det;\n    }\n\n    errbound = o3derrboundC * permanent + resulterrbound * Math.abs(det);\n    det +=\n        adz * (bdx * cdytail + cdy * bdxtail - (bdy * cdxtail + cdx * bdytail)) + adztail * (bdx * cdy - bdy * cdx) +\n        bdz * (cdx * adytail + ady * cdxtail - (cdy * adxtail + adx * cdytail)) + bdztail * (cdx * ady - cdy * adx) +\n        cdz * (adx * bdytail + bdy * adxtail - (ady * bdxtail + bdx * adytail)) + cdztail * (adx * bdy - ady * bdx);\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    const at_len = tailinit(adxtail, adytail, bdx, bdy, cdx, cdy, at_b, at_c);\n    const bt_len = tailinit(bdxtail, bdytail, cdx, cdy, adx, ady, bt_c, bt_a);\n    const ct_len = tailinit(cdxtail, cdytail, adx, ady, bdx, bdy, ct_a, ct_b);\n\n    const bctlen = sum(bt_len, bt_c, ct_len, ct_b, bct);\n    finlen = finadd(finlen, scale(bctlen, bct, adz, _16), _16);\n\n    const catlen = sum(ct_len, ct_a, at_len, at_c, cat);\n    finlen = finadd(finlen, scale(catlen, cat, bdz, _16), _16);\n\n    const abtlen = sum(at_len, at_b, bt_len, bt_a, abt);\n    finlen = finadd(finlen, scale(abtlen, abt, cdz, _16), _16);\n\n    if (adztail !== 0) {\n        finlen = finadd(finlen, scale(4, bc, adztail, _12), _12);\n        finlen = finadd(finlen, scale(bctlen, bct, adztail, _16), _16);\n    }\n    if (bdztail !== 0) {\n        finlen = finadd(finlen, scale(4, ca, bdztail, _12), _12);\n        finlen = finadd(finlen, scale(catlen, cat, bdztail, _16), _16);\n    }\n    if (cdztail !== 0) {\n        finlen = finadd(finlen, scale(4, ab, cdztail, _12), _12);\n        finlen = finadd(finlen, scale(abtlen, abt, cdztail, _16), _16);\n    }\n\n    if (adxtail !== 0) {\n        if (bdytail !== 0) {\n            finlen = tailadd(finlen, adxtail, bdytail, cdz, cdztail);\n        }\n        if (cdytail !== 0) {\n            finlen = tailadd(finlen, -adxtail, cdytail, bdz, bdztail);\n        }\n    }\n    if (bdxtail !== 0) {\n        if (cdytail !== 0) {\n            finlen = tailadd(finlen, bdxtail, cdytail, adz, adztail);\n        }\n        if (adytail !== 0) {\n            finlen = tailadd(finlen, -bdxtail, adytail, cdz, cdztail);\n        }\n    }\n    if (cdxtail !== 0) {\n        if (adytail !== 0) {\n            finlen = tailadd(finlen, cdxtail, adytail, bdz, bdztail);\n        }\n        if (bdytail !== 0) {\n            finlen = tailadd(finlen, -cdxtail, bdytail, adz, adztail);\n        }\n    }\n\n    return fin[finlen - 1];\n}\n\nexport function orient3d(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    const bdxcdy = bdx * cdy;\n    const cdxbdy = cdx * bdy;\n\n    const cdxady = cdx * ady;\n    const adxcdy = adx * cdy;\n\n    const adxbdy = adx * bdy;\n    const bdxady = bdx * ady;\n\n    const det =\n        adz * (bdxcdy - cdxbdy) +\n        bdz * (cdxady - adxcdy) +\n        cdz * (adxbdy - bdxady);\n\n    const permanent =\n        (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * Math.abs(adz) +\n        (Math.abs(cdxady) + Math.abs(adxcdy)) * Math.abs(bdz) +\n        (Math.abs(adxbdy) + Math.abs(bdxady)) * Math.abs(cdz);\n\n    const errbound = o3derrboundA * permanent;\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n\n    return orient3dadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, permanent);\n}\n\nexport function orient3dfast(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    return adx * (bdy * cdz - bdz * cdy) +\n        bdx * (cdy * adz - cdz * ady) +\n        cdx * (ady * bdz - adz * bdy);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum, sum_three, scale} from './util.js';\n\nconst iccerrboundA = (10 + 96 * epsilon) * epsilon;\nconst iccerrboundB = (4 + 48 * epsilon) * epsilon;\nconst iccerrboundC = (44 + 576 * epsilon) * epsilon * epsilon;\n\nconst bc = vec(4);\nconst ca = vec(4);\nconst ab = vec(4);\nconst aa = vec(4);\nconst bb = vec(4);\nconst cc = vec(4);\nconst u = vec(4);\nconst v = vec(4);\nconst axtbc = vec(8);\nconst aytbc = vec(8);\nconst bxtca = vec(8);\nconst bytca = vec(8);\nconst cxtab = vec(8);\nconst cytab = vec(8);\nconst abt = vec(8);\nconst bct = vec(8);\nconst cat = vec(8);\nconst abtt = vec(4);\nconst bctt = vec(4);\nconst catt = vec(4);\n\nconst _8 = vec(8);\nconst _16 = vec(16);\nconst _16b = vec(16);\nconst _16c = vec(16);\nconst _32 = vec(32);\nconst _32b = vec(32);\nconst _48 = vec(48);\nconst _64 = vec(64);\n\nlet fin = vec(1152);\nlet fin2 = vec(1152);\n\nfunction finadd(finlen, a, alen) {\n    finlen = sum(finlen, fin, a, alen, fin2);\n    const tmp = fin; fin = fin2; fin2 = tmp;\n    return finlen;\n}\n\nfunction incircleadapt(ax, ay, bx, by, cx, cy, dx, dy, permanent) {\n    let finlen;\n    let adxtail, bdxtail, cdxtail, adytail, bdytail, cdytail;\n    let axtbclen, aytbclen, bxtcalen, bytcalen, cxtablen, cytablen;\n    let abtlen, bctlen, catlen;\n    let abttlen, bcttlen, cattlen;\n    let n1, n0;\n\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n\n    s1 = bdx * cdy;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cdx * bdy;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cdx * ady;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = adx * cdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ca[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ca[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ca[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ca[3] = u3;\n    s1 = adx * bdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bdx * ady;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n\n    finlen = sum(\n        sum(\n            sum(\n                scale(scale(4, bc, adx, _8), _8, adx, _16), _16,\n                scale(scale(4, bc, ady, _8), _8, ady, _16b), _16b, _32), _32,\n            sum(\n                scale(scale(4, ca, bdx, _8), _8, bdx, _16), _16,\n                scale(scale(4, ca, bdy, _8), _8, bdy, _16b), _16b, _32b), _32b, _64), _64,\n        sum(\n            scale(scale(4, ab, cdx, _8), _8, cdx, _16), _16,\n            scale(scale(4, ab, cdy, _8), _8, cdy, _16b), _16b, _32), _32, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = iccerrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - adx;\n    adxtail = ax - (adx + bvirt) + (bvirt - dx);\n    bvirt = ay - ady;\n    adytail = ay - (ady + bvirt) + (bvirt - dy);\n    bvirt = bx - bdx;\n    bdxtail = bx - (bdx + bvirt) + (bvirt - dx);\n    bvirt = by - bdy;\n    bdytail = by - (bdy + bvirt) + (bvirt - dy);\n    bvirt = cx - cdx;\n    cdxtail = cx - (cdx + bvirt) + (bvirt - dx);\n    bvirt = cy - cdy;\n    cdytail = cy - (cdy + bvirt) + (bvirt - dy);\n    if (adxtail === 0 && bdxtail === 0 && cdxtail === 0 && adytail === 0 && bdytail === 0 && cdytail === 0) {\n        return det;\n    }\n\n    errbound = iccerrboundC * permanent + resulterrbound * Math.abs(det);\n    det += ((adx * adx + ady * ady) * ((bdx * cdytail + cdy * bdxtail) - (bdy * cdxtail + cdx * bdytail)) +\n        2 * (adx * adxtail + ady * adytail) * (bdx * cdy - bdy * cdx)) +\n        ((bdx * bdx + bdy * bdy) * ((cdx * adytail + ady * cdxtail) - (cdy * adxtail + adx * cdytail)) +\n        2 * (bdx * bdxtail + bdy * bdytail) * (cdx * ady - cdy * adx)) +\n        ((cdx * cdx + cdy * cdy) * ((adx * bdytail + bdy * adxtail) - (ady * bdxtail + bdx * adytail)) +\n        2 * (cdx * cdxtail + cdy * cdytail) * (adx * bdy - ady * bdx));\n\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    if (bdxtail !== 0 || bdytail !== 0 || cdxtail !== 0 || cdytail !== 0) {\n        s1 = adx * adx;\n        c = splitter * adx;\n        ahi = c - (c - adx);\n        alo = adx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = ady * ady;\n        c = splitter * ady;\n        ahi = c - (c - ady);\n        alo = ady - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        aa[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        aa[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        aa[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        aa[3] = u3;\n    }\n    if (cdxtail !== 0 || cdytail !== 0 || adxtail !== 0 || adytail !== 0) {\n        s1 = bdx * bdx;\n        c = splitter * bdx;\n        ahi = c - (c - bdx);\n        alo = bdx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = bdy * bdy;\n        c = splitter * bdy;\n        ahi = c - (c - bdy);\n        alo = bdy - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        bb[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        bb[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        bb[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        bb[3] = u3;\n    }\n    if (adxtail !== 0 || adytail !== 0 || bdxtail !== 0 || bdytail !== 0) {\n        s1 = cdx * cdx;\n        c = splitter * cdx;\n        ahi = c - (c - cdx);\n        alo = cdx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = cdy * cdy;\n        c = splitter * cdy;\n        ahi = c - (c - cdy);\n        alo = cdy - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        cc[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        cc[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        cc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        cc[3] = u3;\n    }\n\n    if (adxtail !== 0) {\n        axtbclen = scale(4, bc, adxtail, axtbc);\n        finlen = finadd(finlen, sum_three(\n            scale(axtbclen, axtbc, 2 * adx, _16), _16,\n            scale(scale(4, cc, adxtail, _8), _8, bdy, _16b), _16b,\n            scale(scale(4, bb, adxtail, _8), _8, -cdy, _16c), _16c, _32, _48), _48);\n    }\n    if (adytail !== 0) {\n        aytbclen = scale(4, bc, adytail, aytbc);\n        finlen = finadd(finlen, sum_three(\n            scale(aytbclen, aytbc, 2 * ady, _16), _16,\n            scale(scale(4, bb, adytail, _8), _8, cdx, _16b), _16b,\n            scale(scale(4, cc, adytail, _8), _8, -bdx, _16c), _16c, _32, _48), _48);\n    }\n    if (bdxtail !== 0) {\n        bxtcalen = scale(4, ca, bdxtail, bxtca);\n        finlen = finadd(finlen, sum_three(\n            scale(bxtcalen, bxtca, 2 * bdx, _16), _16,\n            scale(scale(4, aa, bdxtail, _8), _8, cdy, _16b), _16b,\n            scale(scale(4, cc, bdxtail, _8), _8, -ady, _16c), _16c, _32, _48), _48);\n    }\n    if (bdytail !== 0) {\n        bytcalen = scale(4, ca, bdytail, bytca);\n        finlen = finadd(finlen, sum_three(\n            scale(bytcalen, bytca, 2 * bdy, _16), _16,\n            scale(scale(4, cc, bdytail, _8), _8, adx, _16b), _16b,\n            scale(scale(4, aa, bdytail, _8), _8, -cdx, _16c), _16c, _32, _48), _48);\n    }\n    if (cdxtail !== 0) {\n        cxtablen = scale(4, ab, cdxtail, cxtab);\n        finlen = finadd(finlen, sum_three(\n            scale(cxtablen, cxtab, 2 * cdx, _16), _16,\n            scale(scale(4, bb, cdxtail, _8), _8, ady, _16b), _16b,\n            scale(scale(4, aa, cdxtail, _8), _8, -bdy, _16c), _16c, _32, _48), _48);\n    }\n    if (cdytail !== 0) {\n        cytablen = scale(4, ab, cdytail, cytab);\n        finlen = finadd(finlen, sum_three(\n            scale(cytablen, cytab, 2 * cdy, _16), _16,\n            scale(scale(4, aa, cdytail, _8), _8, bdx, _16b), _16b,\n            scale(scale(4, bb, cdytail, _8), _8, -adx, _16c), _16c, _32, _48), _48);\n    }\n\n    if (adxtail !== 0 || adytail !== 0) {\n        if (bdxtail !== 0 || bdytail !== 0 || cdxtail !== 0 || cdytail !== 0) {\n            s1 = bdxtail * cdy;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * cdy;\n            bhi = c - (c - cdy);\n            blo = cdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdx * cdytail;\n            c = splitter * bdx;\n            ahi = c - (c - bdx);\n            alo = bdx - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            s1 = cdxtail * -bdy;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * -bdy;\n            bhi = c - (c - -bdy);\n            blo = -bdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdx * -bdytail;\n            c = splitter * cdx;\n            ahi = c - (c - cdx);\n            alo = cdx - ahi;\n            c = splitter * -bdytail;\n            bhi = c - (c - -bdytail);\n            blo = -bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            bctlen = sum(4, u, 4, v, bct);\n            s1 = bdxtail * cdytail;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdxtail * bdytail;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            bctt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            bctt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            bctt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            bctt[3] = u3;\n            bcttlen = 4;\n        } else {\n            bct[0] = 0;\n            bctlen = 1;\n            bctt[0] = 0;\n            bcttlen = 1;\n        }\n        if (adxtail !== 0) {\n            const len = scale(bctlen, bct, adxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(axtbclen, axtbc, adxtail, _16), _16,\n                scale(len, _16c, 2 * adx, _32), _32, _48), _48);\n\n            const len2 = scale(bcttlen, bctt, adxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * adx, _16), _16,\n                scale(len2, _8, adxtail, _16b), _16b,\n                scale(len, _16c, adxtail, _32), _32, _32b, _64), _64);\n\n            if (bdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, cc, adxtail, _8), _8, bdytail, _16), _16);\n            }\n            if (cdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, bb, -adxtail, _8), _8, cdytail, _16), _16);\n            }\n        }\n        if (adytail !== 0) {\n            const len = scale(bctlen, bct, adytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(aytbclen, aytbc, adytail, _16), _16,\n                scale(len, _16c, 2 * ady, _32), _32, _48), _48);\n\n            const len2 = scale(bcttlen, bctt, adytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * ady, _16), _16,\n                scale(len2, _8, adytail, _16b), _16b,\n                scale(len, _16c, adytail, _32), _32, _32b, _64), _64);\n        }\n    }\n    if (bdxtail !== 0 || bdytail !== 0) {\n        if (cdxtail !== 0 || cdytail !== 0 || adxtail !== 0 || adytail !== 0) {\n            s1 = cdxtail * ady;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * ady;\n            bhi = c - (c - ady);\n            blo = ady - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdx * adytail;\n            c = splitter * cdx;\n            ahi = c - (c - cdx);\n            alo = cdx - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            n1 = -cdy;\n            n0 = -cdytail;\n            s1 = adxtail * n1;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * n1;\n            bhi = c - (c - n1);\n            blo = n1 - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adx * n0;\n            c = splitter * adx;\n            ahi = c - (c - adx);\n            alo = adx - ahi;\n            c = splitter * n0;\n            bhi = c - (c - n0);\n            blo = n0 - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            catlen = sum(4, u, 4, v, cat);\n            s1 = cdxtail * adytail;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adxtail * cdytail;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            catt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            catt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            catt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            catt[3] = u3;\n            cattlen = 4;\n        } else {\n            cat[0] = 0;\n            catlen = 1;\n            catt[0] = 0;\n            cattlen = 1;\n        }\n        if (bdxtail !== 0) {\n            const len = scale(catlen, cat, bdxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(bxtcalen, bxtca, bdxtail, _16), _16,\n                scale(len, _16c, 2 * bdx, _32), _32, _48), _48);\n\n            const len2 = scale(cattlen, catt, bdxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * bdx, _16), _16,\n                scale(len2, _8, bdxtail, _16b), _16b,\n                scale(len, _16c, bdxtail, _32), _32, _32b, _64), _64);\n\n            if (cdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, aa, bdxtail, _8), _8, cdytail, _16), _16);\n            }\n            if (adytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, cc, -bdxtail, _8), _8, adytail, _16), _16);\n            }\n        }\n        if (bdytail !== 0) {\n            const len = scale(catlen, cat, bdytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(bytcalen, bytca, bdytail, _16), _16,\n                scale(len, _16c, 2 * bdy, _32), _32, _48), _48);\n\n            const len2 = scale(cattlen, catt, bdytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * bdy, _16), _16,\n                scale(len2, _8, bdytail, _16b), _16b,\n                scale(len, _16c, bdytail, _32), _32,  _32b, _64), _64);\n        }\n    }\n    if (cdxtail !== 0 || cdytail !== 0) {\n        if (adxtail !== 0 || adytail !== 0 || bdxtail !== 0 || bdytail !== 0) {\n            s1 = adxtail * bdy;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * bdy;\n            bhi = c - (c - bdy);\n            blo = bdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adx * bdytail;\n            c = splitter * adx;\n            ahi = c - (c - adx);\n            alo = adx - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            n1 = -ady;\n            n0 = -adytail;\n            s1 = bdxtail * n1;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * n1;\n            bhi = c - (c - n1);\n            blo = n1 - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdx * n0;\n            c = splitter * bdx;\n            ahi = c - (c - bdx);\n            alo = bdx - ahi;\n            c = splitter * n0;\n            bhi = c - (c - n0);\n            blo = n0 - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            abtlen = sum(4, u, 4, v, abt);\n            s1 = adxtail * bdytail;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdxtail * adytail;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            abtt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            abtt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            abtt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            abtt[3] = u3;\n            abttlen = 4;\n        } else {\n            abt[0] = 0;\n            abtlen = 1;\n            abtt[0] = 0;\n            abttlen = 1;\n        }\n        if (cdxtail !== 0) {\n            const len = scale(abtlen, abt, cdxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(cxtablen, cxtab, cdxtail, _16), _16,\n                scale(len, _16c, 2 * cdx, _32), _32, _48), _48);\n\n            const len2 = scale(abttlen, abtt, cdxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * cdx, _16), _16,\n                scale(len2, _8, cdxtail, _16b), _16b,\n                scale(len, _16c, cdxtail, _32), _32, _32b, _64), _64);\n\n            if (adytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, bb, cdxtail, _8), _8, adytail, _16), _16);\n            }\n            if (bdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, aa, -cdxtail, _8), _8, bdytail, _16), _16);\n            }\n        }\n        if (cdytail !== 0) {\n            const len = scale(abtlen, abt, cdytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(cytablen, cytab, cdytail, _16), _16,\n                scale(len, _16c, 2 * cdy, _32), _32, _48), _48);\n\n            const len2 = scale(abttlen, abtt, cdytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * cdy, _16), _16,\n                scale(len2, _8, cdytail, _16b), _16b,\n                scale(len, _16c, cdytail, _32), _32, _32b, _64), _64);\n        }\n    }\n\n    return fin[finlen - 1];\n}\n\nexport function incircle(ax, ay, bx, by, cx, cy, dx, dy) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n\n    const bdxcdy = bdx * cdy;\n    const cdxbdy = cdx * bdy;\n    const alift = adx * adx + ady * ady;\n\n    const cdxady = cdx * ady;\n    const adxcdy = adx * cdy;\n    const blift = bdx * bdx + bdy * bdy;\n\n    const adxbdy = adx * bdy;\n    const bdxady = bdx * ady;\n    const clift = cdx * cdx + cdy * cdy;\n\n    const det =\n        alift * (bdxcdy - cdxbdy) +\n        blift * (cdxady - adxcdy) +\n        clift * (adxbdy - bdxady);\n\n    const permanent =\n        (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * alift +\n        (Math.abs(cdxady) + Math.abs(adxcdy)) * blift +\n        (Math.abs(adxbdy) + Math.abs(bdxady)) * clift;\n\n    const errbound = iccerrboundA * permanent;\n\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n    return incircleadapt(ax, ay, bx, by, cx, cy, dx, dy, permanent);\n}\n\nexport function incirclefast(ax, ay, bx, by, cx, cy, dx, dy) {\n    const adx = ax - dx;\n    const ady = ay - dy;\n    const bdx = bx - dx;\n    const bdy = by - dy;\n    const cdx = cx - dx;\n    const cdy = cy - dy;\n\n    const abdet = adx * bdy - bdx * ady;\n    const bcdet = bdx * cdy - cdx * bdy;\n    const cadet = cdx * ady - adx * cdy;\n    const alift = adx * adx + ady * ady;\n    const blift = bdx * bdx + bdy * bdy;\n    const clift = cdx * cdx + cdy * cdy;\n\n    return alift * bcdet + blift * cadet + clift * abdet;\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum, sum_three, scale, negate} from './util.js';\n\nconst isperrboundA = (16 + 224 * epsilon) * epsilon;\nconst isperrboundB = (5 + 72 * epsilon) * epsilon;\nconst isperrboundC = (71 + 1408 * epsilon) * epsilon * epsilon;\n\nconst ab = vec(4);\nconst bc = vec(4);\nconst cd = vec(4);\nconst de = vec(4);\nconst ea = vec(4);\nconst ac = vec(4);\nconst bd = vec(4);\nconst ce = vec(4);\nconst da = vec(4);\nconst eb = vec(4);\n\nconst abc = vec(24);\nconst bcd = vec(24);\nconst cde = vec(24);\nconst dea = vec(24);\nconst eab = vec(24);\nconst abd = vec(24);\nconst bce = vec(24);\nconst cda = vec(24);\nconst deb = vec(24);\nconst eac = vec(24);\n\nconst adet = vec(1152);\nconst bdet = vec(1152);\nconst cdet = vec(1152);\nconst ddet = vec(1152);\nconst edet = vec(1152);\nconst abdet = vec(2304);\nconst cddet = vec(2304);\nconst cdedet = vec(3456);\nconst deter = vec(5760);\n\nconst _8 = vec(8);\nconst _8b = vec(8);\nconst _8c = vec(8);\nconst _16 = vec(16);\nconst _24 = vec(24);\nconst _48 = vec(48);\nconst _48b = vec(48);\nconst _96 = vec(96);\nconst _192 = vec(192);\nconst _384x = vec(384);\nconst _384y = vec(384);\nconst _384z = vec(384);\nconst _768 = vec(768);\n\nfunction sum_three_scale(a, b, c, az, bz, cz, out) {\n    return sum_three(\n        scale(4, a, az, _8), _8,\n        scale(4, b, bz, _8b), _8b,\n        scale(4, c, cz, _8c), _8c, _16, out);\n}\n\nfunction liftexact(alen, a, blen, b, clen, c, dlen, d, x, y, z, out) {\n    const len = sum(\n        sum(alen, a, blen, b, _48), _48,\n        negate(sum(clen, c, dlen, d, _48b), _48b), _48b, _96);\n\n    return sum_three(\n        scale(scale(len, _96, x, _192), _192, x, _384x), _384x,\n        scale(scale(len, _96, y, _192), _192, y, _384y), _384y,\n        scale(scale(len, _96, z, _192), _192, z, _384z), _384z, _768, out);\n}\n\nfunction insphereexact(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    s1 = ax * by;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bx * ay;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n    s1 = bx * cy;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cx * by;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cx * dy;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dx * cy;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    cd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    cd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    cd[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    cd[3] = u3;\n    s1 = dx * ey;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ex * dy;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    de[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    de[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    de[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    de[3] = u3;\n    s1 = ex * ay;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ax * ey;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ea[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ea[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ea[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ea[3] = u3;\n    s1 = ax * cy;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cx * ay;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ac[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ac[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ac[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ac[3] = u3;\n    s1 = bx * dy;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dx * by;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bd[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bd[3] = u3;\n    s1 = cx * ey;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ex * cy;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ce[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ce[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ce[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ce[3] = u3;\n    s1 = dx * ay;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ax * dy;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    da[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    da[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    da[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    da[3] = u3;\n    s1 = ex * by;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bx * ey;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    eb[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    eb[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    eb[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    eb[3] = u3;\n\n    const abclen = sum_three_scale(ab, bc, ac, cz, az, -bz, abc);\n    const bcdlen = sum_three_scale(bc, cd, bd, dz, bz, -cz, bcd);\n    const cdelen = sum_three_scale(cd, de, ce, ez, cz, -dz, cde);\n    const dealen = sum_three_scale(de, ea, da, az, dz, -ez, dea);\n    const eablen = sum_three_scale(ea, ab, eb, bz, ez, -az, eab);\n    const abdlen = sum_three_scale(ab, bd, da, dz, az, bz, abd);\n    const bcelen = sum_three_scale(bc, ce, eb, ez, bz, cz, bce);\n    const cdalen = sum_three_scale(cd, da, ac, az, cz, dz, cda);\n    const deblen = sum_three_scale(de, eb, bd, bz, dz, ez, deb);\n    const eaclen = sum_three_scale(ea, ac, ce, cz, ez, az, eac);\n\n    const deterlen = sum_three(\n        liftexact(cdelen, cde, bcelen, bce, deblen, deb, bcdlen, bcd, ax, ay, az, adet), adet,\n        liftexact(dealen, dea, cdalen, cda, eaclen, eac, cdelen, cde, bx, by, bz, bdet), bdet,\n        sum_three(\n            liftexact(eablen, eab, deblen, deb, abdlen, abd, dealen, dea, cx, cy, cz, cdet), cdet,\n            liftexact(abclen, abc, eaclen, eac, bcelen, bce, eablen, eab, dx, dy, dz, ddet), ddet,\n            liftexact(bcdlen, bcd, abdlen, abd, cdalen, cda, abclen, abc, ex, ey, ez, edet), edet, cddet, cdedet), cdedet, abdet, deter);\n\n    return deter[deterlen - 1];\n}\n\nconst xdet = vec(96);\nconst ydet = vec(96);\nconst zdet = vec(96);\nconst fin = vec(1152);\n\nfunction liftadapt(a, b, c, az, bz, cz, x, y, z, out) {\n    const len = sum_three_scale(a, b, c, az, bz, cz, _24);\n    return sum_three(\n        scale(scale(len, _24, x, _48), _48, x, xdet), xdet,\n        scale(scale(len, _24, y, _48), _48, y, ydet), ydet,\n        scale(scale(len, _24, z, _48), _48, z, zdet), zdet, _192, out);\n}\n\nfunction insphereadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez, permanent) {\n    let ab3, bc3, cd3, da3, ac3, bd3;\n\n    let aextail, bextail, cextail, dextail;\n    let aeytail, beytail, ceytail, deytail;\n    let aeztail, beztail, ceztail, deztail;\n\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0;\n\n    const aex = ax - ex;\n    const bex = bx - ex;\n    const cex = cx - ex;\n    const dex = dx - ex;\n    const aey = ay - ey;\n    const bey = by - ey;\n    const cey = cy - ey;\n    const dey = dy - ey;\n    const aez = az - ez;\n    const bez = bz - ez;\n    const cez = cz - ez;\n    const dez = dz - ez;\n\n    s1 = aex * bey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bex * aey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    ab3 = _j + _i;\n    bvirt = ab3 - _j;\n    ab[2] = _j - (ab3 - bvirt) + (_i - bvirt);\n    ab[3] = ab3;\n    s1 = bex * cey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cex * bey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    bc3 = _j + _i;\n    bvirt = bc3 - _j;\n    bc[2] = _j - (bc3 - bvirt) + (_i - bvirt);\n    bc[3] = bc3;\n    s1 = cex * dey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dex * cey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    cd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    cd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    cd3 = _j + _i;\n    bvirt = cd3 - _j;\n    cd[2] = _j - (cd3 - bvirt) + (_i - bvirt);\n    cd[3] = cd3;\n    s1 = dex * aey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = aex * dey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    da[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    da[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    da3 = _j + _i;\n    bvirt = da3 - _j;\n    da[2] = _j - (da3 - bvirt) + (_i - bvirt);\n    da[3] = da3;\n    s1 = aex * cey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cex * aey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ac[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ac[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    ac3 = _j + _i;\n    bvirt = ac3 - _j;\n    ac[2] = _j - (ac3 - bvirt) + (_i - bvirt);\n    ac[3] = ac3;\n    s1 = bex * dey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dex * bey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    bd3 = _j + _i;\n    bvirt = bd3 - _j;\n    bd[2] = _j - (bd3 - bvirt) + (_i - bvirt);\n    bd[3] = bd3;\n\n    const finlen = sum(\n        sum(\n            negate(liftadapt(bc, cd, bd, dez, bez, -cez, aex, aey, aez, adet), adet), adet,\n            liftadapt(cd, da, ac, aez, cez, dez, bex, bey, bez, bdet), bdet, abdet), abdet,\n        sum(\n            negate(liftadapt(da, ab, bd, bez, dez, aez, cex, cey, cez, cdet), cdet), cdet,\n            liftadapt(ab, bc, ac, cez, aez, -bez, dex, dey, dez, ddet), ddet, cddet), cddet, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = isperrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - aex;\n    aextail = ax - (aex + bvirt) + (bvirt - ex);\n    bvirt = ay - aey;\n    aeytail = ay - (aey + bvirt) + (bvirt - ey);\n    bvirt = az - aez;\n    aeztail = az - (aez + bvirt) + (bvirt - ez);\n    bvirt = bx - bex;\n    bextail = bx - (bex + bvirt) + (bvirt - ex);\n    bvirt = by - bey;\n    beytail = by - (bey + bvirt) + (bvirt - ey);\n    bvirt = bz - bez;\n    beztail = bz - (bez + bvirt) + (bvirt - ez);\n    bvirt = cx - cex;\n    cextail = cx - (cex + bvirt) + (bvirt - ex);\n    bvirt = cy - cey;\n    ceytail = cy - (cey + bvirt) + (bvirt - ey);\n    bvirt = cz - cez;\n    ceztail = cz - (cez + bvirt) + (bvirt - ez);\n    bvirt = dx - dex;\n    dextail = dx - (dex + bvirt) + (bvirt - ex);\n    bvirt = dy - dey;\n    deytail = dy - (dey + bvirt) + (bvirt - ey);\n    bvirt = dz - dez;\n    deztail = dz - (dez + bvirt) + (bvirt - ez);\n    if (aextail === 0 && aeytail === 0 && aeztail === 0 &&\n        bextail === 0 && beytail === 0 && beztail === 0 &&\n        cextail === 0 && ceytail === 0 && ceztail === 0 &&\n        dextail === 0 && deytail === 0 && deztail === 0) {\n        return det;\n    }\n\n    errbound = isperrboundC * permanent + resulterrbound * Math.abs(det);\n\n    const abeps = (aex * beytail + bey * aextail) - (aey * bextail + bex * aeytail);\n    const bceps = (bex * ceytail + cey * bextail) - (bey * cextail + cex * beytail);\n    const cdeps = (cex * deytail + dey * cextail) - (cey * dextail + dex * ceytail);\n    const daeps = (dex * aeytail + aey * dextail) - (dey * aextail + aex * deytail);\n    const aceps = (aex * ceytail + cey * aextail) - (aey * cextail + cex * aeytail);\n    const bdeps = (bex * deytail + dey * bextail) - (bey * dextail + dex * beytail);\n    det +=\n        (((bex * bex + bey * bey + bez * bez) * ((cez * daeps + dez * aceps + aez * cdeps) +\n        (ceztail * da3 + deztail * ac3 + aeztail * cd3)) + (dex * dex + dey * dey + dez * dez) *\n        ((aez * bceps - bez * aceps + cez * abeps) + (aeztail * bc3 - beztail * ac3 + ceztail * ab3))) -\n        ((aex * aex + aey * aey + aez * aez) * ((bez * cdeps - cez * bdeps + dez * bceps) +\n        (beztail * cd3 - ceztail * bd3 + deztail * bc3)) + (cex * cex + cey * cey + cez * cez) *\n        ((dez * abeps + aez * bdeps + bez * daeps) + (deztail * ab3 + aeztail * bd3 + beztail * da3)))) +\n        2 * (((bex * bextail + bey * beytail + bez * beztail) * (cez * da3 + dez * ac3 + aez * cd3) +\n        (dex * dextail + dey * deytail + dez * deztail) * (aez * bc3 - bez * ac3 + cez * ab3)) -\n        ((aex * aextail + aey * aeytail + aez * aeztail) * (bez * cd3 - cez * bd3 + dez * bc3) +\n        (cex * cextail + cey * ceytail + cez * ceztail) * (dez * ab3 + aez * bd3 + bez * da3)));\n\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    return insphereexact(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez);\n}\n\nexport function insphere(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez) {\n    const aex = ax - ex;\n    const bex = bx - ex;\n    const cex = cx - ex;\n    const dex = dx - ex;\n    const aey = ay - ey;\n    const bey = by - ey;\n    const cey = cy - ey;\n    const dey = dy - ey;\n    const aez = az - ez;\n    const bez = bz - ez;\n    const cez = cz - ez;\n    const dez = dz - ez;\n\n    const aexbey = aex * bey;\n    const bexaey = bex * aey;\n    const ab = aexbey - bexaey;\n    const bexcey = bex * cey;\n    const cexbey = cex * bey;\n    const bc = bexcey - cexbey;\n    const cexdey = cex * dey;\n    const dexcey = dex * cey;\n    const cd = cexdey - dexcey;\n    const dexaey = dex * aey;\n    const aexdey = aex * dey;\n    const da = dexaey - aexdey;\n    const aexcey = aex * cey;\n    const cexaey = cex * aey;\n    const ac = aexcey - cexaey;\n    const bexdey = bex * dey;\n    const dexbey = dex * bey;\n    const bd = bexdey - dexbey;\n\n    const abc = aez * bc - bez * ac + cez * ab;\n    const bcd = bez * cd - cez * bd + dez * bc;\n    const cda = cez * da + dez * ac + aez * cd;\n    const dab = dez * ab + aez * bd + bez * da;\n\n    const alift = aex * aex + aey * aey + aez * aez;\n    const blift = bex * bex + bey * bey + bez * bez;\n    const clift = cex * cex + cey * cey + cez * cez;\n    const dlift = dex * dex + dey * dey + dez * dez;\n\n    const det = (clift * dab - dlift * abc) + (alift * bcd - blift * cda);\n\n    const aezplus = Math.abs(aez);\n    const bezplus = Math.abs(bez);\n    const cezplus = Math.abs(cez);\n    const dezplus = Math.abs(dez);\n    const aexbeyplus = Math.abs(aexbey);\n    const bexaeyplus = Math.abs(bexaey);\n    const bexceyplus = Math.abs(bexcey);\n    const cexbeyplus = Math.abs(cexbey);\n    const cexdeyplus = Math.abs(cexdey);\n    const dexceyplus = Math.abs(dexcey);\n    const dexaeyplus = Math.abs(dexaey);\n    const aexdeyplus = Math.abs(aexdey);\n    const aexceyplus = Math.abs(aexcey);\n    const cexaeyplus = Math.abs(cexaey);\n    const bexdeyplus = Math.abs(bexdey);\n    const dexbeyplus = Math.abs(dexbey);\n    const permanent =\n        ((cexdeyplus + dexceyplus) * bezplus + (dexbeyplus + bexdeyplus) * cezplus + (bexceyplus + cexbeyplus) * dezplus) * alift +\n        ((dexaeyplus + aexdeyplus) * cezplus + (aexceyplus + cexaeyplus) * dezplus + (cexdeyplus + dexceyplus) * aezplus) * blift +\n        ((aexbeyplus + bexaeyplus) * dezplus + (bexdeyplus + dexbeyplus) * aezplus + (dexaeyplus + aexdeyplus) * bezplus) * clift +\n        ((bexceyplus + cexbeyplus) * aezplus + (cexaeyplus + aexceyplus) * bezplus + (aexbeyplus + bexaeyplus) * cezplus) * dlift;\n\n    const errbound = isperrboundA * permanent;\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n    return -insphereadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez, permanent);\n}\n\nexport function inspherefast(pax, pay, paz, pbx, pby, pbz, pcx, pcy, pcz, pdx, pdy, pdz, pex, pey, pez) {\n    const aex = pax - pex;\n    const bex = pbx - pex;\n    const cex = pcx - pex;\n    const dex = pdx - pex;\n    const aey = pay - pey;\n    const bey = pby - pey;\n    const cey = pcy - pey;\n    const dey = pdy - pey;\n    const aez = paz - pez;\n    const bez = pbz - pez;\n    const cez = pcz - pez;\n    const dez = pdz - pez;\n\n    const ab = aex * bey - bex * aey;\n    const bc = bex * cey - cex * bey;\n    const cd = cex * dey - dex * cey;\n    const da = dex * aey - aex * dey;\n    const ac = aex * cey - cex * aey;\n    const bd = bex * dey - dex * bey;\n\n    const abc = aez * bc - bez * ac + cez * ab;\n    const bcd = bez * cd - cez * bd + dez * bc;\n    const cda = cez * da + dez * ac + aez * cd;\n    const dab = dez * ab + aez * bd + bez * da;\n\n    const alift = aex * aex + aey * aey + aez * aez;\n    const blift = bex * bex + bey * bey + bez * bez;\n    const clift = cex * cex + cey * cey + cez * cez;\n    const dlift = dex * dex + dey * dey + dez * dez;\n\n    return (clift * dab - dlift * abc) + (alift * bcd - blift * cda);\n}\n","\nconst EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nimport {orient2d} from 'robust-predicates';\n\nexport default class Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let minDist = Infinity;\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        minDist = Infinity;\n\n        // find the point closest to the seed\n        for (let i = 0; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                if (this._dists[id] > d0) {\n                    hull[j++] = id;\n                    d0 = this._dists[id];\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient2d(i0x, i0y, i1x, i1y, i2x, i2y) < 0) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], orient2d(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1]) >= 0) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient2d(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1]) < 0) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient2d(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1]) < 0) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n","export const epsilon = 1.1102230246251565e-16;\nexport const splitter = 134217729;\nexport const resulterrbound = (3 + 8 * epsilon) * epsilon;\n\n// fast_expansion_sum_zeroelim routine from oritinal code\nexport function sum(elen, e, flen, f, h) {\n    let Q, Qnew, hh, bvirt;\n    let enow = e[0];\n    let fnow = f[0];\n    let eindex = 0;\n    let findex = 0;\n    if ((fnow > enow) === (fnow > -enow)) {\n        Q = enow;\n        enow = e[++eindex];\n    } else {\n        Q = fnow;\n        fnow = f[++findex];\n    }\n    let hindex = 0;\n    if (eindex < elen && findex < flen) {\n        if ((fnow > enow) === (fnow > -enow)) {\n            Qnew = enow + Q;\n            hh = Q - (Qnew - enow);\n            enow = e[++eindex];\n        } else {\n            Qnew = fnow + Q;\n            hh = Q - (Qnew - fnow);\n            fnow = f[++findex];\n        }\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        while (eindex < elen && findex < flen) {\n            if ((fnow > enow) === (fnow > -enow)) {\n                Qnew = Q + enow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (enow - bvirt);\n                enow = e[++eindex];\n            } else {\n                Qnew = Q + fnow;\n                bvirt = Qnew - Q;\n                hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n                fnow = f[++findex];\n            }\n            Q = Qnew;\n            if (hh !== 0) {\n                h[hindex++] = hh;\n            }\n        }\n    }\n    while (eindex < elen) {\n        Qnew = Q + enow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (enow - bvirt);\n        enow = e[++eindex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    while (findex < flen) {\n        Qnew = Q + fnow;\n        bvirt = Qnew - Q;\n        hh = Q - (Qnew - bvirt) + (fnow - bvirt);\n        fnow = f[++findex];\n        Q = Qnew;\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function sum_three(alen, a, blen, b, clen, c, tmp, out) {\n    return sum(sum(alen, a, blen, b, tmp), tmp, clen, c, out);\n}\n\n// scale_expansion_zeroelim routine from oritinal code\nexport function scale(elen, e, b, h) {\n    let Q, sum, hh, product1, product0;\n    let bvirt, c, ahi, alo, bhi, blo;\n\n    c = splitter * b;\n    bhi = c - (c - b);\n    blo = b - bhi;\n    let enow = e[0];\n    Q = enow * b;\n    c = splitter * enow;\n    ahi = c - (c - enow);\n    alo = enow - ahi;\n    hh = alo * blo - (Q - ahi * bhi - alo * bhi - ahi * blo);\n    let hindex = 0;\n    if (hh !== 0) {\n        h[hindex++] = hh;\n    }\n    for (let i = 1; i < elen; i++) {\n        enow = e[i];\n        product1 = enow * b;\n        c = splitter * enow;\n        ahi = c - (c - enow);\n        alo = enow - ahi;\n        product0 = alo * blo - (product1 - ahi * bhi - alo * bhi - ahi * blo);\n        sum = Q + product0;\n        bvirt = sum - Q;\n        hh = Q - (sum - bvirt) + (product0 - bvirt);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n        Q = product1 + sum;\n        hh = sum - (Q - product1);\n        if (hh !== 0) {\n            h[hindex++] = hh;\n        }\n    }\n    if (Q !== 0 || hindex === 0) {\n        h[hindex++] = Q;\n    }\n    return hindex;\n}\n\nexport function negate(elen, e) {\n    for (let i = 0; i < elen; i++) e[i] = -e[i];\n    return elen;\n}\n\nexport function estimate(elen, e) {\n    let Q = e[0];\n    for (let i = 1; i < elen; i++) Q += e[i];\n    return Q;\n}\n\nexport function vec(n) {\n    return new Float64Array(n);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum} from './util.js';\n\nconst ccwerrboundA = (3 + 16 * epsilon) * epsilon;\nconst ccwerrboundB = (2 + 12 * epsilon) * epsilon;\nconst ccwerrboundC = (9 + 64 * epsilon) * epsilon * epsilon;\n\nconst B = vec(4);\nconst C1 = vec(8);\nconst C2 = vec(12);\nconst D = vec(16);\nconst u = vec(4);\n\nfunction orient2dadapt(ax, ay, bx, by, cx, cy, detsum) {\n    let acxtail, acytail, bcxtail, bcytail;\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    const acx = ax - cx;\n    const bcx = bx - cx;\n    const acy = ay - cy;\n    const bcy = by - cy;\n\n    s1 = acx * bcy;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcx;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    B[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    B[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    B[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    B[3] = u3;\n\n    let det = estimate(4, B);\n    let errbound = ccwerrboundB * detsum;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - acx;\n    acxtail = ax - (acx + bvirt) + (bvirt - cx);\n    bvirt = bx - bcx;\n    bcxtail = bx - (bcx + bvirt) + (bvirt - cx);\n    bvirt = ay - acy;\n    acytail = ay - (acy + bvirt) + (bvirt - cy);\n    bvirt = by - bcy;\n    bcytail = by - (bcy + bvirt) + (bvirt - cy);\n\n    if (acxtail === 0 && acytail === 0 && bcxtail === 0 && bcytail === 0) {\n        return det;\n    }\n\n    errbound = ccwerrboundC * detsum + resulterrbound * Math.abs(det);\n    det += (acx * bcytail + bcy * acxtail) - (acy * bcxtail + bcx * acytail);\n    if (det >= errbound || -det >= errbound) return det;\n\n    s1 = acxtail * bcy;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcy;\n    bhi = c - (c - bcy);\n    blo = bcy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcx;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcx;\n    bhi = c - (c - bcx);\n    blo = bcx - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C1len = sum(4, B, 4, u, C1);\n\n    s1 = acx * bcytail;\n    c = splitter * acx;\n    ahi = c - (c - acx);\n    alo = acx - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acy * bcxtail;\n    c = splitter * acy;\n    ahi = c - (c - acy);\n    alo = acy - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const C2len = sum(C1len, C1, 4, u, C2);\n\n    s1 = acxtail * bcytail;\n    c = splitter * acxtail;\n    ahi = c - (c - acxtail);\n    alo = acxtail - ahi;\n    c = splitter * bcytail;\n    bhi = c - (c - bcytail);\n    blo = bcytail - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = acytail * bcxtail;\n    c = splitter * acytail;\n    ahi = c - (c - acytail);\n    alo = acytail - ahi;\n    c = splitter * bcxtail;\n    bhi = c - (c - bcxtail);\n    blo = bcxtail - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    u[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    u[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    u[3] = u3;\n    const Dlen = sum(C2len, C2, 4, u, D);\n\n    return D[Dlen - 1];\n}\n\nexport function orient2d(ax, ay, bx, by, cx, cy) {\n    const detleft = (ay - cy) * (bx - cx);\n    const detright = (ax - cx) * (by - cy);\n    const det = detleft - detright;\n\n    if (detleft === 0 || detright === 0 || (detleft > 0) !== (detright > 0)) return det;\n\n    const detsum = Math.abs(detleft + detright);\n    if (Math.abs(det) >= ccwerrboundA * detsum) return det;\n\n    return -orient2dadapt(ax, ay, bx, by, cx, cy, detsum);\n}\n\nexport function orient2dfast(ax, ay, bx, by, cx, cy) {\n    return (ay - cy) * (bx - cx) - (ax - cx) * (by - cy);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum, scale} from './util.js';\n\nconst o3derrboundA = (7 + 56 * epsilon) * epsilon;\nconst o3derrboundB = (3 + 28 * epsilon) * epsilon;\nconst o3derrboundC = (26 + 288 * epsilon) * epsilon * epsilon;\n\nconst bc = vec(4);\nconst ca = vec(4);\nconst ab = vec(4);\nconst at_b = vec(4);\nconst at_c = vec(4);\nconst bt_c = vec(4);\nconst bt_a = vec(4);\nconst ct_a = vec(4);\nconst ct_b = vec(4);\nconst bct = vec(8);\nconst cat = vec(8);\nconst abt = vec(8);\nconst u = vec(4);\n\nconst _8 = vec(8);\nconst _8b = vec(8);\nconst _16 = vec(8);\nconst _12 = vec(12);\n\nlet fin = vec(192);\nlet fin2 = vec(192);\n\nfunction finadd(finlen, alen, a) {\n    finlen = sum(finlen, fin, alen, a, fin2);\n    const tmp = fin; fin = fin2; fin2 = tmp;\n    return finlen;\n}\n\nfunction tailinit(xtail, ytail, ax, ay, bx, by, a, b) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, t1, t0, u3, negate;\n    if (xtail === 0) {\n        if (ytail === 0) {\n            a[0] = 0;\n            b[0] = 0;\n            return 1;\n        } else {\n            negate = -ytail;\n            s1 = negate * ax;\n            c = splitter * negate;\n            ahi = c - (c - negate);\n            alo = negate - ahi;\n            c = splitter * ax;\n            bhi = c - (c - ax);\n            blo = ax - bhi;\n            a[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            a[1] = s1;\n            s1 = ytail * bx;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * bx;\n            bhi = c - (c - bx);\n            blo = bx - bhi;\n            b[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            b[1] = s1;\n            return 2;\n        }\n    } else {\n        if (ytail === 0) {\n            s1 = xtail * ay;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * ay;\n            bhi = c - (c - ay);\n            blo = ay - bhi;\n            a[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            a[1] = s1;\n            negate = -xtail;\n            s1 = negate * by;\n            c = splitter * negate;\n            ahi = c - (c - negate);\n            alo = negate - ahi;\n            c = splitter * by;\n            bhi = c - (c - by);\n            blo = by - bhi;\n            b[0] = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            b[1] = s1;\n            return 2;\n        } else {\n            s1 = xtail * ay;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * ay;\n            bhi = c - (c - ay);\n            blo = ay - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = ytail * ax;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * ax;\n            bhi = c - (c - ax);\n            blo = ax - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            a[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            a[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            a[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            a[3] = u3;\n            s1 = ytail * bx;\n            c = splitter * ytail;\n            ahi = c - (c - ytail);\n            alo = ytail - ahi;\n            c = splitter * bx;\n            bhi = c - (c - bx);\n            blo = bx - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = xtail * by;\n            c = splitter * xtail;\n            ahi = c - (c - xtail);\n            alo = xtail - ahi;\n            c = splitter * by;\n            bhi = c - (c - by);\n            blo = by - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            b[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            b[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            b[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            b[3] = u3;\n            return 4;\n        }\n    }\n}\n\nfunction tailadd(finlen, a, b, k, z) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, u3;\n    s1 = a * b;\n    c = splitter * a;\n    ahi = c - (c - a);\n    alo = a - ahi;\n    c = splitter * b;\n    bhi = c - (c - b);\n    blo = b - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    c = splitter * k;\n    bhi = c - (c - k);\n    blo = k - bhi;\n    _i = s0 * k;\n    c = splitter * s0;\n    ahi = c - (c - s0);\n    alo = s0 - ahi;\n    u[0] = alo * blo - (_i - ahi * bhi - alo * bhi - ahi * blo);\n    _j = s1 * k;\n    c = splitter * s1;\n    ahi = c - (c - s1);\n    alo = s1 - ahi;\n    _0 = alo * blo - (_j - ahi * bhi - alo * bhi - ahi * blo);\n    _k = _i + _0;\n    bvirt = _k - _i;\n    u[1] = _i - (_k - bvirt) + (_0 - bvirt);\n    u3 = _j + _k;\n    u[2] = _k - (u3 - _j);\n    u[3] = u3;\n    finlen = finadd(finlen, 4, u);\n    if (z !== 0) {\n        c = splitter * z;\n        bhi = c - (c - z);\n        blo = z - bhi;\n        _i = s0 * z;\n        c = splitter * s0;\n        ahi = c - (c - s0);\n        alo = s0 - ahi;\n        u[0] = alo * blo - (_i - ahi * bhi - alo * bhi - ahi * blo);\n        _j = s1 * z;\n        c = splitter * s1;\n        ahi = c - (c - s1);\n        alo = s1 - ahi;\n        _0 = alo * blo - (_j - ahi * bhi - alo * bhi - ahi * blo);\n        _k = _i + _0;\n        bvirt = _k - _i;\n        u[1] = _i - (_k - bvirt) + (_0 - bvirt);\n        u3 = _j + _k;\n        u[2] = _k - (u3 - _j);\n        u[3] = u3;\n        finlen = finadd(finlen, 4, u);\n    }\n    return finlen;\n}\n\nfunction orient3dadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, permanent) {\n    let finlen;\n    let adxtail, bdxtail, cdxtail;\n    let adytail, bdytail, cdytail;\n    let adztail, bdztail, cdztail;\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _k, _0, s1, s0, t1, t0, u3;\n\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    s1 = bdx * cdy;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cdx * bdy;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cdx * ady;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = adx * cdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ca[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ca[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ca[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ca[3] = u3;\n    s1 = adx * bdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bdx * ady;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n\n    finlen = sum(\n        sum(\n            scale(4, bc, adz, _8), _8,\n            scale(4, ca, bdz, _8b), _8b, _16), _16,\n        scale(4, ab, cdz, _8), _8, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = o3derrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - adx;\n    adxtail = ax - (adx + bvirt) + (bvirt - dx);\n    bvirt = bx - bdx;\n    bdxtail = bx - (bdx + bvirt) + (bvirt - dx);\n    bvirt = cx - cdx;\n    cdxtail = cx - (cdx + bvirt) + (bvirt - dx);\n    bvirt = ay - ady;\n    adytail = ay - (ady + bvirt) + (bvirt - dy);\n    bvirt = by - bdy;\n    bdytail = by - (bdy + bvirt) + (bvirt - dy);\n    bvirt = cy - cdy;\n    cdytail = cy - (cdy + bvirt) + (bvirt - dy);\n    bvirt = az - adz;\n    adztail = az - (adz + bvirt) + (bvirt - dz);\n    bvirt = bz - bdz;\n    bdztail = bz - (bdz + bvirt) + (bvirt - dz);\n    bvirt = cz - cdz;\n    cdztail = cz - (cdz + bvirt) + (bvirt - dz);\n\n    if (adxtail === 0 && bdxtail === 0 && cdxtail === 0 &&\n        adytail === 0 && bdytail === 0 && cdytail === 0 &&\n        adztail === 0 && bdztail === 0 && cdztail === 0) {\n        return det;\n    }\n\n    errbound = o3derrboundC * permanent + resulterrbound * Math.abs(det);\n    det +=\n        adz * (bdx * cdytail + cdy * bdxtail - (bdy * cdxtail + cdx * bdytail)) + adztail * (bdx * cdy - bdy * cdx) +\n        bdz * (cdx * adytail + ady * cdxtail - (cdy * adxtail + adx * cdytail)) + bdztail * (cdx * ady - cdy * adx) +\n        cdz * (adx * bdytail + bdy * adxtail - (ady * bdxtail + bdx * adytail)) + cdztail * (adx * bdy - ady * bdx);\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    const at_len = tailinit(adxtail, adytail, bdx, bdy, cdx, cdy, at_b, at_c);\n    const bt_len = tailinit(bdxtail, bdytail, cdx, cdy, adx, ady, bt_c, bt_a);\n    const ct_len = tailinit(cdxtail, cdytail, adx, ady, bdx, bdy, ct_a, ct_b);\n\n    const bctlen = sum(bt_len, bt_c, ct_len, ct_b, bct);\n    finlen = finadd(finlen, scale(bctlen, bct, adz, _16), _16);\n\n    const catlen = sum(ct_len, ct_a, at_len, at_c, cat);\n    finlen = finadd(finlen, scale(catlen, cat, bdz, _16), _16);\n\n    const abtlen = sum(at_len, at_b, bt_len, bt_a, abt);\n    finlen = finadd(finlen, scale(abtlen, abt, cdz, _16), _16);\n\n    if (adztail !== 0) {\n        finlen = finadd(finlen, scale(4, bc, adztail, _12), _12);\n        finlen = finadd(finlen, scale(bctlen, bct, adztail, _16), _16);\n    }\n    if (bdztail !== 0) {\n        finlen = finadd(finlen, scale(4, ca, bdztail, _12), _12);\n        finlen = finadd(finlen, scale(catlen, cat, bdztail, _16), _16);\n    }\n    if (cdztail !== 0) {\n        finlen = finadd(finlen, scale(4, ab, cdztail, _12), _12);\n        finlen = finadd(finlen, scale(abtlen, abt, cdztail, _16), _16);\n    }\n\n    if (adxtail !== 0) {\n        if (bdytail !== 0) {\n            finlen = tailadd(finlen, adxtail, bdytail, cdz, cdztail);\n        }\n        if (cdytail !== 0) {\n            finlen = tailadd(finlen, -adxtail, cdytail, bdz, bdztail);\n        }\n    }\n    if (bdxtail !== 0) {\n        if (cdytail !== 0) {\n            finlen = tailadd(finlen, bdxtail, cdytail, adz, adztail);\n        }\n        if (adytail !== 0) {\n            finlen = tailadd(finlen, -bdxtail, adytail, cdz, cdztail);\n        }\n    }\n    if (cdxtail !== 0) {\n        if (adytail !== 0) {\n            finlen = tailadd(finlen, cdxtail, adytail, bdz, bdztail);\n        }\n        if (bdytail !== 0) {\n            finlen = tailadd(finlen, -cdxtail, bdytail, adz, adztail);\n        }\n    }\n\n    return fin[finlen - 1];\n}\n\nexport function orient3d(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    const bdxcdy = bdx * cdy;\n    const cdxbdy = cdx * bdy;\n\n    const cdxady = cdx * ady;\n    const adxcdy = adx * cdy;\n\n    const adxbdy = adx * bdy;\n    const bdxady = bdx * ady;\n\n    const det =\n        adz * (bdxcdy - cdxbdy) +\n        bdz * (cdxady - adxcdy) +\n        cdz * (adxbdy - bdxady);\n\n    const permanent =\n        (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * Math.abs(adz) +\n        (Math.abs(cdxady) + Math.abs(adxcdy)) * Math.abs(bdz) +\n        (Math.abs(adxbdy) + Math.abs(bdxady)) * Math.abs(cdz);\n\n    const errbound = o3derrboundA * permanent;\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n\n    return orient3dadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, permanent);\n}\n\nexport function orient3dfast(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n    const adz = az - dz;\n    const bdz = bz - dz;\n    const cdz = cz - dz;\n\n    return adx * (bdy * cdz - bdz * cdy) +\n        bdx * (cdy * adz - cdz * ady) +\n        cdx * (ady * bdz - adz * bdy);\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum, sum_three, scale} from './util.js';\n\nconst iccerrboundA = (10 + 96 * epsilon) * epsilon;\nconst iccerrboundB = (4 + 48 * epsilon) * epsilon;\nconst iccerrboundC = (44 + 576 * epsilon) * epsilon * epsilon;\n\nconst bc = vec(4);\nconst ca = vec(4);\nconst ab = vec(4);\nconst aa = vec(4);\nconst bb = vec(4);\nconst cc = vec(4);\nconst u = vec(4);\nconst v = vec(4);\nconst axtbc = vec(8);\nconst aytbc = vec(8);\nconst bxtca = vec(8);\nconst bytca = vec(8);\nconst cxtab = vec(8);\nconst cytab = vec(8);\nconst abt = vec(8);\nconst bct = vec(8);\nconst cat = vec(8);\nconst abtt = vec(4);\nconst bctt = vec(4);\nconst catt = vec(4);\n\nconst _8 = vec(8);\nconst _16 = vec(16);\nconst _16b = vec(16);\nconst _16c = vec(16);\nconst _32 = vec(32);\nconst _32b = vec(32);\nconst _48 = vec(48);\nconst _64 = vec(64);\n\nlet fin = vec(1152);\nlet fin2 = vec(1152);\n\nfunction finadd(finlen, a, alen) {\n    finlen = sum(finlen, fin, a, alen, fin2);\n    const tmp = fin; fin = fin2; fin2 = tmp;\n    return finlen;\n}\n\nfunction incircleadapt(ax, ay, bx, by, cx, cy, dx, dy, permanent) {\n    let finlen;\n    let adxtail, bdxtail, cdxtail, adytail, bdytail, cdytail;\n    let axtbclen, aytbclen, bxtcalen, bytcalen, cxtablen, cytablen;\n    let abtlen, bctlen, catlen;\n    let abttlen, bcttlen, cattlen;\n    let n1, n0;\n\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n\n    s1 = bdx * cdy;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cdx * bdy;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cdx * ady;\n    c = splitter * cdx;\n    ahi = c - (c - cdx);\n    alo = cdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = adx * cdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * cdy;\n    bhi = c - (c - cdy);\n    blo = cdy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ca[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ca[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ca[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ca[3] = u3;\n    s1 = adx * bdy;\n    c = splitter * adx;\n    ahi = c - (c - adx);\n    alo = adx - ahi;\n    c = splitter * bdy;\n    bhi = c - (c - bdy);\n    blo = bdy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bdx * ady;\n    c = splitter * bdx;\n    ahi = c - (c - bdx);\n    alo = bdx - ahi;\n    c = splitter * ady;\n    bhi = c - (c - ady);\n    blo = ady - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n\n    finlen = sum(\n        sum(\n            sum(\n                scale(scale(4, bc, adx, _8), _8, adx, _16), _16,\n                scale(scale(4, bc, ady, _8), _8, ady, _16b), _16b, _32), _32,\n            sum(\n                scale(scale(4, ca, bdx, _8), _8, bdx, _16), _16,\n                scale(scale(4, ca, bdy, _8), _8, bdy, _16b), _16b, _32b), _32b, _64), _64,\n        sum(\n            scale(scale(4, ab, cdx, _8), _8, cdx, _16), _16,\n            scale(scale(4, ab, cdy, _8), _8, cdy, _16b), _16b, _32), _32, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = iccerrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - adx;\n    adxtail = ax - (adx + bvirt) + (bvirt - dx);\n    bvirt = ay - ady;\n    adytail = ay - (ady + bvirt) + (bvirt - dy);\n    bvirt = bx - bdx;\n    bdxtail = bx - (bdx + bvirt) + (bvirt - dx);\n    bvirt = by - bdy;\n    bdytail = by - (bdy + bvirt) + (bvirt - dy);\n    bvirt = cx - cdx;\n    cdxtail = cx - (cdx + bvirt) + (bvirt - dx);\n    bvirt = cy - cdy;\n    cdytail = cy - (cdy + bvirt) + (bvirt - dy);\n    if (adxtail === 0 && bdxtail === 0 && cdxtail === 0 && adytail === 0 && bdytail === 0 && cdytail === 0) {\n        return det;\n    }\n\n    errbound = iccerrboundC * permanent + resulterrbound * Math.abs(det);\n    det += ((adx * adx + ady * ady) * ((bdx * cdytail + cdy * bdxtail) - (bdy * cdxtail + cdx * bdytail)) +\n        2 * (adx * adxtail + ady * adytail) * (bdx * cdy - bdy * cdx)) +\n        ((bdx * bdx + bdy * bdy) * ((cdx * adytail + ady * cdxtail) - (cdy * adxtail + adx * cdytail)) +\n        2 * (bdx * bdxtail + bdy * bdytail) * (cdx * ady - cdy * adx)) +\n        ((cdx * cdx + cdy * cdy) * ((adx * bdytail + bdy * adxtail) - (ady * bdxtail + bdx * adytail)) +\n        2 * (cdx * cdxtail + cdy * cdytail) * (adx * bdy - ady * bdx));\n\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    if (bdxtail !== 0 || bdytail !== 0 || cdxtail !== 0 || cdytail !== 0) {\n        s1 = adx * adx;\n        c = splitter * adx;\n        ahi = c - (c - adx);\n        alo = adx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = ady * ady;\n        c = splitter * ady;\n        ahi = c - (c - ady);\n        alo = ady - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        aa[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        aa[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        aa[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        aa[3] = u3;\n    }\n    if (cdxtail !== 0 || cdytail !== 0 || adxtail !== 0 || adytail !== 0) {\n        s1 = bdx * bdx;\n        c = splitter * bdx;\n        ahi = c - (c - bdx);\n        alo = bdx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = bdy * bdy;\n        c = splitter * bdy;\n        ahi = c - (c - bdy);\n        alo = bdy - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        bb[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        bb[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        bb[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        bb[3] = u3;\n    }\n    if (adxtail !== 0 || adytail !== 0 || bdxtail !== 0 || bdytail !== 0) {\n        s1 = cdx * cdx;\n        c = splitter * cdx;\n        ahi = c - (c - cdx);\n        alo = cdx - ahi;\n        s0 = alo * alo - (s1 - ahi * ahi - (ahi + ahi) * alo);\n        t1 = cdy * cdy;\n        c = splitter * cdy;\n        ahi = c - (c - cdy);\n        alo = cdy - ahi;\n        t0 = alo * alo - (t1 - ahi * ahi - (ahi + ahi) * alo);\n        _i = s0 + t0;\n        bvirt = _i - s0;\n        cc[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n        _j = s1 + _i;\n        bvirt = _j - s1;\n        _0 = s1 - (_j - bvirt) + (_i - bvirt);\n        _i = _0 + t1;\n        bvirt = _i - _0;\n        cc[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n        u3 = _j + _i;\n        bvirt = u3 - _j;\n        cc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n        cc[3] = u3;\n    }\n\n    if (adxtail !== 0) {\n        axtbclen = scale(4, bc, adxtail, axtbc);\n        finlen = finadd(finlen, sum_three(\n            scale(axtbclen, axtbc, 2 * adx, _16), _16,\n            scale(scale(4, cc, adxtail, _8), _8, bdy, _16b), _16b,\n            scale(scale(4, bb, adxtail, _8), _8, -cdy, _16c), _16c, _32, _48), _48);\n    }\n    if (adytail !== 0) {\n        aytbclen = scale(4, bc, adytail, aytbc);\n        finlen = finadd(finlen, sum_three(\n            scale(aytbclen, aytbc, 2 * ady, _16), _16,\n            scale(scale(4, bb, adytail, _8), _8, cdx, _16b), _16b,\n            scale(scale(4, cc, adytail, _8), _8, -bdx, _16c), _16c, _32, _48), _48);\n    }\n    if (bdxtail !== 0) {\n        bxtcalen = scale(4, ca, bdxtail, bxtca);\n        finlen = finadd(finlen, sum_three(\n            scale(bxtcalen, bxtca, 2 * bdx, _16), _16,\n            scale(scale(4, aa, bdxtail, _8), _8, cdy, _16b), _16b,\n            scale(scale(4, cc, bdxtail, _8), _8, -ady, _16c), _16c, _32, _48), _48);\n    }\n    if (bdytail !== 0) {\n        bytcalen = scale(4, ca, bdytail, bytca);\n        finlen = finadd(finlen, sum_three(\n            scale(bytcalen, bytca, 2 * bdy, _16), _16,\n            scale(scale(4, cc, bdytail, _8), _8, adx, _16b), _16b,\n            scale(scale(4, aa, bdytail, _8), _8, -cdx, _16c), _16c, _32, _48), _48);\n    }\n    if (cdxtail !== 0) {\n        cxtablen = scale(4, ab, cdxtail, cxtab);\n        finlen = finadd(finlen, sum_three(\n            scale(cxtablen, cxtab, 2 * cdx, _16), _16,\n            scale(scale(4, bb, cdxtail, _8), _8, ady, _16b), _16b,\n            scale(scale(4, aa, cdxtail, _8), _8, -bdy, _16c), _16c, _32, _48), _48);\n    }\n    if (cdytail !== 0) {\n        cytablen = scale(4, ab, cdytail, cytab);\n        finlen = finadd(finlen, sum_three(\n            scale(cytablen, cytab, 2 * cdy, _16), _16,\n            scale(scale(4, aa, cdytail, _8), _8, bdx, _16b), _16b,\n            scale(scale(4, bb, cdytail, _8), _8, -adx, _16c), _16c, _32, _48), _48);\n    }\n\n    if (adxtail !== 0 || adytail !== 0) {\n        if (bdxtail !== 0 || bdytail !== 0 || cdxtail !== 0 || cdytail !== 0) {\n            s1 = bdxtail * cdy;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * cdy;\n            bhi = c - (c - cdy);\n            blo = cdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdx * cdytail;\n            c = splitter * bdx;\n            ahi = c - (c - bdx);\n            alo = bdx - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            s1 = cdxtail * -bdy;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * -bdy;\n            bhi = c - (c - -bdy);\n            blo = -bdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdx * -bdytail;\n            c = splitter * cdx;\n            ahi = c - (c - cdx);\n            alo = cdx - ahi;\n            c = splitter * -bdytail;\n            bhi = c - (c - -bdytail);\n            blo = -bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            bctlen = sum(4, u, 4, v, bct);\n            s1 = bdxtail * cdytail;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdxtail * bdytail;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            bctt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            bctt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            bctt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            bctt[3] = u3;\n            bcttlen = 4;\n        } else {\n            bct[0] = 0;\n            bctlen = 1;\n            bctt[0] = 0;\n            bcttlen = 1;\n        }\n        if (adxtail !== 0) {\n            const len = scale(bctlen, bct, adxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(axtbclen, axtbc, adxtail, _16), _16,\n                scale(len, _16c, 2 * adx, _32), _32, _48), _48);\n\n            const len2 = scale(bcttlen, bctt, adxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * adx, _16), _16,\n                scale(len2, _8, adxtail, _16b), _16b,\n                scale(len, _16c, adxtail, _32), _32, _32b, _64), _64);\n\n            if (bdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, cc, adxtail, _8), _8, bdytail, _16), _16);\n            }\n            if (cdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, bb, -adxtail, _8), _8, cdytail, _16), _16);\n            }\n        }\n        if (adytail !== 0) {\n            const len = scale(bctlen, bct, adytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(aytbclen, aytbc, adytail, _16), _16,\n                scale(len, _16c, 2 * ady, _32), _32, _48), _48);\n\n            const len2 = scale(bcttlen, bctt, adytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * ady, _16), _16,\n                scale(len2, _8, adytail, _16b), _16b,\n                scale(len, _16c, adytail, _32), _32, _32b, _64), _64);\n        }\n    }\n    if (bdxtail !== 0 || bdytail !== 0) {\n        if (cdxtail !== 0 || cdytail !== 0 || adxtail !== 0 || adytail !== 0) {\n            s1 = cdxtail * ady;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * ady;\n            bhi = c - (c - ady);\n            blo = ady - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = cdx * adytail;\n            c = splitter * cdx;\n            ahi = c - (c - cdx);\n            alo = cdx - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            n1 = -cdy;\n            n0 = -cdytail;\n            s1 = adxtail * n1;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * n1;\n            bhi = c - (c - n1);\n            blo = n1 - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adx * n0;\n            c = splitter * adx;\n            ahi = c - (c - adx);\n            alo = adx - ahi;\n            c = splitter * n0;\n            bhi = c - (c - n0);\n            blo = n0 - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            catlen = sum(4, u, 4, v, cat);\n            s1 = cdxtail * adytail;\n            c = splitter * cdxtail;\n            ahi = c - (c - cdxtail);\n            alo = cdxtail - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adxtail * cdytail;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * cdytail;\n            bhi = c - (c - cdytail);\n            blo = cdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            catt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            catt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            catt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            catt[3] = u3;\n            cattlen = 4;\n        } else {\n            cat[0] = 0;\n            catlen = 1;\n            catt[0] = 0;\n            cattlen = 1;\n        }\n        if (bdxtail !== 0) {\n            const len = scale(catlen, cat, bdxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(bxtcalen, bxtca, bdxtail, _16), _16,\n                scale(len, _16c, 2 * bdx, _32), _32, _48), _48);\n\n            const len2 = scale(cattlen, catt, bdxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * bdx, _16), _16,\n                scale(len2, _8, bdxtail, _16b), _16b,\n                scale(len, _16c, bdxtail, _32), _32, _32b, _64), _64);\n\n            if (cdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, aa, bdxtail, _8), _8, cdytail, _16), _16);\n            }\n            if (adytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, cc, -bdxtail, _8), _8, adytail, _16), _16);\n            }\n        }\n        if (bdytail !== 0) {\n            const len = scale(catlen, cat, bdytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(bytcalen, bytca, bdytail, _16), _16,\n                scale(len, _16c, 2 * bdy, _32), _32, _48), _48);\n\n            const len2 = scale(cattlen, catt, bdytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * bdy, _16), _16,\n                scale(len2, _8, bdytail, _16b), _16b,\n                scale(len, _16c, bdytail, _32), _32,  _32b, _64), _64);\n        }\n    }\n    if (cdxtail !== 0 || cdytail !== 0) {\n        if (adxtail !== 0 || adytail !== 0 || bdxtail !== 0 || bdytail !== 0) {\n            s1 = adxtail * bdy;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * bdy;\n            bhi = c - (c - bdy);\n            blo = bdy - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = adx * bdytail;\n            c = splitter * adx;\n            ahi = c - (c - adx);\n            alo = adx - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            u[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            u[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            u[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            u[3] = u3;\n            n1 = -ady;\n            n0 = -adytail;\n            s1 = bdxtail * n1;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * n1;\n            bhi = c - (c - n1);\n            blo = n1 - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdx * n0;\n            c = splitter * bdx;\n            ahi = c - (c - bdx);\n            alo = bdx - ahi;\n            c = splitter * n0;\n            bhi = c - (c - n0);\n            blo = n0 - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 + t0;\n            bvirt = _i - s0;\n            v[0] = s0 - (_i - bvirt) + (t0 - bvirt);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 + t1;\n            bvirt = _i - _0;\n            v[1] = _0 - (_i - bvirt) + (t1 - bvirt);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            v[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            v[3] = u3;\n            abtlen = sum(4, u, 4, v, abt);\n            s1 = adxtail * bdytail;\n            c = splitter * adxtail;\n            ahi = c - (c - adxtail);\n            alo = adxtail - ahi;\n            c = splitter * bdytail;\n            bhi = c - (c - bdytail);\n            blo = bdytail - bhi;\n            s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n            t1 = bdxtail * adytail;\n            c = splitter * bdxtail;\n            ahi = c - (c - bdxtail);\n            alo = bdxtail - ahi;\n            c = splitter * adytail;\n            bhi = c - (c - adytail);\n            blo = adytail - bhi;\n            t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n            _i = s0 - t0;\n            bvirt = s0 - _i;\n            abtt[0] = s0 - (_i + bvirt) + (bvirt - t0);\n            _j = s1 + _i;\n            bvirt = _j - s1;\n            _0 = s1 - (_j - bvirt) + (_i - bvirt);\n            _i = _0 - t1;\n            bvirt = _0 - _i;\n            abtt[1] = _0 - (_i + bvirt) + (bvirt - t1);\n            u3 = _j + _i;\n            bvirt = u3 - _j;\n            abtt[2] = _j - (u3 - bvirt) + (_i - bvirt);\n            abtt[3] = u3;\n            abttlen = 4;\n        } else {\n            abt[0] = 0;\n            abtlen = 1;\n            abtt[0] = 0;\n            abttlen = 1;\n        }\n        if (cdxtail !== 0) {\n            const len = scale(abtlen, abt, cdxtail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(cxtablen, cxtab, cdxtail, _16), _16,\n                scale(len, _16c, 2 * cdx, _32), _32, _48), _48);\n\n            const len2 = scale(abttlen, abtt, cdxtail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * cdx, _16), _16,\n                scale(len2, _8, cdxtail, _16b), _16b,\n                scale(len, _16c, cdxtail, _32), _32, _32b, _64), _64);\n\n            if (adytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, bb, cdxtail, _8), _8, adytail, _16), _16);\n            }\n            if (bdytail !== 0) {\n                finlen = finadd(finlen, scale(scale(4, aa, -cdxtail, _8), _8, bdytail, _16), _16);\n            }\n        }\n        if (cdytail !== 0) {\n            const len = scale(abtlen, abt, cdytail, _16c);\n            finlen = finadd(finlen, sum(\n                scale(cytablen, cytab, cdytail, _16), _16,\n                scale(len, _16c, 2 * cdy, _32), _32, _48), _48);\n\n            const len2 = scale(abttlen, abtt, cdytail, _8);\n            finlen = finadd(finlen, sum_three(\n                scale(len2, _8, 2 * cdy, _16), _16,\n                scale(len2, _8, cdytail, _16b), _16b,\n                scale(len, _16c, cdytail, _32), _32, _32b, _64), _64);\n        }\n    }\n\n    return fin[finlen - 1];\n}\n\nexport function incircle(ax, ay, bx, by, cx, cy, dx, dy) {\n    const adx = ax - dx;\n    const bdx = bx - dx;\n    const cdx = cx - dx;\n    const ady = ay - dy;\n    const bdy = by - dy;\n    const cdy = cy - dy;\n\n    const bdxcdy = bdx * cdy;\n    const cdxbdy = cdx * bdy;\n    const alift = adx * adx + ady * ady;\n\n    const cdxady = cdx * ady;\n    const adxcdy = adx * cdy;\n    const blift = bdx * bdx + bdy * bdy;\n\n    const adxbdy = adx * bdy;\n    const bdxady = bdx * ady;\n    const clift = cdx * cdx + cdy * cdy;\n\n    const det =\n        alift * (bdxcdy - cdxbdy) +\n        blift * (cdxady - adxcdy) +\n        clift * (adxbdy - bdxady);\n\n    const permanent =\n        (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * alift +\n        (Math.abs(cdxady) + Math.abs(adxcdy)) * blift +\n        (Math.abs(adxbdy) + Math.abs(bdxady)) * clift;\n\n    const errbound = iccerrboundA * permanent;\n\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n    return incircleadapt(ax, ay, bx, by, cx, cy, dx, dy, permanent);\n}\n\nexport function incirclefast(ax, ay, bx, by, cx, cy, dx, dy) {\n    const adx = ax - dx;\n    const ady = ay - dy;\n    const bdx = bx - dx;\n    const bdy = by - dy;\n    const cdx = cx - dx;\n    const cdy = cy - dy;\n\n    const abdet = adx * bdy - bdx * ady;\n    const bcdet = bdx * cdy - cdx * bdy;\n    const cadet = cdx * ady - adx * cdy;\n    const alift = adx * adx + ady * ady;\n    const blift = bdx * bdx + bdy * bdy;\n    const clift = cdx * cdx + cdy * cdy;\n\n    return alift * bcdet + blift * cadet + clift * abdet;\n}\n","import {epsilon, splitter, resulterrbound, estimate, vec, sum, sum_three, scale, negate} from './util.js';\n\nconst isperrboundA = (16 + 224 * epsilon) * epsilon;\nconst isperrboundB = (5 + 72 * epsilon) * epsilon;\nconst isperrboundC = (71 + 1408 * epsilon) * epsilon * epsilon;\n\nconst ab = vec(4);\nconst bc = vec(4);\nconst cd = vec(4);\nconst de = vec(4);\nconst ea = vec(4);\nconst ac = vec(4);\nconst bd = vec(4);\nconst ce = vec(4);\nconst da = vec(4);\nconst eb = vec(4);\n\nconst abc = vec(24);\nconst bcd = vec(24);\nconst cde = vec(24);\nconst dea = vec(24);\nconst eab = vec(24);\nconst abd = vec(24);\nconst bce = vec(24);\nconst cda = vec(24);\nconst deb = vec(24);\nconst eac = vec(24);\n\nconst adet = vec(1152);\nconst bdet = vec(1152);\nconst cdet = vec(1152);\nconst ddet = vec(1152);\nconst edet = vec(1152);\nconst abdet = vec(2304);\nconst cddet = vec(2304);\nconst cdedet = vec(3456);\nconst deter = vec(5760);\n\nconst _8 = vec(8);\nconst _8b = vec(8);\nconst _8c = vec(8);\nconst _16 = vec(16);\nconst _24 = vec(24);\nconst _48 = vec(48);\nconst _48b = vec(48);\nconst _96 = vec(96);\nconst _192 = vec(192);\nconst _384x = vec(384);\nconst _384y = vec(384);\nconst _384z = vec(384);\nconst _768 = vec(768);\n\nfunction sum_three_scale(a, b, c, az, bz, cz, out) {\n    return sum_three(\n        scale(4, a, az, _8), _8,\n        scale(4, b, bz, _8b), _8b,\n        scale(4, c, cz, _8c), _8c, _16, out);\n}\n\nfunction liftexact(alen, a, blen, b, clen, c, dlen, d, x, y, z, out) {\n    const len = sum(\n        sum(alen, a, blen, b, _48), _48,\n        negate(sum(clen, c, dlen, d, _48b), _48b), _48b, _96);\n\n    return sum_three(\n        scale(scale(len, _96, x, _192), _192, x, _384x), _384x,\n        scale(scale(len, _96, y, _192), _192, y, _384y), _384y,\n        scale(scale(len, _96, z, _192), _192, z, _384z), _384z, _768, out);\n}\n\nfunction insphereexact(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez) {\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0, u3;\n\n    s1 = ax * by;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bx * ay;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ab[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ab[3] = u3;\n    s1 = bx * cy;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cx * by;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bc[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bc[3] = u3;\n    s1 = cx * dy;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dx * cy;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    cd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    cd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    cd[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    cd[3] = u3;\n    s1 = dx * ey;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ex * dy;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    de[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    de[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    de[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    de[3] = u3;\n    s1 = ex * ay;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ax * ey;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ea[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ea[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ea[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ea[3] = u3;\n    s1 = ax * cy;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cx * ay;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ac[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ac[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ac[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ac[3] = u3;\n    s1 = bx * dy;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dx * by;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    bd[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    bd[3] = u3;\n    s1 = cx * ey;\n    c = splitter * cx;\n    ahi = c - (c - cx);\n    alo = cx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ex * cy;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * cy;\n    bhi = c - (c - cy);\n    blo = cy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ce[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ce[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    ce[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    ce[3] = u3;\n    s1 = dx * ay;\n    c = splitter * dx;\n    ahi = c - (c - dx);\n    alo = dx - ahi;\n    c = splitter * ay;\n    bhi = c - (c - ay);\n    blo = ay - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = ax * dy;\n    c = splitter * ax;\n    ahi = c - (c - ax);\n    alo = ax - ahi;\n    c = splitter * dy;\n    bhi = c - (c - dy);\n    blo = dy - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    da[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    da[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    da[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    da[3] = u3;\n    s1 = ex * by;\n    c = splitter * ex;\n    ahi = c - (c - ex);\n    alo = ex - ahi;\n    c = splitter * by;\n    bhi = c - (c - by);\n    blo = by - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bx * ey;\n    c = splitter * bx;\n    ahi = c - (c - bx);\n    alo = bx - ahi;\n    c = splitter * ey;\n    bhi = c - (c - ey);\n    blo = ey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    eb[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    eb[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    u3 = _j + _i;\n    bvirt = u3 - _j;\n    eb[2] = _j - (u3 - bvirt) + (_i - bvirt);\n    eb[3] = u3;\n\n    const abclen = sum_three_scale(ab, bc, ac, cz, az, -bz, abc);\n    const bcdlen = sum_three_scale(bc, cd, bd, dz, bz, -cz, bcd);\n    const cdelen = sum_three_scale(cd, de, ce, ez, cz, -dz, cde);\n    const dealen = sum_three_scale(de, ea, da, az, dz, -ez, dea);\n    const eablen = sum_three_scale(ea, ab, eb, bz, ez, -az, eab);\n    const abdlen = sum_three_scale(ab, bd, da, dz, az, bz, abd);\n    const bcelen = sum_three_scale(bc, ce, eb, ez, bz, cz, bce);\n    const cdalen = sum_three_scale(cd, da, ac, az, cz, dz, cda);\n    const deblen = sum_three_scale(de, eb, bd, bz, dz, ez, deb);\n    const eaclen = sum_three_scale(ea, ac, ce, cz, ez, az, eac);\n\n    const deterlen = sum_three(\n        liftexact(cdelen, cde, bcelen, bce, deblen, deb, bcdlen, bcd, ax, ay, az, adet), adet,\n        liftexact(dealen, dea, cdalen, cda, eaclen, eac, cdelen, cde, bx, by, bz, bdet), bdet,\n        sum_three(\n            liftexact(eablen, eab, deblen, deb, abdlen, abd, dealen, dea, cx, cy, cz, cdet), cdet,\n            liftexact(abclen, abc, eaclen, eac, bcelen, bce, eablen, eab, dx, dy, dz, ddet), ddet,\n            liftexact(bcdlen, bcd, abdlen, abd, cdalen, cda, abclen, abc, ex, ey, ez, edet), edet, cddet, cdedet), cdedet, abdet, deter);\n\n    return deter[deterlen - 1];\n}\n\nconst xdet = vec(96);\nconst ydet = vec(96);\nconst zdet = vec(96);\nconst fin = vec(1152);\n\nfunction liftadapt(a, b, c, az, bz, cz, x, y, z, out) {\n    const len = sum_three_scale(a, b, c, az, bz, cz, _24);\n    return sum_three(\n        scale(scale(len, _24, x, _48), _48, x, xdet), xdet,\n        scale(scale(len, _24, y, _48), _48, y, ydet), ydet,\n        scale(scale(len, _24, z, _48), _48, z, zdet), zdet, _192, out);\n}\n\nfunction insphereadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez, permanent) {\n    let ab3, bc3, cd3, da3, ac3, bd3;\n\n    let aextail, bextail, cextail, dextail;\n    let aeytail, beytail, ceytail, deytail;\n    let aeztail, beztail, ceztail, deztail;\n\n    let bvirt, c, ahi, alo, bhi, blo, _i, _j, _0, s1, s0, t1, t0;\n\n    const aex = ax - ex;\n    const bex = bx - ex;\n    const cex = cx - ex;\n    const dex = dx - ex;\n    const aey = ay - ey;\n    const bey = by - ey;\n    const cey = cy - ey;\n    const dey = dy - ey;\n    const aez = az - ez;\n    const bez = bz - ez;\n    const cez = cz - ez;\n    const dez = dz - ez;\n\n    s1 = aex * bey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = bex * aey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ab[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ab[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    ab3 = _j + _i;\n    bvirt = ab3 - _j;\n    ab[2] = _j - (ab3 - bvirt) + (_i - bvirt);\n    ab[3] = ab3;\n    s1 = bex * cey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cex * bey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bc[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bc[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    bc3 = _j + _i;\n    bvirt = bc3 - _j;\n    bc[2] = _j - (bc3 - bvirt) + (_i - bvirt);\n    bc[3] = bc3;\n    s1 = cex * dey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dex * cey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    cd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    cd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    cd3 = _j + _i;\n    bvirt = cd3 - _j;\n    cd[2] = _j - (cd3 - bvirt) + (_i - bvirt);\n    cd[3] = cd3;\n    s1 = dex * aey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = aex * dey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    da[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    da[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    da3 = _j + _i;\n    bvirt = da3 - _j;\n    da[2] = _j - (da3 - bvirt) + (_i - bvirt);\n    da[3] = da3;\n    s1 = aex * cey;\n    c = splitter * aex;\n    ahi = c - (c - aex);\n    alo = aex - ahi;\n    c = splitter * cey;\n    bhi = c - (c - cey);\n    blo = cey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = cex * aey;\n    c = splitter * cex;\n    ahi = c - (c - cex);\n    alo = cex - ahi;\n    c = splitter * aey;\n    bhi = c - (c - aey);\n    blo = aey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    ac[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    ac[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    ac3 = _j + _i;\n    bvirt = ac3 - _j;\n    ac[2] = _j - (ac3 - bvirt) + (_i - bvirt);\n    ac[3] = ac3;\n    s1 = bex * dey;\n    c = splitter * bex;\n    ahi = c - (c - bex);\n    alo = bex - ahi;\n    c = splitter * dey;\n    bhi = c - (c - dey);\n    blo = dey - bhi;\n    s0 = alo * blo - (s1 - ahi * bhi - alo * bhi - ahi * blo);\n    t1 = dex * bey;\n    c = splitter * dex;\n    ahi = c - (c - dex);\n    alo = dex - ahi;\n    c = splitter * bey;\n    bhi = c - (c - bey);\n    blo = bey - bhi;\n    t0 = alo * blo - (t1 - ahi * bhi - alo * bhi - ahi * blo);\n    _i = s0 - t0;\n    bvirt = s0 - _i;\n    bd[0] = s0 - (_i + bvirt) + (bvirt - t0);\n    _j = s1 + _i;\n    bvirt = _j - s1;\n    _0 = s1 - (_j - bvirt) + (_i - bvirt);\n    _i = _0 - t1;\n    bvirt = _0 - _i;\n    bd[1] = _0 - (_i + bvirt) + (bvirt - t1);\n    bd3 = _j + _i;\n    bvirt = bd3 - _j;\n    bd[2] = _j - (bd3 - bvirt) + (_i - bvirt);\n    bd[3] = bd3;\n\n    const finlen = sum(\n        sum(\n            negate(liftadapt(bc, cd, bd, dez, bez, -cez, aex, aey, aez, adet), adet), adet,\n            liftadapt(cd, da, ac, aez, cez, dez, bex, bey, bez, bdet), bdet, abdet), abdet,\n        sum(\n            negate(liftadapt(da, ab, bd, bez, dez, aez, cex, cey, cez, cdet), cdet), cdet,\n            liftadapt(ab, bc, ac, cez, aez, -bez, dex, dey, dez, ddet), ddet, cddet), cddet, fin);\n\n    let det = estimate(finlen, fin);\n    let errbound = isperrboundB * permanent;\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    bvirt = ax - aex;\n    aextail = ax - (aex + bvirt) + (bvirt - ex);\n    bvirt = ay - aey;\n    aeytail = ay - (aey + bvirt) + (bvirt - ey);\n    bvirt = az - aez;\n    aeztail = az - (aez + bvirt) + (bvirt - ez);\n    bvirt = bx - bex;\n    bextail = bx - (bex + bvirt) + (bvirt - ex);\n    bvirt = by - bey;\n    beytail = by - (bey + bvirt) + (bvirt - ey);\n    bvirt = bz - bez;\n    beztail = bz - (bez + bvirt) + (bvirt - ez);\n    bvirt = cx - cex;\n    cextail = cx - (cex + bvirt) + (bvirt - ex);\n    bvirt = cy - cey;\n    ceytail = cy - (cey + bvirt) + (bvirt - ey);\n    bvirt = cz - cez;\n    ceztail = cz - (cez + bvirt) + (bvirt - ez);\n    bvirt = dx - dex;\n    dextail = dx - (dex + bvirt) + (bvirt - ex);\n    bvirt = dy - dey;\n    deytail = dy - (dey + bvirt) + (bvirt - ey);\n    bvirt = dz - dez;\n    deztail = dz - (dez + bvirt) + (bvirt - ez);\n    if (aextail === 0 && aeytail === 0 && aeztail === 0 &&\n        bextail === 0 && beytail === 0 && beztail === 0 &&\n        cextail === 0 && ceytail === 0 && ceztail === 0 &&\n        dextail === 0 && deytail === 0 && deztail === 0) {\n        return det;\n    }\n\n    errbound = isperrboundC * permanent + resulterrbound * Math.abs(det);\n\n    const abeps = (aex * beytail + bey * aextail) - (aey * bextail + bex * aeytail);\n    const bceps = (bex * ceytail + cey * bextail) - (bey * cextail + cex * beytail);\n    const cdeps = (cex * deytail + dey * cextail) - (cey * dextail + dex * ceytail);\n    const daeps = (dex * aeytail + aey * dextail) - (dey * aextail + aex * deytail);\n    const aceps = (aex * ceytail + cey * aextail) - (aey * cextail + cex * aeytail);\n    const bdeps = (bex * deytail + dey * bextail) - (bey * dextail + dex * beytail);\n    det +=\n        (((bex * bex + bey * bey + bez * bez) * ((cez * daeps + dez * aceps + aez * cdeps) +\n        (ceztail * da3 + deztail * ac3 + aeztail * cd3)) + (dex * dex + dey * dey + dez * dez) *\n        ((aez * bceps - bez * aceps + cez * abeps) + (aeztail * bc3 - beztail * ac3 + ceztail * ab3))) -\n        ((aex * aex + aey * aey + aez * aez) * ((bez * cdeps - cez * bdeps + dez * bceps) +\n        (beztail * cd3 - ceztail * bd3 + deztail * bc3)) + (cex * cex + cey * cey + cez * cez) *\n        ((dez * abeps + aez * bdeps + bez * daeps) + (deztail * ab3 + aeztail * bd3 + beztail * da3)))) +\n        2 * (((bex * bextail + bey * beytail + bez * beztail) * (cez * da3 + dez * ac3 + aez * cd3) +\n        (dex * dextail + dey * deytail + dez * deztail) * (aez * bc3 - bez * ac3 + cez * ab3)) -\n        ((aex * aextail + aey * aeytail + aez * aeztail) * (bez * cd3 - cez * bd3 + dez * bc3) +\n        (cex * cextail + cey * ceytail + cez * ceztail) * (dez * ab3 + aez * bd3 + bez * da3)));\n\n    if (det >= errbound || -det >= errbound) {\n        return det;\n    }\n\n    return insphereexact(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez);\n}\n\nexport function insphere(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez) {\n    const aex = ax - ex;\n    const bex = bx - ex;\n    const cex = cx - ex;\n    const dex = dx - ex;\n    const aey = ay - ey;\n    const bey = by - ey;\n    const cey = cy - ey;\n    const dey = dy - ey;\n    const aez = az - ez;\n    const bez = bz - ez;\n    const cez = cz - ez;\n    const dez = dz - ez;\n\n    const aexbey = aex * bey;\n    const bexaey = bex * aey;\n    const ab = aexbey - bexaey;\n    const bexcey = bex * cey;\n    const cexbey = cex * bey;\n    const bc = bexcey - cexbey;\n    const cexdey = cex * dey;\n    const dexcey = dex * cey;\n    const cd = cexdey - dexcey;\n    const dexaey = dex * aey;\n    const aexdey = aex * dey;\n    const da = dexaey - aexdey;\n    const aexcey = aex * cey;\n    const cexaey = cex * aey;\n    const ac = aexcey - cexaey;\n    const bexdey = bex * dey;\n    const dexbey = dex * bey;\n    const bd = bexdey - dexbey;\n\n    const abc = aez * bc - bez * ac + cez * ab;\n    const bcd = bez * cd - cez * bd + dez * bc;\n    const cda = cez * da + dez * ac + aez * cd;\n    const dab = dez * ab + aez * bd + bez * da;\n\n    const alift = aex * aex + aey * aey + aez * aez;\n    const blift = bex * bex + bey * bey + bez * bez;\n    const clift = cex * cex + cey * cey + cez * cez;\n    const dlift = dex * dex + dey * dey + dez * dez;\n\n    const det = (clift * dab - dlift * abc) + (alift * bcd - blift * cda);\n\n    const aezplus = Math.abs(aez);\n    const bezplus = Math.abs(bez);\n    const cezplus = Math.abs(cez);\n    const dezplus = Math.abs(dez);\n    const aexbeyplus = Math.abs(aexbey);\n    const bexaeyplus = Math.abs(bexaey);\n    const bexceyplus = Math.abs(bexcey);\n    const cexbeyplus = Math.abs(cexbey);\n    const cexdeyplus = Math.abs(cexdey);\n    const dexceyplus = Math.abs(dexcey);\n    const dexaeyplus = Math.abs(dexaey);\n    const aexdeyplus = Math.abs(aexdey);\n    const aexceyplus = Math.abs(aexcey);\n    const cexaeyplus = Math.abs(cexaey);\n    const bexdeyplus = Math.abs(bexdey);\n    const dexbeyplus = Math.abs(dexbey);\n    const permanent =\n        ((cexdeyplus + dexceyplus) * bezplus + (dexbeyplus + bexdeyplus) * cezplus + (bexceyplus + cexbeyplus) * dezplus) * alift +\n        ((dexaeyplus + aexdeyplus) * cezplus + (aexceyplus + cexaeyplus) * dezplus + (cexdeyplus + dexceyplus) * aezplus) * blift +\n        ((aexbeyplus + bexaeyplus) * dezplus + (bexdeyplus + dexbeyplus) * aezplus + (dexaeyplus + aexdeyplus) * bezplus) * clift +\n        ((bexceyplus + cexbeyplus) * aezplus + (cexaeyplus + aexceyplus) * bezplus + (aexbeyplus + bexaeyplus) * cezplus) * dlift;\n\n    const errbound = isperrboundA * permanent;\n    if (det > errbound || -det > errbound) {\n        return det;\n    }\n    return -insphereadapt(ax, ay, az, bx, by, bz, cx, cy, cz, dx, dy, dz, ex, ey, ez, permanent);\n}\n\nexport function inspherefast(pax, pay, paz, pbx, pby, pbz, pcx, pcy, pcz, pdx, pdy, pdz, pex, pey, pez) {\n    const aex = pax - pex;\n    const bex = pbx - pex;\n    const cex = pcx - pex;\n    const dex = pdx - pex;\n    const aey = pay - pey;\n    const bey = pby - pey;\n    const cey = pcy - pey;\n    const dey = pdy - pey;\n    const aez = paz - pez;\n    const bez = pbz - pez;\n    const cez = pcz - pez;\n    const dez = pdz - pez;\n\n    const ab = aex * bey - bex * aey;\n    const bc = bex * cey - cex * bey;\n    const cd = cex * dey - dex * cey;\n    const da = dex * aey - aex * dey;\n    const ac = aex * cey - cex * aey;\n    const bd = bex * dey - dex * bey;\n\n    const abc = aez * bc - bez * ac + cez * ab;\n    const bcd = bez * cd - cez * bd + dez * bc;\n    const cda = cez * da + dez * ac + aez * cd;\n    const dab = dez * ab + aez * bd + bez * da;\n\n    const alift = aex * aex + aey * aey + aez * aez;\n    const blift = bex * bex + bey * bey + bez * bez;\n    const clift = cex * cex + cey * cey + cez * cez;\n    const dlift = dex * dex + dey * dey + dez * dez;\n\n    return (clift * dab - dlift * abc) + (alift * bcd - blift * cda);\n}\n","import { incircle, orient2d } from 'robust-predicates';\n\n/**\r\n * A set of numbers, stored as bits in a typed array. The amount of numbers /\r\n * the maximum number that can be stored is limited by the length, which is\r\n * fixed at construction time.\r\n */\r\nclass BitSet {\r\n    constructor(W, bs) {\r\n        this.W = W;\r\n        this.bs = bs;\r\n    }\r\n    /**\r\n     * Add a number to the set.\r\n     *\r\n     * @param idx The number to add. Must be 0 <= idx < len.\r\n     * @return this.\r\n     */\r\n    add(idx) {\r\n        const W = this.W, byte = (idx / W) | 0, bit = idx % W;\r\n        this.bs[byte] |= 1 << bit;\r\n        return this;\r\n    }\r\n    /**\r\n     * Delete a number from the set.\r\n     *\r\n     * @param idx The number to delete. Must be 0 <= idx < len.\r\n     * @return this.\r\n     */\r\n    delete(idx) {\r\n        const W = this.W, byte = (idx / W) | 0, bit = idx % W;\r\n        this.bs[byte] &= ~(1 << bit);\r\n        return this;\r\n    }\r\n    /**\r\n     * Add or delete a number in the set, depending on the second argument.\r\n     *\r\n     * @param idx The number to add or delete. Must be 0 <= idx < len.\r\n     * @param val If true, add the number, otherwise delete.\r\n     * @return val.\r\n     */\r\n    set(idx, val) {\r\n        const W = this.W, byte = (idx / W) | 0, bit = idx % W, m = 1 << bit;\r\n        //this.bs[byte] = set ? this.bs[byte] | m : this.bs[byte] & ~m;\r\n        this.bs[byte] ^= (-val ^ this.bs[byte]) & m; // -set == set * 255\r\n        return val;\r\n    }\r\n    /**\r\n     * Whether the number is in the set.\r\n     *\r\n     * @param idx The number to test. Must be 0 <= idx < len.\r\n     * @return True if the number is in the set.\r\n     */\r\n    has(idx) {\r\n        const W = this.W, byte = (idx / W) | 0, bit = idx % W;\r\n        return !!(this.bs[byte] & (1 << bit));\r\n    }\r\n    /**\r\n     * Iterate over the numbers that are in the set. The callback is invoked\r\n     * with each number that is set. It is allowed to change the BitSet during\r\n     * iteration. If it deletes a number that has not been iterated over, that\r\n     * number will not show up in a later call. If it adds a number during\r\n     * iteration, that number may or may not show up in a later call.\r\n     *\r\n     * @param fn The function to call for each number.\r\n     * @return this.\r\n     */\r\n    forEach(fn) {\r\n        const W = this.W, bs = this.bs, len = bs.length;\r\n        for (let byte = 0; byte < len; byte++) {\r\n            let bit = 0;\r\n            // bs[byte] may change during iteration\r\n            while (bs[byte] && bit < W) {\r\n                if (bs[byte] & (1 << bit)) {\r\n                    fn(byte * W + bit);\r\n                }\r\n                bit++;\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n}\r\n/**\r\n * A bit set using 8 bits per cell.\r\n */\r\nclass BitSet8 extends BitSet {\r\n    /**\r\n     * Create a bit set.\r\n     *\r\n     * @param len The length of the bit set, limiting the maximum value that\r\n     *        can be stored in it to len - 1.\r\n     */\r\n    constructor(len) {\r\n        const W = 8, bs = new Uint8Array(Math.ceil(len / W)).fill(0);\r\n        super(W, bs);\r\n    }\r\n}\n\nfunction nextEdge(e) { return (e % 3 === 2) ? e - 2 : e + 1; }\r\nfunction prevEdge(e) { return (e % 3 === 0) ? e + 2 : e - 1; }\r\n/**\r\n * Constrain a triangulation from Delaunator, using (parts of) the algorithm\r\n * in \"A fast algorithm for generating constrained Delaunay triangulations\" by\r\n * S. W. Sloan.\r\n */\r\nclass Constrainautor {\r\n    /**\r\n     * Make a Constrainautor.\r\n     *\r\n     * @param del The triangulation output from Delaunator.\r\n     * @param edges If provided, constrain these edges as by constrainAll.\r\n     */\r\n    constructor(del, edges) {\r\n        if (!del || typeof del !== 'object' || !del.triangles || !del.halfedges || !del.coords) {\r\n            throw new Error(\"Expected an object with Delaunator output\");\r\n        }\r\n        if (del.triangles.length % 3 || del.halfedges.length !== del.triangles.length || del.coords.length % 2) {\r\n            throw new Error(\"Delaunator output appears inconsistent\");\r\n        }\r\n        if (del.triangles.length < 3) {\r\n            throw new Error(\"No edges in triangulation\");\r\n        }\r\n        this.del = del;\r\n        const U32NIL = 2 ** 32 - 1, // Max value of a Uint32Array: use as a sentinel for not yet defined \r\n        numPoints = del.coords.length >> 1, numEdges = del.triangles.length;\r\n        // Map every vertex id to the right-most edge that points to that vertex.\r\n        this.vertMap = new Uint32Array(numPoints).fill(U32NIL);\r\n        // Keep track of edges flipped while constraining\r\n        this.flips = new BitSet8(numEdges);\r\n        // Keep track of constrained edges\r\n        this.consd = new BitSet8(numEdges);\r\n        for (let e = 0; e < numEdges; e++) {\r\n            const v = del.triangles[e];\r\n            if (this.vertMap[v] === U32NIL) {\r\n                this.updateVert(e);\r\n            }\r\n        }\r\n        if (edges) {\r\n            this.constrainAll(edges);\r\n        }\r\n    }\r\n    /**\r\n     * Constrain the triangulation such that there is an edge between p1 and p2.\r\n     *\r\n     * @param segP1 The index of one segment end-point in the coords array.\r\n     * @param segP2 The index of the other segment end-point in the coords array.\r\n     * @return The id of the edge that points from p1 to p2. If the\r\n     *         constrained edge lies on the hull and points in the opposite\r\n     *         direction (p2 to p1), the negative of its id is returned.\r\n     */\r\n    constrainOne(segP1, segP2) {\r\n        const { triangles, halfedges } = this.del, vm = this.vertMap, consd = this.consd, start = vm[segP1];\r\n        // Loop over the edges touching segP1\r\n        let edg = start;\r\n        do {\r\n            // edg points toward segP1, so its start-point is opposite it\r\n            const p4 = triangles[edg], nxt = nextEdge(edg);\r\n            // already constrained, but in reverse order\r\n            if (p4 === segP2) {\r\n                return this.protect(edg);\r\n            }\r\n            // The edge opposite segP1\r\n            const opp = prevEdge(edg), p3 = triangles[opp];\r\n            // already constrained\r\n            if (p3 === segP2) {\r\n                this.protect(nxt);\r\n                return nxt;\r\n            }\r\n            // edge opposite segP1 intersects constraint\r\n            if (this.intersectSegments(segP1, segP2, p3, p4)) {\r\n                edg = opp;\r\n                break;\r\n            }\r\n            const adj = halfedges[nxt];\r\n            // The next edge pointing to segP1\r\n            edg = adj;\r\n        } while (edg !== -1 && edg !== start);\r\n        let conEdge = edg;\r\n        // Walk through the triangulation looking for further intersecting\r\n        // edges and flip them. If an intersecting edge cannot be flipped,\r\n        // assign its id to `rescan` and restart from there, until there are\r\n        // no more intersects.\r\n        let rescan = -1;\r\n        while (edg !== -1) {\r\n            // edg is the intersecting half-edge in the triangle we came from\r\n            // adj is now the opposite half-edge in the adjacent triangle, which\r\n            // is away from segP1.\r\n            const adj = halfedges[edg], \r\n            // cross diagonal\r\n            bot = prevEdge(edg), top = prevEdge(adj), rgt = nextEdge(adj);\r\n            if (adj === -1) {\r\n                throw new Error(\"Constraining edge exited the hull\");\r\n            }\r\n            if (consd.has(edg)) { // || consd.has(adj) // assume consd is consistent\r\n                throw new Error(\"Edge intersects already constrained edge\");\r\n            }\r\n            if (this.isCollinear(segP1, segP2, triangles[edg]) ||\r\n                this.isCollinear(segP1, segP2, triangles[adj])) {\r\n                throw new Error(\"Constraining edge intersects point\");\r\n            }\r\n            const convex = this.intersectSegments(triangles[edg], triangles[adj], triangles[bot], triangles[top]);\r\n            // The quadrilateral formed by the two triangles adjoing edg is not\r\n            // convex, so the edge can't be flipped. Continue looking for the\r\n            // next intersecting edge and restart at this one later.\r\n            if (!convex) {\r\n                if (rescan === -1) {\r\n                    rescan = edg;\r\n                }\r\n                if (triangles[top] === segP2) {\r\n                    if (edg === rescan) {\r\n                        throw new Error(\"Infinite loop: non-convex quadrilateral\");\r\n                    }\r\n                    edg = rescan;\r\n                    rescan = -1;\r\n                    continue;\r\n                }\r\n                // Look for the next intersect\r\n                if (this.intersectSegments(segP1, segP2, triangles[top], triangles[adj])) {\r\n                    edg = top;\r\n                }\r\n                else if (this.intersectSegments(segP1, segP2, triangles[rgt], triangles[top])) {\r\n                    edg = rgt;\r\n                }\r\n                else if (rescan === edg) {\r\n                    throw new Error(\"Infinite loop: no further intersect after non-convex\");\r\n                }\r\n                continue;\r\n            }\r\n            this.flipDiagonal(edg);\r\n            // The new edge might still intersect, which will be fixed in the\r\n            // next rescan.\r\n            if (this.intersectSegments(segP1, segP2, triangles[bot], triangles[top])) {\r\n                if (rescan === -1) {\r\n                    rescan = bot;\r\n                }\r\n                if (rescan === bot) {\r\n                    throw new Error(\"Infinite loop: flipped diagonal still intersects\");\r\n                }\r\n            }\r\n            // Reached the other segment end-point? Start the rescan.\r\n            if (triangles[top] === segP2) {\r\n                conEdge = top;\r\n                edg = rescan;\r\n                rescan = -1;\r\n                // Otherwise, for the next edge that intersects. Because we just\r\n                // flipped, it's either edg again, or rgt.\r\n            }\r\n            else if (this.intersectSegments(segP1, segP2, triangles[rgt], triangles[top])) {\r\n                edg = rgt;\r\n            }\r\n        }\r\n        const flips = this.flips;\r\n        this.protect(conEdge);\r\n        do {\r\n            // need to use var to scope it outside the loop, but re-initialize\r\n            // to 0 each iteration\r\n            var flipped = 0;\r\n            flips.forEach(edg => {\r\n                flips.delete(edg);\r\n                const adj = halfedges[edg];\r\n                if (adj === -1) {\r\n                    return;\r\n                }\r\n                flips.delete(adj);\r\n                if (!this.isDelaunay(edg)) {\r\n                    this.flipDiagonal(edg);\r\n                    flipped++;\r\n                }\r\n            });\r\n        } while (flipped > 0);\r\n        return this.findEdge(segP1, segP2);\r\n    }\r\n    /**\r\n     * Fix the Delaunay condition. It is no longer necessary to call this\r\n     * method after constraining (many) edges, since constrainOne will do it\r\n     * after each.\r\n     *\r\n     * @param deep If true, keep checking & flipping edges until all\r\n     *        edges are Delaunay, otherwise only check the edges once.\r\n     * @return The triangulation object.\r\n     */\r\n    delaunify(deep = false) {\r\n        const halfedges = this.del.halfedges, flips = this.flips, consd = this.consd, len = halfedges.length;\r\n        do {\r\n            var flipped = 0;\r\n            for (let edg = 0; edg < len; edg++) {\r\n                if (consd.has(edg)) {\r\n                    continue;\r\n                }\r\n                flips.delete(edg);\r\n                const adj = halfedges[edg];\r\n                if (adj === -1) {\r\n                    continue;\r\n                }\r\n                flips.delete(adj);\r\n                if (!this.isDelaunay(edg)) {\r\n                    this.flipDiagonal(edg);\r\n                    flipped++;\r\n                }\r\n            }\r\n        } while (deep && flipped > 0);\r\n        return this;\r\n    }\r\n    /**\r\n     * Call constrainOne on each edge, and delaunify afterwards.\r\n     *\r\n     * @param edges The edges to constrain: each element is an array with\r\n     *        [p1, p2] which are indices into the points array originally\r\n     *        supplied to Delaunator.\r\n     * @return The triangulation object.\r\n     */\r\n    constrainAll(edges) {\r\n        const len = edges.length;\r\n        for (let i = 0; i < len; i++) {\r\n            const e = edges[i];\r\n            this.constrainOne(e[0], e[1]);\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Whether an edge is a constrained edge.\r\n     *\r\n     * @param edg The edge id.\r\n     * @return True if the edge is constrained.\r\n     */\r\n    isConstrained(edg) {\r\n        return this.consd.has(edg);\r\n    }\r\n    /**\r\n     * Find the edge that points from p1 -> p2. If there is only an edge from\r\n     * p2 -> p1 (i.e. it is on the hull), returns the negative id of it.\r\n     *\r\n     * @param p1 The index of the first point into the points array.\r\n     * @param p2 The index of the second point into the points array.\r\n     * @return The id of the edge that points from p1 -> p2, or the negative\r\n     *         id of the edge that goes from p2 -> p1, or Infinity if there is\r\n     *         no edge between p1 and p2.\r\n     */\r\n    findEdge(p1, p2) {\r\n        const start1 = this.vertMap[p2], { triangles, halfedges } = this.del;\r\n        let edg = start1, prv = -1;\r\n        // Walk around p2, iterating over the edges pointing to it\r\n        do {\r\n            if (triangles[edg] === p1) {\r\n                return edg;\r\n            }\r\n            prv = nextEdge(edg);\r\n            edg = halfedges[prv];\r\n        } while (edg !== -1 && edg !== start1);\r\n        // Did not find p1 -> p2, the only option is that it is on the hull on\r\n        // the 'left-hand' side, pointing p2 -> p1 (or there is no edge)\r\n        if (triangles[nextEdge(prv)] === p1) {\r\n            return -prv;\r\n        }\r\n        return Infinity;\r\n    }\r\n    /**\r\n     * Mark an edge as constrained, i.e. should not be touched by `delaunify`.\r\n     *\r\n     * @private\r\n     * @param edg The edge id.\r\n     * @return If edg has an adjacent, returns that, otherwise -edg.\r\n     */\r\n    protect(edg) {\r\n        const adj = this.del.halfedges[edg], flips = this.flips, consd = this.consd;\r\n        flips.delete(edg);\r\n        consd.add(edg);\r\n        if (adj !== -1) {\r\n            flips.delete(adj);\r\n            consd.add(adj);\r\n            return adj;\r\n        }\r\n        return -edg;\r\n    }\r\n    /**\r\n     * Mark an edge as flipped, unless it is already marked as constrained.\r\n     *\r\n     * @private\r\n     * @param edg The edge id.\r\n     * @return True if edg was not constrained.\r\n     */\r\n    markFlip(edg) {\r\n        const halfedges = this.del.halfedges, flips = this.flips, consd = this.consd;\r\n        if (consd.has(edg)) {\r\n            return false;\r\n        }\r\n        const adj = halfedges[edg];\r\n        if (adj !== -1) {\r\n            flips.add(edg);\r\n            flips.add(adj);\r\n        }\r\n        return true;\r\n    }\r\n    /**\r\n     * Flip the edge shared by two triangles.\r\n     *\r\n     * @private\r\n     * @param edg The edge shared by the two triangles, must have an\r\n     *        adjacent half-edge.\r\n     * @return The new diagonal.\r\n     */\r\n    flipDiagonal(edg) {\r\n        // Flip a diagonal\r\n        //                top                     edg\r\n        //          o  <----- o            o <------  o \r\n        //         | ^ \\      ^           |       ^ / ^\r\n        //      lft|  \\ \\     |        lft|      / /  |\r\n        //         |   \\ \\adj |           |  bot/ /   |\r\n        //         | edg\\ \\   |           |    / /top |\r\n        //         |     \\ \\  |rgt        |   / /     |rgt\r\n        //         v      \\ v |           v  / v      |\r\n        //         o ----->  o            o   ------> o \r\n        //           bot                     adj\r\n        const { triangles, halfedges } = this.del, flips = this.flips, consd = this.consd, adj = halfedges[edg], bot = prevEdge(edg), lft = nextEdge(edg), top = prevEdge(adj), rgt = nextEdge(adj), adjBot = halfedges[bot], adjTop = halfedges[top];\r\n        if (consd.has(edg)) { // || consd.has(adj) // assume consd is consistent\r\n            throw new Error(\"Trying to flip a constrained edge\");\r\n        }\r\n        // move *edg to *top\r\n        triangles[edg] = triangles[top];\r\n        halfedges[edg] = adjTop;\r\n        if (!flips.set(edg, flips.has(top))) {\r\n            consd.set(edg, consd.has(top));\r\n        }\r\n        if (adjTop !== -1) {\r\n            halfedges[adjTop] = edg;\r\n        }\r\n        halfedges[bot] = top;\r\n        // move *adj to *bot\r\n        triangles[adj] = triangles[bot];\r\n        halfedges[adj] = adjBot;\r\n        if (!flips.set(adj, flips.has(bot))) {\r\n            consd.set(adj, consd.has(bot));\r\n        }\r\n        if (adjBot !== -1) {\r\n            halfedges[adjBot] = adj;\r\n        }\r\n        halfedges[top] = bot;\r\n        this.markFlip(edg);\r\n        this.markFlip(lft);\r\n        this.markFlip(adj);\r\n        this.markFlip(rgt);\r\n        // mark flips unconditionally\r\n        flips.add(bot);\r\n        consd.delete(bot);\r\n        flips.add(top);\r\n        consd.delete(top);\r\n        this.updateVert(edg);\r\n        this.updateVert(lft);\r\n        this.updateVert(adj);\r\n        this.updateVert(rgt);\r\n        return bot;\r\n    }\r\n    /**\r\n     * Whether the two triangles sharing edg conform to the Delaunay condition.\r\n     * As a shortcut, if the given edge has no adjacent (is on the hull), it is\r\n     * certainly Delaunay.\r\n     *\r\n     * @private\r\n     * @param edg The edge shared by the triangles to test.\r\n     * @return True if they are Delaunay.\r\n     */\r\n    isDelaunay(edg) {\r\n        const { triangles, halfedges } = this.del, adj = halfedges[edg];\r\n        if (adj === -1) {\r\n            return true;\r\n        }\r\n        const p1 = triangles[prevEdge(edg)], p2 = triangles[edg], p3 = triangles[nextEdge(edg)], px = triangles[prevEdge(adj)];\r\n        return !this.inCircle(p1, p2, p3, px);\r\n    }\r\n    /**\r\n     * Update the vertex -> incoming edge map.\r\n     *\r\n     * @private\r\n     * @param start The id of an *outgoing* edge.\r\n     * @return The id of the right-most incoming edge.\r\n     */\r\n    updateVert(start) {\r\n        const { triangles, halfedges } = this.del, vm = this.vertMap, v = triangles[start];\r\n        // When iterating over incoming edges around a vertex, we do so in\r\n        // clockwise order ('going left'). If the vertex lies on the hull, two\r\n        // of the edges will have no opposite, leaving a gap. If the starting\r\n        // incoming edge is not the right-most, we will miss edges between it\r\n        // and the gap. So walk counter-clockwise until we find an edge on the\r\n        // hull, or get back to where we started.\r\n        let inc = prevEdge(start), adj = halfedges[inc];\r\n        while (adj !== -1 && adj !== start) {\r\n            inc = prevEdge(adj);\r\n            adj = halfedges[inc];\r\n        }\r\n        vm[v] = inc;\r\n        return inc;\r\n    }\r\n    /**\r\n     * Whether the segment between [p1, p2] intersects with [p3, p4]. When the\r\n     * segments share an end-point (e.g. p1 == p3 etc.), they are not considered\r\n     * intersecting.\r\n     *\r\n     * @private\r\n     * @param p1 The index of point 1 into this.del.coords.\r\n     * @param p2 The index of point 2 into this.del.coords.\r\n     * @param p3 The index of point 3 into this.del.coords.\r\n     * @param p4 The index of point 4 into this.del.coords.\r\n     * @return True if the segments intersect.\r\n     */\r\n    intersectSegments(p1, p2, p3, p4) {\r\n        const pts = this.del.coords;\r\n        // If the segments share one of the end-points, they cannot intersect\r\n        // (provided the input is properly segmented, and the triangulation is\r\n        // correct), but intersectSegments will say that they do. We can catch\r\n        // it here already.\r\n        if (p1 === p3 || p1 === p4 || p2 === p3 || p2 === p4) {\r\n            return false;\r\n        }\r\n        return intersectSegments(pts[p1 * 2], pts[p1 * 2 + 1], pts[p2 * 2], pts[p2 * 2 + 1], pts[p3 * 2], pts[p3 * 2 + 1], pts[p4 * 2], pts[p4 * 2 + 1]);\r\n    }\r\n    /**\r\n     * Whether point px is in the circumcircle of the triangle formed by p1, p2,\r\n     * and p3 (which are in counter-clockwise order).\r\n     *\r\n     * @param p1 The index of point 1 into this.del.coords.\r\n     * @param p2 The index of point 2 into this.del.coords.\r\n     * @param p3 The index of point 3 into this.del.coords.\r\n     * @param px The index of point x into this.del.coords.\r\n     * @return True if (px, py) is in the circumcircle.\r\n     */\r\n    inCircle(p1, p2, p3, px) {\r\n        const pts = this.del.coords;\r\n        return incircle(pts[p1 * 2], pts[p1 * 2 + 1], pts[p2 * 2], pts[p2 * 2 + 1], pts[p3 * 2], pts[p3 * 2 + 1], pts[px * 2], pts[px * 2 + 1]) < 0.0;\r\n    }\r\n    /**\r\n     * Whether point p1, p2, and p are collinear.\r\n     *\r\n     * @private\r\n     * @param p1 The index of segment point 1 into this.del.coords.\r\n     * @param p2 The index of segment point 2 into this.del.coords.\r\n     * @param p The index of the point p into this.del.coords.\r\n     * @return True if the points are collinear.\r\n     */\r\n    isCollinear(p1, p2, p) {\r\n        const pts = this.del.coords;\r\n        return orient2d(pts[p1 * 2], pts[p1 * 2 + 1], pts[p2 * 2], pts[p2 * 2 + 1], pts[p * 2], pts[p * 2 + 1]) === 0.0;\r\n    }\r\n}\r\nConstrainautor.intersectSegments = intersectSegments;\r\n/**\r\n * Compute if two line segments [p1, p2] and [p3, p4] intersect.\r\n *\r\n * @name Constrainautor.intersectSegments\r\n * @source https://github.com/mikolalysenko/robust-segment-intersect\r\n * @param p1x The x coordinate of point 1 of the first segment.\r\n * @param p1y The y coordinate of point 1 of the first segment.\r\n * @param p2x The x coordinate of point 2 of the first segment.\r\n * @param p2y The y coordinate of point 2 of the first segment.\r\n * @param p3x The x coordinate of point 1 of the second segment.\r\n * @param p3y The y coordinate of point 1 of the second segment.\r\n * @param p4x The x coordinate of point 2 of the second segment.\r\n * @param p4y The y coordinate of point 2 of the second segment.\r\n * @return True if the line segments intersect.\r\n */\r\nfunction intersectSegments(p1x, p1y, p2x, p2y, p3x, p3y, p4x, p4y) {\r\n    const x0 = orient2d(p1x, p1y, p3x, p3y, p4x, p4y), y0 = orient2d(p2x, p2y, p3x, p3y, p4x, p4y);\r\n    if ((x0 > 0 && y0 > 0) || (x0 < 0 && y0 < 0)) {\r\n        return false;\r\n    }\r\n    const x1 = orient2d(p3x, p3y, p1x, p1y, p2x, p2y), y1 = orient2d(p4x, p4y, p1x, p1y, p2x, p2y);\r\n    if ((x1 > 0 && y1 > 0) || (x1 < 0 && y1 < 0)) {\r\n        return false;\r\n    }\r\n    //Check for degenerate collinear case\r\n    if (x0 === 0 && y0 === 0 && x1 === 0 && y1 === 0) {\r\n        return !(Math.max(p3x, p4x) < Math.min(p1x, p2x) ||\r\n            Math.max(p1x, p2x) < Math.min(p3x, p4x) ||\r\n            Math.max(p3y, p4y) < Math.min(p1y, p2y) ||\r\n            Math.max(p1y, p2y) < Math.min(p3y, p4y));\r\n    }\r\n    return true;\r\n}\n\nexport { Constrainautor as default };\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\r\n// This library is based on\r\n// https://savithru-j.github.io/cdt-js/\r\n// Copyright 2018 Savithru Jayasinghe\r\n// Licensed under the MIT License\r\n// A fast algorithm for generating constrained delaunay triangulations\r\n// https://www.sciencedirect.com/science/article/pii/004579499390239A\r\n// A robust efficient algorithm for point location in triangulations\r\n// https://www.cl.cam.ac.uk/techreports/UCAM-CL-TR-728.pdf\r\n\r\nimport { polygon, featureCollection, FeatureCollection } from \"@turf/helpers\";\r\nimport Delaunator from \"delaunator\"\r\nimport Constrainautor from \"@kninnug/constrainautor\"\r\n\r\ntype Edge = [number, number];\r\n\r\nexport default function (points: FeatureCollection, edges: Edge[], z: string) {\r\n  if (!edges) edges = [];\r\n  if (typeof points !== \"object\" || points.type !== \"FeatureCollection\")\r\n    throw \"Argument points must be FeatureCollection\";\r\n  if (!Array.isArray(edges)) throw \"Argument points must be Array of Array\";\r\n\r\n  const del_points = points.features.map(point => (point.geometry as any).coordinates as number[]);\r\n  let del = Delaunator.from(del_points);\r\n  let con;\r\n  const tris = [];\r\n  if (del.triangles.length !== 0 && edges.length !== 0) {\r\n    con = new Constrainautor(del);\r\n    con.constrainAll(edges);\r\n  }\r\n  for (let i = 0; i < del.triangles.length; i += 3) {\r\n    tris.push([\r\n      del.triangles[i],\r\n      del.triangles[i + 1],\r\n      del.triangles[i + 2]\r\n    ]);\r\n  }\r\n\r\n  const keys = [\"a\", \"b\", \"c\"] as const;\r\n  return featureCollection(\r\n    tris.map(indices => {\r\n      const properties: any = {};\r\n      const coords = indices.map((index, i) => {\r\n        const point = points.features[index];\r\n        const xyz = (point.geometry as any).coordinates as number[];\r\n        const coord: number[] = [xyz[0], xyz[1]];\r\n        if (xyz.length === 3) {\r\n          coord[2] = xyz[2]\r\n        } else {\r\n          properties[keys[i]] = point.properties![z];\r\n        }\r\n        return coord;\r\n      });\r\n      coords[3] = coords[0];\r\n      return polygon([coords], properties);\r\n    })\r\n  );\r\n}\r\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\n\"use strict\";\nimport booleanPointInPolygon from \"./booleanPointInPolygon\";\nimport centroid from \"@turf/centroid\";\nimport convex from \"@turf/convex\";\nimport difference from \"@turf/difference\";\nimport { featureCollection, lineString, point, polygon } from \"@turf/helpers\";\nimport intersect from \"@turf/intersect\";\nimport { getCoords } from \"@turf/invariant\";\nimport lineIntersect from \"@turf/line-intersect\";\nimport union from \"@turf/union\";\nimport {\n  Feature,\n  FeatureCollection,\n  Polygon,\n  Point,\n  Position\n} from \"@turf/turf\";\nimport findIntersections from \"./kinks\";\n\nconst format_version = 2.00703; //(Version 2 format for library version 0.7.3)\n\nimport constrainedTin from \"./constrained-tin\";\n\nexport type VertexMode = \"plain\" | \"birdeye\";\nexport type StrictMode = \"strict\" | \"auto\" | \"loose\";\nexport type StrictStatus = \"strict\" | \"strict_error\" | \"loose\";\nexport type YaxisMode = \"follow\" | \"invert\";\ntype BiDirectionKey = \"forw\" | \"bakw\";\nexport type PointSet = [Position, Position];\ntype Centroid = Feature<Point>;\ntype CentroidBD = { [key in BiDirectionKey]?: Centroid };\ntype EdgeLegacy = {\n  illstNodes: Position[];\n  mercNodes: Position[];\n  startEnd: number[];\n};\nexport type Edge = [Position[], Position[], number[]];\ntype WeightBuffer = { [index: string]: number };\ntype WeightBufferBD = { [key in BiDirectionKey]?: WeightBuffer };\ntype Kinks = FeatureCollection<Point>;\ntype KinksBD = { [key in BiDirectionKey]?: Kinks };\ntype VerticesParams = [number[], FeatureCollection<Polygon>[]?];\ntype VerticesParamsBD = { [key in BiDirectionKey]?: VerticesParams };\ntype PropertyTri = { geom: Position; index: number | string };\ntype PropertyTriKey = \"a\" | \"b\" | \"c\";\ntype PropertiesTri = { [key in PropertyTriKey]: PropertyTri };\ntype Tri = Feature<Polygon, PropertiesTri>;\ntype Tins = FeatureCollection<Polygon, PropertiesTri>;\ntype TinsBD = { [key in BiDirectionKey]?: Tins };\ntype SearchTris = { [key in BiDirectionKey]: Tri };\ntype SearchIndex = { [key: string]: SearchTris[] };\n\ninterface IndexedTins {\n  gridNum: number;\n  xOrigin: number;\n  yOrigin: number;\n  xUnit: number;\n  yUnit: number;\n  gridCache: number[][][];\n}\ntype IndexedTinsBD = { [key in BiDirectionKey]?: IndexedTins };\n\nexport interface Options {\n  bounds: Position[];\n  wh: number[];\n  vertexMode: VertexMode;\n  strictMode: StrictMode;\n  yaxisMode: YaxisMode;\n  importance: number;\n  priority: number;\n  stateFull: boolean;\n  points: PointSet[];\n  edges: Edge[];\n}\n\nexport interface Compiled {\n  version?: number;\n  points: PointSet[];\n  tins_points: (number | string)[][][];\n  weight_buffer: WeightBufferBD;\n  strict_status?: StrictStatus;\n  centroid_point: Position[];\n  edgeNodes?: PointSet[];\n  kinks_points?: Position[];\n  yaxisMode?: YaxisMode;\n  vertexMode?: VertexMode;\n  strictMode?: StrictMode;\n  vertices_params: number[][];\n  vertices_points: PointSet[];\n  edges: Edge[];\n  bounds?: number[][];\n  boundsPolygon?: Feature<Polygon>;\n  wh?: number[];\n  xy?: number[];\n}\n\n// For old Interface\ninterface CompiledLegacy extends Compiled {\n  tins?: TinsBD;\n  centroid?: CentroidBD;\n  kinks?: KinksBD;\n  vertices_params: number[][] & VerticesParamsBD;\n  edges: Edge[] & EdgeLegacy[];\n}\n\nexport default class Tin {\n  static VERTEX_PLAIN = \"plain\" as const;\n  static VERTEX_BIRDEYE = \"birdeye\" as const;\n  static MODE_STRICT = \"strict\" as const;\n  static MODE_AUTO = \"auto\" as const;\n  static MODE_LOOSE = \"loose\" as const;\n  static STATUS_STRICT = \"strict\" as const;\n  static STATUS_ERROR = \"strict_error\" as const;\n  static STATUS_LOOSE = \"loose\" as const;\n  static YAXIS_FOLLOW = \"follow\" as const;\n  static YAXIS_INVERT = \"invert\" as const;\n  bounds?: number[][];\n  boundsPolygon?: Feature<Polygon>;\n  centroid?: CentroidBD;\n  edgeNodes?: PointSet[];\n  edges?: Edge[];\n  importance: number;\n  indexedTins?: IndexedTinsBD;\n  kinks?: KinksBD;\n  points: PointSet[] = [];\n  pointsWeightBuffer?: WeightBufferBD;\n  priority: number;\n  stateBackward?: boolean;\n  stateFull: boolean;\n  stateTriangle?: Tri;\n  strictMode: StrictMode;\n  strict_status?: StrictStatus;\n  tins?: TinsBD;\n  vertexMode?: VertexMode;\n  vertices_params?: VerticesParamsBD;\n  wh?: number[];\n  xy?: number[];\n  yaxisMode: YaxisMode;\n  pointsSet: any;\n\n  constructor(options: Partial<Options> = {} as Options) {\n    if (options.bounds) {\n      this.setBounds(options.bounds);\n    } else {\n      this.setWh(options.wh!);\n      this.vertexMode = options.vertexMode || Tin.VERTEX_PLAIN;\n    }\n    this.strictMode = options.strictMode || Tin.MODE_AUTO;\n    this.yaxisMode = options.yaxisMode || Tin.YAXIS_INVERT;\n    this.importance = options.importance || 0;\n    this.priority = options.priority || 0;\n    this.stateFull = options.stateFull || false;\n    if (options.points) {\n      this.setPoints(options.points);\n    }\n    if (options.edges) {\n      this.setEdges(options.edges);\n    }\n  }\n  getFormatVersion() {\n    return format_version;\n  }\n  setPoints(points: PointSet[]) {\n    if (this.yaxisMode == Tin.YAXIS_FOLLOW) {\n      points = points.map(point => [point[0], [point[1][0], -1 * point[1][1]]]);\n    }\n    this.points = points;\n    this.tins = undefined;\n    this.indexedTins = undefined;\n  }\n  setEdges(edges: Edge[] | EdgeLegacy[] = []) {\n    this.edges = normalizeEdges(edges);\n    this.edgeNodes = undefined;\n    this.tins = undefined;\n    this.indexedTins = undefined;\n  }\n  setBounds(bounds: number[][]) {\n    this.bounds = bounds;\n    let minx = bounds[0][0];\n    let maxx = minx;\n    let miny = bounds[0][1];\n    let maxy = miny;\n    const coords = [bounds[0]];\n    for (let i = 1; i < bounds.length; i++) {\n      const xy = bounds[i];\n      if (xy[0] < minx) minx = xy[0];\n      if (xy[0] > maxx) maxx = xy[0];\n      if (xy[1] < miny) miny = xy[1];\n      if (xy[1] > maxy) maxy = xy[1];\n      coords.push(xy);\n    }\n    coords.push(bounds[0]);\n    this.boundsPolygon = polygon([coords]);\n    this.xy = [minx, miny];\n    this.wh = [maxx - minx, maxy - miny];\n    this.vertexMode = Tin.VERTEX_PLAIN;\n    this.tins = undefined;\n    this.indexedTins = undefined;\n  }\n  setCompiled(compiled: Compiled | CompiledLegacy) {\n    if (\n      compiled.version ||\n      (!(compiled as any).tins && compiled.points && compiled.tins_points)\n    ) {\n      // 新コンパイルロジック\n      // pointsはそのままpoints\n      this.points = compiled.points;\n      // After 0.7.3 Normalizing old formats for weightBuffer\n      this.pointsWeightBuffer =\n        !compiled.version || compiled.version < 2.00703\n          ? ([\"forw\", \"bakw\"] as BiDirectionKey[]).reduce((bd, forb) => {\n              const base = compiled.weight_buffer[forb];\n              if (base) {\n                bd[forb] = Object.keys(base!).reduce((buffer, key) => {\n                  const normKey = normalizeNodeKey(key);\n                  buffer[normKey] = base![key];\n                  return buffer;\n                }, {} as WeightBuffer);\n              }\n              return bd;\n            }, {} as WeightBufferBD)\n          : compiled.weight_buffer;\n      // kinksやtinsの存在状況でstrict_statusを判定\n      if (compiled.strict_status) {\n        this.strict_status = compiled.strict_status;\n      } else if (compiled.kinks_points) {\n        this.strict_status = Tin.STATUS_ERROR;\n      } else if (compiled.tins_points.length == 2) {\n        this.strict_status = Tin.STATUS_LOOSE;\n      } else {\n        this.strict_status = Tin.STATUS_STRICT;\n      }\n      // vertices_paramsを復元\n      this.vertices_params = {\n        forw: [(compiled.vertices_params as number[][])[0]],\n        bakw: [(compiled.vertices_params as number[][])[1]]\n      };\n      this.vertices_params.forw![1] = [0, 1, 2, 3].map(idx => {\n        const idxNxt = (idx + 1) % 4;\n        const tri = indexesToTri(\n          [\"c\", `b${idx}`, `b${idxNxt}`],\n          compiled.points,\n          compiled.edgeNodes || [],\n          compiled.centroid_point,\n          compiled.vertices_points,\n          false,\n          format_version\n        );\n        return featureCollection([tri]);\n      });\n      this.vertices_params.bakw![1] = [0, 1, 2, 3].map(idx => {\n        const idxNxt = (idx + 1) % 4;\n        const tri = indexesToTri(\n          [\"c\", `b${idx}`, `b${idxNxt}`],\n          compiled.points,\n          compiled.edgeNodes || [],\n          compiled.centroid_point,\n          compiled.vertices_points,\n          true,\n          format_version\n        );\n        return featureCollection([tri]);\n      });\n      // centroidを復元\n      this.centroid = {\n        forw: point(compiled.centroid_point[0], {\n          target: {\n            geom: compiled.centroid_point[1],\n            index: \"c\"\n          }\n        }),\n        bakw: point(compiled.centroid_point[1], {\n          target: {\n            geom: compiled.centroid_point[0],\n            index: \"c\"\n          }\n        })\n      };\n      // edgesを復元\n      this.edges = normalizeEdges(compiled.edges || []);\n      this.edgeNodes = compiled.edgeNodes || [];\n      // tinsを復元\n      const bakwI = compiled.tins_points.length == 1 ? 0 : 1;\n      this.tins = {\n        forw: featureCollection(\n          compiled.tins_points[0].map((idxes: any) =>\n            indexesToTri(\n              idxes,\n              compiled.points,\n              compiled.edgeNodes || [],\n              compiled.centroid_point,\n              compiled.vertices_points,\n              false,\n              compiled.version\n            )\n          )\n        ),\n        bakw: featureCollection(\n          compiled.tins_points[bakwI].map((idxes: any) =>\n            indexesToTri(\n              idxes,\n              compiled.points,\n              compiled.edgeNodes || [],\n              compiled.centroid_point,\n              compiled.vertices_points,\n              true,\n              compiled.version\n            )\n          )\n        )\n      };\n      this.addIndexedTin();\n      // kinksを復元\n      if (compiled.kinks_points) {\n        this.kinks = {\n          bakw: featureCollection(\n            compiled.kinks_points.map((coord: Position) => point(coord))\n          )\n        };\n      }\n      // yaxisModeを復元\n      if (compiled.yaxisMode) {\n        this.yaxisMode = compiled.yaxisMode;\n      } else {\n        this.yaxisMode = Tin.YAXIS_INVERT;\n      }\n      // After 0.7.3: Restore strict_mode & vertex_mode\n      if (compiled.vertexMode) {\n        this.vertexMode = compiled.vertexMode;\n      }\n      if (compiled.strictMode) {\n        this.strictMode = compiled.strictMode;\n      }\n      // boundsを復元\n      if (compiled.bounds) {\n        this.bounds = compiled.bounds;\n        this.boundsPolygon = compiled.boundsPolygon;\n        this.xy = compiled.xy;\n        this.wh = compiled.wh;\n      } else {\n        this.xy = [0, 0];\n        if (compiled.wh) this.wh = compiled.wh;\n        this.bounds = undefined;\n        this.boundsPolygon = undefined;\n      }\n    } else {\n      // 旧コンパイルロジック\n      compiled = JSON.parse(\n        JSON.stringify(compiled)\n          .replace('\"cent\"', '\"c\"')\n          .replace(/\"bbox(\\d+)\"/g, '\"b$1\"')\n      );\n      this.tins = (compiled as CompiledLegacy).tins;\n      this.addIndexedTin();\n      this.strict_status = compiled.strict_status;\n      this.pointsWeightBuffer = compiled.weight_buffer;\n      this.vertices_params = compiled.vertices_params as VerticesParamsBD;\n      this.centroid = (compiled as CompiledLegacy).centroid;\n      this.kinks = (compiled as CompiledLegacy).kinks;\n      const points: any = [];\n      for (let i = 0; i < this.tins!.forw!.features.length; i++) {\n        const tri = this.tins!.forw!.features[i];\n        ([\"a\", \"b\", \"c\"] as PropertyTriKey[]).map((key, idx) => {\n          const forw = tri.geometry!.coordinates[0][idx];\n          const bakw = tri.properties![key].geom;\n          const pIdx = tri.properties![key].index;\n          points[pIdx] = [forw, bakw];\n        });\n      }\n      this.points = points;\n    }\n    // 翻訳したオブジェクトを返す\n    return {\n      tins: this.tins,\n      strict_status: this.strict_status,\n      weight_buffer: this.pointsWeightBuffer,\n      vertices_params: this.vertices_params,\n      centroid: this.centroid,\n      kinks: this.kinks\n    };\n  }\n  getCompiled(): Compiled {\n    const compiled: Partial<Compiled> = {};\n    // 新compileロジック\n    // Formatバージョン\n    compiled.version = format_version;\n    // points, weightBufferはそのまま保存\n    compiled.points = this.points;\n    compiled.weight_buffer = this.pointsWeightBuffer;\n    // centroidは座標の対応のみ保存\n    compiled.centroid_point = [\n      this.centroid!.forw!.geometry!.coordinates,\n      this.centroid!.forw!.properties!.target.geom\n    ];\n    // vertices_paramsの最初の値はそのまま保存\n    compiled.vertices_params = [\n      this.vertices_params!.forw![0],\n      this.vertices_params!.bakw![0]\n    ];\n    // vertices_paramsの2番目の値（セントロイドと地図頂点の三角形ポリゴン）は、地図頂点座標のみ記録\n    compiled.vertices_points = [];\n    const vertices = this.vertices_params!.forw![1];\n    [0, 1, 2, 3].map(i => {\n      const vertex_data = vertices![i].features[0];\n      const forw = vertex_data.geometry!.coordinates[0][1];\n      const bakw = vertex_data.properties!.b.geom;\n      compiled.vertices_points![i] = [forw, bakw];\n    });\n    compiled.strict_status = this.strict_status;\n    // tinは座標インデックスのみ記録\n    compiled.tins_points = [[]];\n    this.tins!.forw!.features.map((tin: Tri) => {\n      compiled.tins_points![0].push(\n        ([\"a\", \"b\", \"c\"] as PropertyTriKey[]).map(\n          idx => tin.properties![idx]!.index\n        )\n      );\n    });\n    // 自動モードでエラーがある時（loose）は、逆方向のtinも記録。\n    // 厳格モードでエラーがある時（strict_error）は、エラー点情報(kinks)を記録。\n    if (this.strict_status == Tin.STATUS_LOOSE) {\n      compiled.tins_points[1] = [];\n      this.tins!.bakw!.features.map((tin: Tri) => {\n        compiled.tins_points![1].push(\n          ([\"a\", \"b\", \"c\"] as PropertyTriKey[]).map(\n            idx => tin.properties![idx]!.index\n          )\n        );\n      });\n    } else if (this.strict_status == Tin.STATUS_ERROR) {\n      compiled.kinks_points = this.kinks!.bakw!.features.map(\n        (kink: Feature<Point>) => kink.geometry!.coordinates\n      );\n    }\n    // After 0.7.3: Freeze strict_mode & vertex_mode & Update yAxis logic\n    compiled.yaxisMode = this.yaxisMode;\n    compiled.vertexMode = this.vertexMode;\n    compiled.strictMode = this.strictMode;\n    // bounds対応\n    if (this.bounds) {\n      compiled.bounds = this.bounds;\n      compiled.boundsPolygon = this.boundsPolygon;\n      compiled.xy = this.xy;\n      compiled.wh = this.wh;\n    } else {\n      compiled.wh = this.wh;\n    }\n    // edge対応\n    compiled.edges = this.edges;\n    compiled.edgeNodes = this.edgeNodes;\n    return compiled as Compiled;\n  }\n  addIndexedTin() {\n    const tins = this.tins!;\n    const forw = tins.forw;\n    const bakw = tins.bakw;\n    const gridNum = Math.ceil(Math.sqrt(forw!.features.length));\n    if (gridNum < 3) {\n      this.indexedTins = undefined;\n      return;\n    }\n    let forwBound: Position[] = [];\n    let bakwBound: Position[] = [];\n    const forwEachBound = forw!.features.map((tri: Tri) => {\n      let eachBound: Position[] = [];\n      getCoords(tri)[0].map((point: Position) => {\n        if (forwBound.length === 0)\n          forwBound = [Array.from(point), Array.from(point)];\n        else {\n          if (point[0] < forwBound[0][0]) forwBound[0][0] = point[0];\n          if (point[0] > forwBound[1][0]) forwBound[1][0] = point[0];\n          if (point[1] < forwBound[0][1]) forwBound[0][1] = point[1];\n          if (point[1] > forwBound[1][1]) forwBound[1][1] = point[1];\n        }\n        if (eachBound.length === 0)\n          eachBound = [Array.from(point), Array.from(point)];\n        else {\n          if (point[0] < eachBound[0][0]) eachBound[0][0] = point[0];\n          if (point[0] > eachBound[1][0]) eachBound[1][0] = point[0];\n          if (point[1] < eachBound[0][1]) eachBound[0][1] = point[1];\n          if (point[1] > eachBound[1][1]) eachBound[1][1] = point[1];\n        }\n      });\n      return eachBound;\n    });\n    const forwXUnit = (forwBound[1][0] - forwBound[0][0]) / gridNum;\n    const forwYUnit = (forwBound[1][1] - forwBound[0][1]) / gridNum;\n    const forwGridCache = forwEachBound.reduce(\n      (prev: number[][][], bound: Position[], index: number) => {\n        const normXMin = unitCalc(\n          bound[0][0],\n          forwBound[0][0],\n          forwXUnit,\n          gridNum\n        );\n        const normXMax = unitCalc(\n          bound[1][0],\n          forwBound[0][0],\n          forwXUnit,\n          gridNum\n        );\n        const normYMin = unitCalc(\n          bound[0][1],\n          forwBound[0][1],\n          forwYUnit,\n          gridNum\n        );\n        const normYMax = unitCalc(\n          bound[1][1],\n          forwBound[0][1],\n          forwYUnit,\n          gridNum\n        );\n        for (let cx = normXMin; cx <= normXMax; cx++) {\n          if (!prev[cx]) prev[cx] = [];\n          for (let cy = normYMin; cy <= normYMax; cy++) {\n            if (!prev[cx][cy]) prev[cx][cy] = [];\n            prev[cx][cy].push(index);\n          }\n        }\n        return prev;\n      },\n      []\n    );\n    const bakwEachBound = bakw!.features.map((tri: Tri) => {\n      let eachBound: Position[] = [];\n      getCoords(tri)[0].map((point: Position) => {\n        if (bakwBound.length === 0)\n          bakwBound = [Array.from(point), Array.from(point)];\n        else {\n          if (point[0] < bakwBound[0][0]) bakwBound[0][0] = point[0];\n          if (point[0] > bakwBound[1][0]) bakwBound[1][0] = point[0];\n          if (point[1] < bakwBound[0][1]) bakwBound[0][1] = point[1];\n          if (point[1] > bakwBound[1][1]) bakwBound[1][1] = point[1];\n        }\n        if (eachBound.length === 0)\n          eachBound = [Array.from(point), Array.from(point)];\n        else {\n          if (point[0] < eachBound[0][0]) eachBound[0][0] = point[0];\n          if (point[0] > eachBound[1][0]) eachBound[1][0] = point[0];\n          if (point[1] < eachBound[0][1]) eachBound[0][1] = point[1];\n          if (point[1] > eachBound[1][1]) eachBound[1][1] = point[1];\n        }\n      });\n      return eachBound;\n    });\n    const bakwXUnit = (bakwBound[1][0] - bakwBound[0][0]) / gridNum;\n    const bakwYUnit = (bakwBound[1][1] - bakwBound[0][1]) / gridNum;\n    const bakwGridCache = bakwEachBound.reduce(\n      (prev: any, bound: any, index: number) => {\n        const normXMin = unitCalc(\n          bound[0][0],\n          bakwBound[0][0],\n          bakwXUnit,\n          gridNum\n        );\n        const normXMax = unitCalc(\n          bound[1][0],\n          bakwBound[0][0],\n          bakwXUnit,\n          gridNum\n        );\n        const normYMin = unitCalc(\n          bound[0][1],\n          bakwBound[0][1],\n          bakwYUnit,\n          gridNum\n        );\n        const normYMax = unitCalc(\n          bound[1][1],\n          bakwBound[0][1],\n          bakwYUnit,\n          gridNum\n        );\n        for (let cx = normXMin; cx <= normXMax; cx++) {\n          if (!prev[cx]) prev[cx] = [];\n          for (let cy = normYMin; cy <= normYMax; cy++) {\n            if (!prev[cx][cy]) prev[cx][cy] = [];\n            prev[cx][cy].push(index);\n          }\n        }\n        return prev;\n      },\n      []\n    );\n    this.indexedTins = {\n      forw: {\n        gridNum,\n        xOrigin: forwBound[0][0],\n        yOrigin: forwBound[0][1],\n        xUnit: forwXUnit,\n        yUnit: forwYUnit,\n        gridCache: forwGridCache\n      },\n      bakw: {\n        gridNum,\n        xOrigin: bakwBound[0][0],\n        yOrigin: bakwBound[0][1],\n        xUnit: bakwXUnit,\n        yUnit: bakwYUnit,\n        gridCache: bakwGridCache\n      }\n    };\n  }\n  setWh(wh: number[]) {\n    this.wh = wh;\n    this.xy = [0, 0];\n    this.bounds = undefined;\n    this.boundsPolygon = undefined;\n    this.tins = undefined;\n    this.indexedTins = undefined;\n  }\n  setVertexMode(mode: VertexMode) {\n    this.vertexMode = mode;\n    this.tins = undefined;\n    this.indexedTins = undefined;\n  }\n  setStrictMode(mode: StrictMode) {\n    this.strictMode = mode;\n    this.tins = undefined;\n    this.indexedTins = undefined;\n  }\n  calcurateStrictTinAsync() {\n    const edges = this.pointsSet.edges;\n    return Promise.all(\n      this.tins!.forw!.features.map((tri: Tri) =>\n        Promise.resolve(counterTri(tri))\n      )\n    )\n      .then((tris: Tri[]) => {\n        this.tins!.bakw = featureCollection(tris);\n      })\n      .then(() => {\n        const searchIndex: SearchIndex = {};\n        return Promise.all(\n          this.tins!.forw!.features.map((forTri: Tri, index: number) => {\n            const bakTri: Tri = this.tins!.bakw!.features[index];\n            return Promise.resolve(\n              insertSearchIndex(searchIndex, { forw: forTri, bakw: bakTri })\n            );\n          })\n        )\n          .then(() =>\n            Promise.all([\n              overlapCheckAsync(searchIndex),\n              Promise.resolve(searchIndex)\n            ])\n          )\n          .catch(err => {\n            throw err;\n          });\n      })\n      .then((prevResult: [any, SearchIndex]) => {\n        const overlapped = prevResult[0];\n        const searchIndex = prevResult[1];\n        if (overlapped.bakw)\n          Object.keys(overlapped.bakw).map(key => {\n            if (overlapped.bakw[key] == \"Not include case\") return;\n            const trises = searchIndex[key];\n            const forUnion = union(trises[0].forw, trises[1].forw);\n            const forConvex = convex(\n              featureCollection([trises[0].forw, trises[1].forw])\n            );\n            const forDiff = difference(forConvex!, forUnion!);\n            if (forDiff) return;\n            const splittedKey = key.split(\"-\");\n            if (\n              splittedKey[0].match(/^[0-9]+$/) &&\n              splittedKey[1].match(/^[0-9]+$/)\n            ) {\n              const numberKey = splittedKey\n                .map(key => parseInt(key))\n                .sort((a, b) => (a < b ? -1 : 1));\n              for (let i = 0; i < edges.length - 1; i++) {\n                if (numberKey[0] == edges[i][0] && numberKey[1] == edges[i][1])\n                  return;\n              }\n            }\n            const sharedVtx = splittedKey.map(\n              val =>\n                ([\"a\", \"b\", \"c\"] as PropertyTriKey[])\n                  .map((alpha, index) => {\n                    const prop = trises[0].bakw.properties![alpha];\n                    const geom = trises[0].bakw.geometry!.coordinates[0][index];\n                    return { geom, prop };\n                  })\n                  .filter(vtx => vtx.prop.index == val)[0]\n            );\n            const nonSharedVtx = trises.map(\n              (tris: any) =>\n                [\"a\", \"b\", \"c\"]\n                  .map((alpha, index) => {\n                    const prop = tris.bakw.properties[alpha];\n                    const geom = tris.bakw.geometry.coordinates[0][index];\n                    return { geom, prop };\n                  })\n                  .filter(\n                    vtx =>\n                      vtx.prop.index != sharedVtx[0].prop.index &&\n                      vtx.prop.index != sharedVtx[1].prop.index\n                  )[0]\n            );\n            removeSearchIndex(searchIndex, trises[0], this.tins);\n            removeSearchIndex(searchIndex, trises[1], this.tins);\n            sharedVtx.map(sVtx => {\n              const newTriCoords = [\n                sVtx.geom,\n                nonSharedVtx[0].geom,\n                nonSharedVtx[1].geom,\n                sVtx.geom\n              ];\n              const newTriProp = {\n                a: sVtx.prop,\n                b: nonSharedVtx[0].prop,\n                c: nonSharedVtx[1].prop\n              };\n              const newBakTri = polygon([newTriCoords], newTriProp);\n              const newForTri = counterTri(newBakTri);\n              insertSearchIndex(\n                searchIndex,\n                { forw: newForTri, bakw: newBakTri },\n                this.tins\n              );\n            });\n          });\n        return Promise.all(\n          ([\"forw\", \"bakw\"] as BiDirectionKey[]).map(direc =>\n            new Promise(resolve => {\n              const coords = this.tins![direc]!.features.map(\n                poly => poly.geometry!.coordinates[0]\n              );\n              resolve(findIntersections(coords));\n            }).catch(err => {\n              throw err;\n            })\n          )\n        )\n          .then((result: any) => {\n            if (result[0].length == 0 && result[1].length == 0) {\n              this.strict_status = Tin.STATUS_STRICT;\n              delete this.kinks;\n            } else {\n              this.strict_status = Tin.STATUS_ERROR;\n              this.kinks = {};\n              if (result[0].length > 0)\n                this.kinks.forw = featureCollection(result[0]);\n              if (result[1].length > 0)\n                this.kinks.bakw = featureCollection(result[1]);\n            }\n          })\n          .catch(err => {\n            throw err;\n          });\n      })\n      .catch(err => {\n        throw err;\n      });\n  }\n  generatePointsSet() {\n    const pointsArray = { forw: [] as any[], bakw: [] as any[] };\n    for (let i = 0; i < this.points.length; i++) {\n      const mapxy = this.points[i][0];\n      const mercs = this.points[i][1];\n      const forPoint = createPoint(mapxy, mercs, i);\n      pointsArray.forw.push(forPoint as any);\n      pointsArray.bakw.push(counterPoint(forPoint));\n    }\n    const edges = [];\n    let edgeNodeIndex = 0;\n    this.edgeNodes = [];\n    if (!this.edges) this.edges = [];\n    for (let i = 0; i < this.edges.length; i++) {\n      const startEnd = this.edges[i][2];\n      const illstNodes = Object.assign([], this.edges[i][0]);\n      const mercNodes = Object.assign([], this.edges[i][1]);\n      if (illstNodes.length === 0 && mercNodes.length === 0) {\n        edges.push(startEnd);\n        continue;\n      }\n      illstNodes.unshift(this.points[startEnd[0]][0]);\n      illstNodes.push(this.points[startEnd[1]][0]);\n      mercNodes.unshift(this.points[startEnd[0]][1]);\n      mercNodes.push(this.points[startEnd[1]][1]);\n      const lengths = [illstNodes, mercNodes].map(nodes => {\n        const eachLengths = nodes.map((node: any, index: any, arr: any) => {\n          if (index === 0) return 0;\n          const prev = arr[index - 1];\n          return Math.sqrt(\n            Math.pow(node[0] - prev[0], 2) + Math.pow(node[1] - prev[1], 2)\n          );\n        });\n        const sumLengths = eachLengths.reduce(\n          (prev: any, node: any, index: any) => {\n            if (index === 0) return [0];\n            prev.push(prev[index - 1] + node);\n            return prev;\n          },\n          []\n        );\n        return sumLengths.map((eachSum: any, index: any, arr: any) => {\n          const ratio = eachSum / arr[arr.length - 1];\n          return [nodes[index], eachLengths[index], sumLengths[index], ratio];\n        });\n      });\n      lengths\n        .map((thisLengths, i) => {\n          const anotherLengths = lengths[i ? 0 : 1];\n          return thisLengths\n            .filter(\n              (val: any, index: any) =>\n                !(\n                  index === 0 ||\n                  index === thisLengths.length - 1 ||\n                  val[4] === \"handled\"\n                )\n            )\n            .map((lengthItem: any) => {\n              const node = lengthItem[0];\n              const ratio = lengthItem[3];\n              const anotherSets = anotherLengths.reduce(\n                (prev: any, item: any, index: any, arr: any) => {\n                  if (prev) return prev;\n                  const next = arr[index + 1];\n                  if (item[3] === ratio) {\n                    item[4] = \"handled\";\n                    return [item];\n                  }\n                  if (item[3] < ratio && next[3] > ratio) return [item, next];\n                  return;\n                },\n                undefined\n              );\n              if (anotherSets.length === 1) {\n                return i === 0\n                  ? [node, anotherSets[0][0], ratio]\n                  : [anotherSets[0][0], node, ratio];\n              } else {\n                const anotherPrev = anotherSets[0];\n                const anotherNext = anotherSets[1];\n                const ratioDelta = ratio - anotherPrev[3];\n                const ratioAnother = anotherNext[3] - anotherPrev[3];\n                const ratioInEdge = ratioDelta / ratioAnother;\n                const anotherNode = [\n                  (anotherNext[0][0] - anotherPrev[0][0]) * ratioInEdge +\n                    anotherPrev[0][0],\n                  (anotherNext[0][1] - anotherPrev[0][1]) * ratioInEdge +\n                    anotherPrev[0][1]\n                ];\n                return i === 0\n                  ? [node, anotherNode, ratio]\n                  : [anotherNode, node, ratio];\n              }\n            });\n        })\n        .reduce((prev, nodes) => prev.concat(nodes), [])\n        .sort((a: any, b: any) => (a[2] < b[2] ? -1 : 1))\n        .map((node: any, index: any, arr: any) => {\n          this.edgeNodes![edgeNodeIndex] = [node[0], node[1]];\n          const forPoint = createPoint(node[0], node[1], `e${edgeNodeIndex}`);\n          edgeNodeIndex++;\n          pointsArray.forw.push(forPoint);\n          pointsArray.bakw.push(counterPoint(forPoint));\n          if (index === 0) {\n            edges.push([startEnd[0], pointsArray.forw.length - 1]);\n          } else {\n            edges.push([\n              pointsArray.forw.length - 2,\n              pointsArray.forw.length - 1\n            ]);\n          }\n          if (index === arr.length - 1) {\n            edges.push([pointsArray.forw.length - 1, startEnd[1]]);\n          }\n        });\n    }\n    return {\n      forw: featureCollection(pointsArray.forw),\n      bakw: featureCollection(pointsArray.bakw),\n      edges\n    };\n  }\n  updateTinAsync() {\n    let strict = this.strictMode;\n    const minx = this.xy![0] - 0.05 * this.wh![0];\n    const maxx = this.xy![0] + 1.05 * this.wh![0];\n    const miny = this.xy![1] - 0.05 * this.wh![1];\n    const maxy = this.xy![1] + 1.05 * this.wh![1];\n    const insideCheck = this.bounds\n      ? (xy: any) => booleanPointInPolygon(xy, this.boundsPolygon!)\n      : (xy: any) =>\n          xy[0] >= this.xy![0] &&\n          xy[0] <= this.xy![0] + this.wh![0] &&\n          xy[1] >= this.xy![1] &&\n          xy[1] <= this.xy![1] + this.wh![1];\n    const inside = this.points.reduce(\n      (prev: any, curr: any) => prev && insideCheck(curr[0]),\n      true\n    );\n    if (!inside) {\n      return new Promise((resolve, reject) => {\n        reject(\"SOME POINTS OUTSIDE\");\n      });\n    }\n    return new Promise(resolve => {\n      if (strict != Tin.MODE_STRICT && strict != Tin.MODE_LOOSE)\n        strict = Tin.MODE_AUTO;\n      let bbox: any = [];\n      if (this.wh) {\n        bbox = [\n          [minx, miny],\n          [maxx, miny],\n          [minx, maxy],\n          [maxx, maxy]\n        ];\n      }\n      const pointsSet = this.generatePointsSet();\n      resolve([pointsSet, bbox]);\n    })\n      .then((prevResults: any) => {\n        const pointsSet = prevResults[0];\n        // Forward TIN for calcurating Backward Centroid and Backward Vertices\n        return Promise.all([\n          new Promise(resolve => {\n            resolve(constrainedTin(pointsSet.forw, pointsSet.edges, \"target\"));\n          }),\n          new Promise(resolve => {\n            resolve(constrainedTin(pointsSet.bakw, pointsSet.edges, \"target\"));\n          }),\n          new Promise(resolve => {\n            resolve(centroid(pointsSet.forw));\n          }),\n          Promise.resolve(prevResults)\n        ]).catch(err => {\n          throw err;\n        });\n      })\n      .then(prevResults => {\n        const tinForCentroid: any = prevResults[0];\n        const tinBakCentroid: any = prevResults[1];\n        const forCentroidFt: any = prevResults[2];\n        const pointsSetBbox: any = prevResults[3];\n        const pointsSet: any = pointsSetBbox[0];\n        if (\n          tinForCentroid.features.length == 0 ||\n          tinBakCentroid.features.length == 0\n        )\n          throw \"TOO LINEAR1\";\n        // Calcurating Forward/Backward Centroid\n        const centroid = {\n          forw: forCentroidFt.geometry.coordinates,\n          bakw: transformArr(forCentroidFt, tinForCentroid)\n        };\n        const forwBuf = createPoint(centroid.forw, centroid.bakw, \"c\");\n        this.centroid = {\n          forw: forwBuf,\n          bakw: counterPoint(forwBuf)\n        };\n        const convexBuf: any = {};\n        return Promise.all([\n          new Promise(resolve => {\n            const forConvex = (convex(pointsSet.forw)!.geometry as any)\n              .coordinates[0];\n            let vconvex;\n            try {\n              vconvex = forConvex.map((forw: any) => ({\n                forw,\n                bakw: transformArr(point(forw), tinForCentroid)\n              }));\n            } catch (e) {\n              throw \"TOO LINEAR2\";\n            }\n            vconvex.map((vertex: any) => {\n              convexBuf[`${vertex.forw[0]}:${vertex.forw[1]}`] = vertex;\n            });\n            resolve(undefined);\n          }),\n          new Promise(resolve => {\n            const bakConvex = (convex(pointsSet.bakw)!.geometry as any)\n              .coordinates[0];\n            let vconvex;\n            try {\n              vconvex = bakConvex.map((bakw: any) => ({\n                bakw,\n                forw: transformArr(point(bakw), tinBakCentroid)\n              }));\n            } catch (e) {\n              throw \"TOO LINEAR2\";\n            }\n            vconvex.map((vertex: any) => {\n              convexBuf[`${vertex.forw[0]}:${vertex.forw[1]}`] = vertex;\n            });\n            resolve(undefined);\n          })\n        ])\n          .then(() => [centroid, convexBuf, pointsSetBbox])\n          .catch(err => {\n            throw err;\n          });\n      })\n      .then(prevResults => {\n        const centroid = prevResults[0];\n        const convexBuf = prevResults[1];\n        const pointsSetBbox = prevResults[2];\n        // Calcurating Convex full to get Convex full polygon's vertices\n        const expandConvex = Object.keys(convexBuf).reduce(\n          (prev, key, _, _array) => {\n            const forVertex = convexBuf[key].forw;\n            const bakVertex = convexBuf[key].bakw;\n            // Convexhullの各頂点に対し、重心からの差分を取る\n            const vertexDelta = {\n              forw: [\n                forVertex[0] - centroid.forw[0],\n                forVertex[1] - centroid.forw[1]\n              ]\n            };\n            (vertexDelta as any).bakw = [\n              bakVertex[0] - centroid.bakw[0],\n              bakVertex[1] - centroid.bakw[1]\n            ];\n            // X軸方向、Y軸方向それぞれに対し、地図外郭XY座標との重心との比を取る\n            const xRate =\n              vertexDelta.forw[0] == 0\n                ? Infinity\n                : ((vertexDelta.forw[0] < 0 ? minx : maxx) - centroid.forw[0]) /\n                  vertexDelta.forw[0];\n            const yRate =\n              vertexDelta.forw[1] == 0\n                ? Infinity\n                : ((vertexDelta.forw[1] < 0 ? miny : maxy) - centroid.forw[1]) /\n                  vertexDelta.forw[1];\n            // xRate, yRateが同じ値であれば重心と地図頂点を結ぶ線上に乗る\n            if (Math.abs(xRate) / Math.abs(yRate) < 1.1) {\n              const point = {\n                forw: [\n                  vertexDelta.forw[0] * xRate + centroid.forw[0],\n                  vertexDelta.forw[1] * xRate + centroid.forw[1]\n                ],\n                bakw: [\n                  (vertexDelta as any).bakw[0] * xRate + centroid.bakw[0],\n                  (vertexDelta as any).bakw[1] * xRate + centroid.bakw[1]\n                ]\n              };\n              if (vertexDelta.forw[0] < 0) (prev[3] as any[]).push(point);\n              else (prev[1] as any[]).push(point);\n            }\n            if (Math.abs(yRate) / Math.abs(xRate) < 1.1) {\n              const point = {\n                forw: [\n                  vertexDelta.forw[0] * yRate + centroid.forw[0],\n                  vertexDelta.forw[1] * yRate + centroid.forw[1]\n                ],\n                bakw: [\n                  (vertexDelta as any).bakw[0] * yRate + centroid.bakw[0],\n                  (vertexDelta as any).bakw[1] * yRate + centroid.bakw[1]\n                ]\n              };\n              if (vertexDelta.forw[1] < 0) (prev[0] as any[]).push(point);\n              else (prev[2] as any[]).push(point);\n            }\n            return prev;\n          },\n          [[], [], [], []]\n        );\n        // Calcurating Average scaling factors and rotation factors per orthants\n        let orthant = Object.keys(convexBuf)\n          .reduce(\n            (prev, key, idx, array) => {\n              const forVertex = convexBuf[key].forw;\n              const bakVertex = convexBuf[key].bakw;\n              const vertexDelta = {\n                forw: [\n                  forVertex[0] - centroid.forw[0],\n                  forVertex[1] - centroid.forw[1]\n                ]\n              };\n              (vertexDelta as any).bakw = [\n                bakVertex[0] - centroid.bakw[0],\n                centroid.bakw[1] - bakVertex[1]\n              ];\n              if (vertexDelta.forw[0] == 0 || vertexDelta.forw[1] == 0)\n                return prev;\n              let index = 0;\n              if (vertexDelta.forw[0] > 0) index += 1;\n              if (vertexDelta.forw[1] > 0) index += 2;\n              (prev[index] as any[]).push([\n                vertexDelta.forw,\n                (vertexDelta as any).bakw\n              ]);\n              if (idx == array.length - 1) {\n                // If some orthants have no Convex full polygon's vertices, use same average factor to every orthants\n                return prev.length ==\n                  prev.filter(val => val.length > 0).length &&\n                  this.vertexMode == Tin.VERTEX_BIRDEYE\n                  ? prev\n                  : prev.reduce((pre, cur) => [pre[0].concat(cur)], [[]]);\n              }\n              return prev;\n            },\n            [[], [], [], []]\n          )\n          .map(item =>\n            // Finalize calcuration of Average scaling factors and rotation factors\n            item.reduce(\n              (prev: number[] | null, curr: any, index: number, arr: any[]) => {\n                if (!prev) prev = [Infinity, 0, 0];\n                // if (!prev) prev = [0, 0, 0];\n                // var distanceSum = prev[0] + Math.sqrt(Math.pow(curr[0][0], 2) + Math.pow(curr[0][1], 2)) /\n                //     Math.sqrt(Math.pow(curr[1][0], 2) + Math.pow(curr[1][1], 2));\n                let distanceSum =\n                  Math.sqrt(Math.pow(curr[0][0], 2) + Math.pow(curr[0][1], 2)) /\n                  Math.sqrt(Math.pow(curr[1][0], 2) + Math.pow(curr[1][1], 2));\n                distanceSum = distanceSum < prev[0] ? distanceSum : prev[0];\n                const thetaDelta =\n                  Math.atan2(curr[0][0], curr[0][1]) -\n                  Math.atan2(curr[1][0], curr[1][1]);\n                const sumThetaX = prev[1] + Math.cos(thetaDelta);\n                const sumThetaY = prev[2] + Math.sin(thetaDelta);\n                if (index == arr.length - 1) {\n                  // return [distanceSum / arr.length, Math.atan2(sumThetaY, sumThetaX)];\n                  return [distanceSum, Math.atan2(sumThetaY, sumThetaX)];\n                }\n                return [distanceSum, sumThetaX, sumThetaY];\n              },\n              null\n            )\n          );\n        // \"Using same average factor to every orthants\" case\n        if (orthant.length == 1)\n          orthant = [orthant[0], orthant[0], orthant[0], orthant[0]];\n        return [orthant, centroid, expandConvex, pointsSetBbox];\n      })\n      .then(prevResults => {\n        const orthant = prevResults[0];\n        const centroid = prevResults[1];\n        const expandConvex = prevResults[2];\n        const pointsSet = prevResults[3][0];\n        const bbox = prevResults[3][1];\n        // Calcurating Backward Bounding box of map\n        let verticesSet = orthant.map((delta: any, index: any) => {\n          const forVertex = bbox[index];\n          const forDelta = [\n            forVertex[0] - centroid.forw[0],\n            forVertex[1] - centroid.forw[1]\n          ];\n          const forDistance = Math.sqrt(\n            Math.pow(forDelta[0], 2) + Math.pow(forDelta[1], 2)\n          );\n          const bakDistance = forDistance / delta[0];\n          const forTheta = Math.atan2(forDelta[0], forDelta[1]);\n          const bakTheta = forTheta - delta[1];\n          const bakVertex = [\n            centroid.bakw[0] + bakDistance * Math.sin(bakTheta),\n            centroid.bakw[1] - bakDistance * Math.cos(bakTheta)\n          ];\n          return { forw: forVertex, bakw: bakVertex };\n        });\n        const swap = verticesSet[2];\n        verticesSet[2] = verticesSet[3];\n        verticesSet[3] = swap;\n        // Bounding Boxの頂点を、全てのgcpが内部に入るように引き延ばす\n        const expandRate = [1, 1, 1, 1];\n        for (let i = 0; i < 4; i++) {\n          const j = (i + 1) % 4;\n          const side = lineString([verticesSet[i].bakw, verticesSet[j].bakw]);\n          const expands = expandConvex[i];\n          expands.map((expand: any) => {\n            const expandLine = lineString([centroid.bakw, expand.bakw]);\n            const intersect = lineIntersect(side, expandLine);\n            if (\n              intersect.features.length > 0 &&\n              intersect.features[0].geometry\n            ) {\n              const intersect_ = intersect.features[0];\n              const expandDist = Math.sqrt(\n                Math.pow(expand.bakw[0] - centroid.bakw[0], 2) +\n                  Math.pow(expand.bakw[1] - centroid.bakw[1], 2)\n              );\n              const onSideDist = Math.sqrt(\n                Math.pow(\n                  (intersect_.geometry as any).coordinates[0] -\n                    centroid.bakw[0],\n                  2\n                ) +\n                  Math.pow(\n                    (intersect_.geometry as any).coordinates[1] -\n                      centroid.bakw[1],\n                    2\n                  )\n              );\n              const rate = expandDist / onSideDist;\n              if (rate > expandRate[i]) expandRate[i] = rate;\n              if (rate > expandRate[j]) expandRate[j] = rate;\n            }\n          });\n        }\n        verticesSet = verticesSet.map((vertex: any, index: any) => {\n          const rate = expandRate[index];\n          const point = [\n            (vertex.bakw[0] - centroid.bakw[0]) * rate + centroid.bakw[0],\n            (vertex.bakw[1] - centroid.bakw[1]) * rate + centroid.bakw[1]\n          ];\n          return { forw: vertex.forw, bakw: point };\n        });\n        return [verticesSet, pointsSet];\n      })\n      .then(prevResults => {\n        const verticesSet = prevResults[0];\n        const pointsSet = prevResults[1];\n        const verticesList = { forw: [] as any[], bakw: [] as any[] };\n        for (let i = 0; i < verticesSet.length; i++) {\n          const forVertex = verticesSet[i].forw;\n          const bakVertex = verticesSet[i].bakw;\n          const forVertexFt = createPoint(forVertex, bakVertex, `b${i}`);\n          const bakVertexFt = counterPoint(forVertexFt);\n          pointsSet.forw.features.push(forVertexFt);\n          pointsSet.bakw.features.push(bakVertexFt);\n          verticesList.forw.push(forVertexFt);\n          verticesList.bakw.push(bakVertexFt);\n        }\n        (this as any).pointsSet = pointsSet;\n        this.tins = {\n          forw: rotateVerticesTriangle(\n            constrainedTin(pointsSet.forw, pointsSet.edges, \"target\")\n          )\n        };\n        let prom;\n        if (strict == Tin.MODE_STRICT || strict == Tin.MODE_AUTO) {\n          prom = this.calcurateStrictTinAsync();\n        } else {\n          prom = Promise.resolve();\n        }\n        return prom\n          .then(() => {\n            if (\n              strict == Tin.MODE_LOOSE ||\n              (strict == Tin.MODE_AUTO &&\n                this.strict_status == Tin.STATUS_ERROR)\n            ) {\n              this.tins!.bakw = rotateVerticesTriangle(\n                constrainedTin(pointsSet.bakw, pointsSet.edges, \"target\")\n              );\n              delete this.kinks;\n              this.strict_status = Tin.STATUS_LOOSE;\n            }\n            this.vertices_params = {\n              forw: vertexCalc(verticesList.forw, this.centroid!.forw) as any,\n              bakw: vertexCalc(verticesList.bakw, this.centroid!.bakw) as any\n            };\n            this.addIndexedTin();\n            return this.calculatePointsWeightAsync();\n          })\n          .catch(err => {\n            throw err;\n          });\n      })\n      .catch(err => {\n        throw err;\n      });\n  }\n  transform(apoint: number[], backward?: boolean, ignoreBounds?: boolean) {\n    if (backward && this.strict_status == Tin.STATUS_ERROR)\n      throw 'Backward transform is not allowed if strict_status == \"strict_error\"';\n    // if (!this.tins) this.updateTin();\n    if (this.yaxisMode == Tin.YAXIS_FOLLOW && backward) {\n      apoint = [apoint[0], -1 * apoint[1]];\n    }\n    const tpoint = point(apoint);\n    if (this.bounds && !backward && !ignoreBounds) {\n      if (!booleanPointInPolygon(tpoint, this.boundsPolygon!)) return false;\n    }\n    const tins = backward ? this.tins!.bakw : this.tins!.forw;\n    const indexedTins = backward\n      ? this.indexedTins!.bakw\n      : this.indexedTins!.forw;\n    const verticesParams = backward\n      ? this.vertices_params!.bakw\n      : this.vertices_params!.forw;\n    const centroid = backward ? this.centroid!.bakw : this.centroid!.forw;\n    const weightBuffer = backward\n      ? this.pointsWeightBuffer!.bakw\n      : this.pointsWeightBuffer!.forw;\n    let stateTriangle = undefined,\n      stateSetFunc = undefined;\n    if (this.stateFull) {\n      if (this.stateBackward == backward) {\n        stateTriangle = this.stateTriangle;\n      } else {\n        this.stateBackward = backward;\n        this.stateTriangle = undefined;\n      }\n      stateSetFunc = (tri?: Tri) => {\n        this.stateTriangle = tri;\n      };\n    }\n    let ret = transformArr(\n      tpoint,\n      tins!,\n      indexedTins,\n      verticesParams,\n      centroid,\n      weightBuffer,\n      stateTriangle,\n      stateSetFunc\n    );\n    if (this.bounds && backward && !ignoreBounds) {\n      const rpoint = point(ret);\n      if (!booleanPointInPolygon(rpoint, this.boundsPolygon!)) return false;\n    } else if (this.yaxisMode == Tin.YAXIS_FOLLOW && !backward) {\n      ret = [ret[0], -1 * ret[1]];\n    }\n    return ret;\n  }\n  calculatePointsWeightAsync() {\n    const calcTargets: BiDirectionKey[] = [\"forw\"];\n    if (this.strict_status == Tin.STATUS_LOOSE) calcTargets.push(\"bakw\");\n    const weightBuffer: any = {}; // Type of this is not WeightBufferBD\n    return Promise.all(\n      calcTargets.map(target => {\n        weightBuffer[target] = {};\n        const alreadyChecked: any = {};\n        const tin = this.tins![target];\n        return Promise.all(\n          tin!.features.map((tri: Tri) => {\n            const vtxes = [\"a\", \"b\", \"c\"] as PropertyTriKey[];\n            return new Promise(resolve => {\n              for (let i = 0; i < 3; i++) {\n                const j = (i + 1) % 3;\n                const vi = vtxes[i];\n                const vj = vtxes[j];\n                const indexi = tri.properties![vi].index;\n                const indexj = tri.properties![vj].index;\n                const key = [indexi, indexj].sort().join(\"-\");\n                if (!alreadyChecked[key]) {\n                  const fromi = tri.geometry!.coordinates[0][i];\n                  const fromj = tri.geometry!.coordinates[0][j];\n                  const toi = tri.properties![vi].geom;\n                  const toj = tri.properties![vj].geom;\n                  alreadyChecked[key] = 1;\n                  const weight =\n                    Math.sqrt(\n                      Math.pow(toi[0] - toj[0], 2) +\n                        Math.pow(toi[1] - toj[1], 2)\n                    ) /\n                    Math.sqrt(\n                      Math.pow(fromi[0] - fromj[0], 2) +\n                        Math.pow(fromi[1] - fromj[1], 2)\n                    );\n                  if (!weightBuffer[target]![indexi])\n                    weightBuffer[target][indexi] = {};\n                  if (!weightBuffer[target]![indexj])\n                    weightBuffer[target][indexj] = {};\n                  weightBuffer[target]![indexi][key] = weight;\n                  weightBuffer[target]![indexj][key] = weight;\n                }\n              }\n              resolve(undefined);\n            });\n          })\n        ).catch(err => {\n          throw err;\n        });\n      })\n    )\n      .then(() => {\n        const pointsWeightBuffer: WeightBufferBD = {};\n        calcTargets.map(target => {\n          pointsWeightBuffer[target] = {};\n          if (this.strict_status == Tin.STATUS_STRICT)\n            pointsWeightBuffer[\"bakw\"] = {};\n          Object.keys(weightBuffer[target]).map(vtx => {\n            pointsWeightBuffer[target]![vtx] = Object.keys(\n              weightBuffer[target][vtx]\n            ).reduce((prev, key, idx, arr) => {\n              prev = prev + weightBuffer[target][vtx][key];\n              return idx == arr.length - 1 ? prev / arr.length : prev;\n            }, 0);\n            if (this.strict_status == Tin.STATUS_STRICT)\n              pointsWeightBuffer[\"bakw\"]![vtx] =\n                1 / pointsWeightBuffer[target]![vtx];\n          });\n          pointsWeightBuffer[target]![\"c\"] = [0, 1, 2, 3].reduce(\n            (prev, curr) => {\n              const key = `b${curr}`;\n              prev = prev + pointsWeightBuffer[target]![key];\n              return curr == 3 ? prev / 4 : prev;\n            },\n            0\n          );\n          if (this.strict_status == Tin.STATUS_STRICT)\n            pointsWeightBuffer[\"bakw\"]![\"c\"] =\n              1 / pointsWeightBuffer[target]![\"c\"];\n        });\n        this.pointsWeightBuffer = pointsWeightBuffer;\n      })\n      .catch(err => {\n        throw err;\n      });\n  }\n}\nfunction rotateVerticesTriangle(tins: Tins) {\n  const features = tins.features;\n  for (let i = 0; i < features.length; i++) {\n    const feature = features[i];\n    if (\n      `${feature.properties!.a.index}`.substring(0, 1) === \"b\" &&\n      `${feature.properties!.b.index}`.substring(0, 1) === \"b\"\n    ) {\n      features[i] = {\n        geometry: {\n          type: \"Polygon\",\n          coordinates: [\n            [\n              feature.geometry!.coordinates[0][2],\n              feature.geometry!.coordinates[0][0],\n              feature.geometry!.coordinates[0][1],\n              feature.geometry!.coordinates[0][2]\n            ]\n          ]\n        },\n        properties: {\n          a: {\n            geom: feature.properties!.c.geom,\n            index: feature.properties!.c.index\n          },\n          b: {\n            geom: feature.properties!.a.geom,\n            index: feature.properties!.a.index\n          },\n          c: {\n            geom: feature.properties!.b.geom,\n            index: feature.properties!.b.index\n          }\n        },\n        type: \"Feature\"\n      };\n    } else if (\n      `${feature.properties!.c.index}`.substring(0, 1) === \"b\" &&\n      `${feature.properties!.a.index}`.substring(0, 1) === \"b\"\n    ) {\n      features[i] = {\n        geometry: {\n          type: \"Polygon\",\n          coordinates: [\n            [\n              feature.geometry!.coordinates[0][1],\n              feature.geometry!.coordinates[0][2],\n              feature.geometry!.coordinates[0][0],\n              feature.geometry!.coordinates[0][1]\n            ]\n          ]\n        },\n        properties: {\n          a: {\n            geom: feature.properties!.b.geom,\n            index: feature.properties!.b.index\n          },\n          b: {\n            geom: feature.properties!.c.geom,\n            index: feature.properties!.c.index\n          },\n          c: {\n            geom: feature.properties!.a.geom,\n            index: feature.properties!.a.index\n          }\n        },\n        type: \"Feature\"\n      };\n    }\n  }\n  return tins;\n}\n\nfunction vertexCalc(list: any, centroid: any) {\n  const centCoord = centroid.geometry.coordinates;\n  return [0, 1, 2, 3]\n    .map(i => {\n      const j = (i + 1) % 4;\n      const itemi = list[i];\n      const itemj = list[j];\n      const coord = itemi.geometry.coordinates;\n      const radian = Math.atan2(\n        coord[0] - centCoord[0],\n        coord[1] - centCoord[1]\n      );\n      const coordinates = [centroid, itemi, itemj, centroid].map(\n        point => point.geometry.coordinates\n      );\n      const properties = {\n        a: {\n          geom: centroid.properties.target.geom,\n          index: centroid.properties.target.index\n        },\n        b: {\n          geom: itemi.properties.target.geom,\n          index: itemi.properties.target.index\n        },\n        c: {\n          geom: itemj.properties.target.geom,\n          index: itemj.properties.target.index\n        }\n      };\n      const tin = featureCollection([polygon([coordinates], properties)]);\n      return [radian, tin];\n    })\n    .reduce(\n      (prev, curr) => {\n        prev[0].push(curr[0]);\n        prev[1].push(curr[1]);\n        return prev;\n      },\n      [[] as any[], [] as any[]]\n    );\n}\nfunction normalizeRadian(target: any, noNegative = false) {\n  const rangeFunc = noNegative\n    ? function (val: any) {\n        return !(val >= 0 && val < Math.PI * 2);\n      }\n    : function (val: any) {\n        return !(val > -1 * Math.PI && val <= Math.PI);\n      };\n  while (rangeFunc(target)) {\n    target = target + 2 * Math.PI * (target > 0 ? -1 : 1);\n  }\n  return target;\n}\nfunction decideUseVertex(radian: any, radianList: any) {\n  let idel = normalizeRadian(radian - radianList[0]);\n  let minTheta = Math.PI * 2;\n  let minIndex;\n  for (let i = 0; i < radianList.length; i++) {\n    const j = (i + 1) % radianList.length;\n    const jdel = normalizeRadian(radian - radianList[j]);\n    const minDel = Math.min(Math.abs(idel), Math.abs(jdel));\n    if (idel * jdel <= 0 && minDel < minTheta) {\n      minTheta = minDel;\n      minIndex = i;\n    }\n    idel = jdel;\n  }\n  return minIndex;\n}\nfunction createPoint(xy: any, geom: any, index: any) {\n  return point(xy, { target: { geom, index } });\n}\nfunction counterPoint(apoint: any) {\n  return point(apoint.properties.target.geom, {\n    target: {\n      geom: apoint.geometry.coordinates,\n      index: apoint.properties.target.index\n    }\n  });\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction transformTin(of: any, tri: any, weightBuffer: any) {\n  return point(transformTinArr(of, tri, weightBuffer));\n}\n\nfunction transformTinArr(of: any, tri: any, weightBuffer: any) {\n  const a = tri.geometry.coordinates[0][0];\n  const b = tri.geometry.coordinates[0][1];\n  const c = tri.geometry.coordinates[0][2];\n  const o = of.geometry.coordinates;\n  const ad = tri.properties.a.geom;\n  const bd = tri.properties.b.geom;\n  const cd = tri.properties.c.geom;\n  const ab = [b[0] - a[0], b[1] - a[1]];\n  const ac = [c[0] - a[0], c[1] - a[1]];\n  const ao = [o[0] - a[0], o[1] - a[1]];\n  const abd = [bd[0] - ad[0], bd[1] - ad[1]];\n  const acd = [cd[0] - ad[0], cd[1] - ad[1]];\n  let abv = (ac[1] * ao[0] - ac[0] * ao[1]) / (ab[0] * ac[1] - ab[1] * ac[0]);\n  let acv = (ab[0] * ao[1] - ab[1] * ao[0]) / (ab[0] * ac[1] - ab[1] * ac[0]);\n  // Considering weight\n  if (weightBuffer) {\n    const aW = weightBuffer[tri.properties.a.index];\n    const bW = weightBuffer[tri.properties.b.index];\n    const cW = weightBuffer[tri.properties.c.index];\n    let nabv;\n    if (abv < 0 || acv < 0 || 1 - abv - acv < 0) {\n      const normB = abv / (abv + acv);\n      const normC = acv / (abv + acv);\n      nabv = abv / bW / (normB / bW + normC / cW);\n      acv = acv / cW / (normB / bW + normC / cW);\n    } else {\n      nabv = abv / bW / (abv / bW + acv / cW + (1 - abv - acv) / aW);\n      acv = acv / cW / (abv / bW + acv / cW + (1 - abv - acv) / aW);\n    }\n    abv = nabv;\n  }\n  return [\n    abv * abd[0] + acv * acd[0] + ad[0],\n    abv * abd[1] + acv * acd[1] + ad[1]\n  ];\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction useVertices(\n  o: Feature<Point>,\n  verticesParams: VerticesParams,\n  centroid: Centroid,\n  weightBuffer: WeightBuffer\n): Feature<Point> {\n  return point(useVerticesArr(o, verticesParams, centroid, weightBuffer));\n}\n\nfunction useVerticesArr(\n  o: Feature<Point>,\n  verticesParams: VerticesParams,\n  centroid: Centroid,\n  weightBuffer: WeightBuffer\n): Position {\n  const coord = o.geometry!.coordinates;\n  const centCoord = centroid.geometry!.coordinates;\n  const radian = Math.atan2(coord[0] - centCoord[0], coord[1] - centCoord[1]);\n  const index = decideUseVertex(radian, verticesParams[0]);\n  const tin = verticesParams[1]![index as any];\n  return transformTinArr(o, tin.features[0], weightBuffer);\n}\nfunction hit(point: Feature<Point>, tins: Tins): Tri | undefined {\n  for (let i = 0; i < tins.features.length; i++) {\n    const inside = booleanPointInPolygon(point, tins.features[i]);\n    if (inside) {\n      return tins.features[i];\n    }\n  }\n}\nfunction unitCalc(\n  coord: number,\n  origin: number,\n  unit: number,\n  gridNum: number\n) {\n  let normCoord = Math.floor((coord - origin) / unit);\n  if (normCoord >= gridNum) normCoord = gridNum - 1;\n  return normCoord;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction transform(\n  apoint: Feature<Point>,\n  tins: Tins,\n  indexedTins?: IndexedTins,\n  verticesParams?: VerticesParams,\n  centroid?: Centroid,\n  weightBuffer?: WeightBuffer,\n  stateTriangle?: Tri,\n  stateSetFunc?: (tri?: Tri) => void\n): Feature<Point> {\n  return point(\n    transformArr(\n      apoint,\n      tins,\n      indexedTins,\n      verticesParams,\n      centroid,\n      weightBuffer,\n      stateTriangle,\n      stateSetFunc\n    )\n  );\n}\nfunction transformArr(\n  point: Feature<Point>,\n  tins: Tins,\n  indexedTins?: IndexedTins,\n  verticesParams?: VerticesParams,\n  centroid?: Centroid,\n  weightBuffer?: WeightBuffer,\n  stateTriangle?: Tri,\n  stateSetFunc?: (tri?: Tri) => void\n): Position {\n  let tin: Tri | undefined;\n  if (stateTriangle) {\n    tin = hit(point, featureCollection([stateTriangle]));\n  }\n  if (!tin) {\n    if (indexedTins) {\n      const coords = point.geometry!.coordinates;\n      const gridNum = indexedTins.gridNum;\n      const xOrigin = indexedTins.xOrigin;\n      const yOrigin = indexedTins.yOrigin;\n      const xUnit = indexedTins.xUnit;\n      const yUnit = indexedTins.yUnit;\n      const gridCache = indexedTins.gridCache;\n      const normX = unitCalc(coords[0], xOrigin, xUnit, gridNum);\n      const normY = unitCalc(coords[1], yOrigin, yUnit, gridNum);\n      const tinsKey = gridCache[normX]\n        ? gridCache[normX][normY]\n          ? gridCache[normX][normY]\n          : []\n        : [];\n      tins = featureCollection(tinsKey.map((key: any) => tins.features[key]));\n    }\n    tin = hit(point, tins);\n  }\n  if (stateSetFunc) stateSetFunc(tin);\n  return tin\n    ? transformTinArr(point, tin, weightBuffer)\n    : useVerticesArr(point, verticesParams!, centroid!, weightBuffer!);\n}\nfunction counterTri(tri: Tri): Tri {\n  const coordinates = ([\"a\", \"b\", \"c\", \"a\"] as PropertyTriKey[]).map(\n    key => tri.properties![key].geom\n  );\n  const geoms = tri.geometry!.coordinates[0];\n  const props = tri.properties!;\n  const properties = {\n    a: { geom: geoms[0], index: props[\"a\"].index },\n    b: { geom: geoms[1], index: props[\"b\"].index },\n    c: { geom: geoms[2], index: props[\"c\"].index }\n  };\n  return polygon([coordinates], properties);\n}\nfunction buildTri(points: [Position[], string | number][]): Tri {\n  const coordinates = [0, 1, 2, 0].map(i => points[i][0][0]);\n  const properties = {\n    a: { geom: points[0][0][1], index: points[0][1] },\n    b: { geom: points[1][0][1], index: points[1][1] },\n    c: { geom: points[2][0][1], index: points[2][1] }\n  };\n  return polygon([coordinates], properties);\n}\nfunction indexesToTri(\n  indexes: (number | string)[],\n  points: Position[][],\n  edgeNodes: Position[][],\n  cent: Position[],\n  bboxes: Position[][],\n  bakw = false,\n  version?: number\n): Tri {\n  const points_: [Position[], string | number][] = indexes.map(\n    (index: number | string) => {\n      if (!version || version < 2.00703) index = normalizeNodeKey(index);\n      const point_base = isFinite(index as any)\n        ? points[index as number]\n        : index === \"c\"\n        ? cent\n        : index === \"b0\"\n        ? bboxes[0]\n        : index === \"b1\"\n        ? bboxes[1]\n        : index === \"b2\"\n        ? bboxes[2]\n        : index === \"b3\"\n        ? bboxes[3]\n        : (function () {\n            const match = (index as string).match(/e(\\d+)/);\n            if (match) {\n              const nodeIndex = parseInt(match[1]);\n              return edgeNodes[nodeIndex];\n            }\n            throw \"Bad index value for indexesToTri\";\n          })();\n      return bakw\n        ? [[point_base![1], point_base![0]], index]\n        : [[point_base![0], point_base![1]], index];\n    }\n  );\n  return buildTri(points_);\n}\n\n// After 7.0.3 Normalizing node index key\nfunction normalizeNodeKey(index: number | string) {\n  if (typeof index === \"number\") return index;\n  return index.replace(/^(c|e|b)(?:ent|dgeNode|box)(\\d+)?$/, \"$1$2\");\n}\n\nfunction normalizeEdges(\n  edges: Edge[] | EdgeLegacy[],\n  version?: number\n): Edge[] {\n  if ((version && version >= 2.00703) || Array.isArray(edges[0]))\n    return edges as Edge[];\n  return (edges as EdgeLegacy[]).map(edge => [\n    edge.illstNodes,\n    edge.mercNodes,\n    edge.startEnd\n  ]);\n}\n\nfunction overlapCheckAsync(searchIndex: SearchIndex) {\n  const retValue = { forw: {} as any, bakw: {} as any };\n  return Promise.all(\n    Object.keys(searchIndex).map(\n      key =>\n        new Promise(resolve => {\n          const searchResult = searchIndex[key];\n          if (searchResult.length < 2) return resolve(undefined);\n          ([\"forw\", \"bakw\"] as BiDirectionKey[]).map(dir => {\n            const result = intersect(\n              searchResult[0][dir],\n              searchResult[1][dir]\n            );\n            if (\n              !result ||\n              (result.geometry as any).type == \"Point\" ||\n              (result.geometry as any).type == \"LineString\"\n            )\n              return resolve(undefined);\n            resolve(undefined);\n          });\n        })\n    )\n  )\n    .then(() => {\n      if (Object.keys(retValue.forw).length == 0) delete retValue.forw;\n      if (Object.keys(retValue.bakw).length == 0) delete retValue.bakw;\n      return retValue;\n    })\n    .catch(err => {\n      throw err;\n    });\n}\nfunction insertSearchIndex(\n  searchIndex: SearchIndex,\n  tris: SearchTris,\n  tins?: TinsBD\n) {\n  const keys = calcSearchKeys(tris.forw);\n  const bakKeys = calcSearchKeys(tris.bakw);\n  if (JSON.stringify(keys) != JSON.stringify(bakKeys))\n    throw `${JSON.stringify(tris, null, 2)}\\n${JSON.stringify(\n      keys\n    )}\\n${JSON.stringify(bakKeys)}`;\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (!searchIndex[key]) searchIndex[key] = [];\n    searchIndex[key].push(tris);\n  }\n  if (tins) {\n    tins.forw!.features.push(tris.forw);\n    tins.bakw!.features.push(tris.bakw);\n  }\n}\nfunction removeSearchIndex(\n  searchIndex: SearchIndex,\n  tris: SearchTris,\n  tins?: TinsBD\n) {\n  const keys = calcSearchKeys(tris.forw);\n  const bakKeys = calcSearchKeys(tris.bakw);\n  if (JSON.stringify(keys) != JSON.stringify(bakKeys))\n    throw `${JSON.stringify(tris, null, 2)}\\n${JSON.stringify(\n      keys\n    )}\\n${JSON.stringify(bakKeys)}`;\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    const newArray = searchIndex[key].filter(\n      (eachTris: any) => eachTris.forw != tris.forw\n    );\n    if (newArray.length == 0) delete searchIndex[key];\n    else searchIndex[key] = newArray;\n  }\n  if (tins) {\n    let newArray = tins.forw!.features.filter(\n      (eachTri: Tri) => eachTri != tris.forw\n    );\n    tins.forw!.features = newArray;\n    newArray = tins.bakw!.features.filter(\n      (eachTri: Tri) => eachTri != tris.bakw\n    );\n    tins.bakw!.features = newArray;\n  }\n}\n\nfunction calcSearchKeys(tri: Tri): string[] {\n  const vtx = ([\"a\", \"b\", \"c\"] as PropertyTriKey[]).map(\n    key => tri.properties![key].index\n  );\n  return [\n    [0, 1],\n    [0, 2],\n    [1, 2],\n    [0, 1, 2]\n  ]\n    .map(set =>\n      set\n        .map(i => vtx[i])\n        .sort()\n        .join(\"-\")\n    )\n    .sort();\n}\n\n// @ts-ignore\nglobal.Tin = Tin;\n","import polygonClipping from \"polygon-clipping\";\nimport { getGeom } from \"@turf/invariant\";\nimport { multiPolygon, polygon } from \"@turf/helpers\";\n/**\n * Takes two {@link (Multi)Polygon(s)} and returns a combined polygon. If the input polygons are not contiguous, this function returns a {@link MultiPolygon} feature.\n *\n * @name union\n * @param {Feature<Polygon|MultiPolygon>} polygon1 input Polygon feature\n * @param {Feature<Polygon|MultiPolygon>} polygon2 Polygon feature to difference from polygon1\n * @param {Object} [options={}] Optional Parameters\n * @param {Object} [options.properties={}] Translate Properties to output Feature\n * @returns {Feature<(Polygon|MultiPolygon)>} a combined {@link Polygon} or {@link MultiPolygon} feature, or null if the inputs are empty\n * @example\n * var poly1 = turf.polygon([[\n *     [-82.574787, 35.594087],\n *     [-82.574787, 35.615581],\n *     [-82.545261, 35.615581],\n *     [-82.545261, 35.594087],\n *     [-82.574787, 35.594087]\n * ]], {\"fill\": \"#0f0\"});\n * var poly2 = turf.polygon([[\n *     [-82.560024, 35.585153],\n *     [-82.560024, 35.602602],\n *     [-82.52964, 35.602602],\n *     [-82.52964, 35.585153],\n *     [-82.560024, 35.585153]\n * ]], {\"fill\": \"#00f\"});\n *\n * var union = turf.union(poly1, poly2);\n *\n * //addToMap\n * var addToMap = [poly1, poly2, union];\n */\nfunction union(poly1, poly2, options) {\n    if (options === void 0) { options = {}; }\n    var geom1 = getGeom(poly1);\n    var geom2 = getGeom(poly2);\n    var unioned = polygonClipping.union(geom1.coordinates, geom2.coordinates);\n    if (unioned.length === 0)\n        return null;\n    if (unioned.length === 1)\n        return polygon(unioned[0], options.properties);\n    else\n        return multiPolygon(unioned, options.properties);\n}\nexport default union;\n","import { coordEach } from \"@turf/meta\";\nimport { point } from \"@turf/helpers\";\n/**\n * Takes one or more features and calculates the centroid using the mean of all vertices.\n * This lessens the effect of small islands and artifacts when calculating the centroid of a set of polygons.\n *\n * @name centroid\n * @param {GeoJSON} geojson GeoJSON to be centered\n * @param {Object} [options={}] Optional Parameters\n * @param {Object} [options.properties={}] an Object that is used as the {@link Feature}'s properties\n * @returns {Feature<Point>} the centroid of the input features\n * @example\n * var polygon = turf.polygon([[[-81, 41], [-88, 36], [-84, 31], [-80, 33], [-77, 39], [-81, 41]]]);\n *\n * var centroid = turf.centroid(polygon);\n *\n * //addToMap\n * var addToMap = [polygon, centroid]\n */\nfunction centroid(geojson, options) {\n    if (options === void 0) { options = {}; }\n    var xSum = 0;\n    var ySum = 0;\n    var len = 0;\n    coordEach(geojson, function (coord) {\n        xSum += coord[0];\n        ySum += coord[1];\n        len++;\n    }, true);\n    return point([xSum / len, ySum / len], options.properties);\n}\nexport default centroid;\n","import { multiPolygon, polygon, } from \"@turf/helpers\";\nimport { getGeom } from \"@turf/invariant\";\nimport polygonClipping from \"polygon-clipping\";\n/**\n * Takes two {@link Polygon|polygon} or {@link MultiPolygon|multi-polygon} geometries and\n * finds their polygonal intersection. If they don't intersect, returns null.\n *\n * @name intersect\n * @param {Feature<Polygon | MultiPolygon>} poly1 the first polygon or multipolygon\n * @param {Feature<Polygon | MultiPolygon>} poly2 the second polygon or multipolygon\n * @param {Object} [options={}] Optional Parameters\n * @param {Object} [options.properties={}] Translate GeoJSON Properties to Feature\n * @returns {Feature|null} returns a feature representing the area they share (either a {@link Polygon} or\n * {@link MultiPolygon}). If they do not share any area, returns `null`.\n * @example\n * var poly1 = turf.polygon([[\n *   [-122.801742, 45.48565],\n *   [-122.801742, 45.60491],\n *   [-122.584762, 45.60491],\n *   [-122.584762, 45.48565],\n *   [-122.801742, 45.48565]\n * ]]);\n *\n * var poly2 = turf.polygon([[\n *   [-122.520217, 45.535693],\n *   [-122.64038, 45.553967],\n *   [-122.720031, 45.526554],\n *   [-122.669906, 45.507309],\n *   [-122.723464, 45.446643],\n *   [-122.532577, 45.408574],\n *   [-122.487258, 45.477466],\n *   [-122.520217, 45.535693]\n * ]]);\n *\n * var intersection = turf.intersect(poly1, poly2);\n *\n * //addToMap\n * var addToMap = [poly1, poly2, intersection];\n */\nexport default function intersect(poly1, poly2, options) {\n    if (options === void 0) { options = {}; }\n    var geom1 = getGeom(poly1);\n    var geom2 = getGeom(poly2);\n    var intersection = polygonClipping.intersection(geom1.coordinates, geom2.coordinates);\n    if (intersection.length === 0)\n        return null;\n    if (intersection.length === 1)\n        return polygon(intersection[0], options.properties);\n    return multiPolygon(intersection, options.properties);\n}\n"],"sourceRoot":""}